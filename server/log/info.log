2025-11-08T09:59:59.593+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897009889547784192 sendId:3 recvOk:1762567199202 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T09:59:59.614+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T09:59:59.648+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897010158973095936 sendId:4 recvOk:1762567199202 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T09:59:59.675+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T09:59:59.718+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897010292779782144 sendId:5 recvOk:1762567199202 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T09:59:59.735+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T09:59:59.826+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897011739290374144 sendId:2 recvOk:1762567199203 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T09:59:59.842+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T09:59:59.843+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897014027253846016 sendId:2 recvOk:1762567199203 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T09:59:59.859+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T09:59:59.943+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897014054390992896 sendId:3 recvOk:1762567199203 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T09:59:59.953+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T09:59:59.954+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897014084724199424 sendId:4 recvOk:1762567199203 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T09:59:59.965+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T09:59:59.991+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897014305701105664 sendId:5 recvOk:1762567199203 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:00:00.002+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:00:00.036+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897014354891902976 sendId:6 recvOk:1762567199203 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:00:00.046+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:00:00.081+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897014454175272960 sendId:7 recvOk:1762567199203 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:00:00.103+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:00:00.128+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897015963411681280 sendId:2 recvOk:1762567199203 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:00:00.148+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:00:00.174+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897015990553022464 sendId:3 recvOk:1762567199203 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:00:00.194+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:00:00.221+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897017147501449216 sendId:2 recvOk:1762567199203 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:00:00.239+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:00:00.265+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897019540939083776 sendId:2 recvOk:1762567199203 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:00:00.275+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:00:00.311+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897020556275224576 sendId:2 recvOk:1762567199204 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:00:00.333+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:00:00.358+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897329779559239680 sendId:2 recvOk:1762567199204 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:00:00.368+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:00:00.407+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897337017262804992 sendId:2 recvOk:1762567199204 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:00:00.424+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:00:00.519+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897404904094699520 sendId:2 recvOk:1762567199204 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:00:00.532+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:00:00.532+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897408401091465216 sendId:2 recvOk:1762567199204 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:00:00.546+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:00:00.573+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897408412147650560 sendId:3 recvOk:1762567199204 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:00:00.594+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:00:00.627+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897408429243633664 sendId:4 recvOk:1762567199204 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:00:00.640+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:00:00.692+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897408441096736768 sendId:5 recvOk:1762567199204 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:00:00.723+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:00:00.773+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897408454845665280 sendId:6 recvOk:1762567199204 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:00:00.794+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:00:00.794+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897408484994322432 sendId:7 recvOk:1762567199204 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:00:00.810+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:00:00.819+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897410935155724288 sendId:2 recvOk:1762567199204 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:00:00.840+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:00:00.871+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897410947952545792 sendId:3 recvOk:1762567199205 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:00:00.889+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:00:00.982+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897410959256195072 sendId:4 recvOk:1762567199205 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:00:00.995+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:00:00.995+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897410972837351424 sendId:5 recvOk:1762567199205 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:00:01.006+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:00:01.038+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897410994643537920 sendId:6 recvOk:1762567199205 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:00:01.058+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:00:27.024+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1041) from 10001 -> 10006	{"msg": "MsgChat{msgId: 907087139932606464, userId: 10001, fromId: 10001, toId: 10006, tm: 1762567227072 (time: 2025-11-08 10:00:27), devId: \"47FCC883FB83DD2D\", sendId: 1041, msgType: TEXT, data: \"1\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-08T10:00:27.033+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-08T10:00:27.034+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:00:33.860+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1042) from 10001 -> 10006	{"msg": "MsgChat{msgId: 907087168604868608, userId: 10001, fromId: 10001, toId: 10006, tm: 1762567233924 (time: 2025-11-08 10:00:33), devId: \"47FCC883FB83DD2D\", sendId: 1042, msgType: TEXT, data: \"äºŒ\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-08T10:00:33.873+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-08T10:00:33.873+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:00:36.649+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1043) from 10001 -> 10006	{"msg": "MsgChat{msgId: 907087180302782464, userId: 10001, fromId: 10001, toId: 10006, tm: 1762567236702 (time: 2025-11-08 10:00:36), devId: \"47FCC883FB83DD2D\", sendId: 1043, msgType: TEXT, data: \"ä¸‰\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-08T10:00:36.658+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-08T10:00:36.659+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:00:39.979+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1044) from 10001 -> 10006	{"msg": "MsgChat{msgId: 907087194269814784, userId: 10001, fromId: 10001, toId: 10006, tm: 1762567240037 (time: 2025-11-08 10:00:40), devId: \"47FCC883FB83DD2D\", sendId: 1044, msgType: TEXT, data: \"å››\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-08T10:00:39.990+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-08T10:00:39.991+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:00:42.793+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1045) from 10001 -> 10006	{"msg": "MsgChat{msgId: 907087206072586240, userId: 10001, fromId: 10001, toId: 10006, tm: 1762567242770 (time: 2025-11-08 10:00:42), devId: \"47FCC883FB83DD2D\", sendId: 1045, msgType: TEXT, data: \"äº”\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-08T10:00:42.801+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-08T10:00:42.801+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:00:48.324+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(907087021468684288) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-08T10:00:48.327+0800	[34mINFO[0m	core/session.go:256	user(10001) session(907087021468684288)
2025-11-08T10:00:49.008+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"V4C0Pukb/NeZWa7NzDBAo85mxYjBJKp6xOIrZNI=\"}"}
2025-11-08T10:00:49.009+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-08T10:00:49.010+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762567249009,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T10:00:49.107+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T10:00:49.107+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907087231565565952) MsgTFriendOpRet
2025-11-08T10:00:49.153+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T10:00:49.153+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907087231565565952) MsgTFriendOpRet
2025-11-08T10:00:49.184+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:907087206072586241 chatType:ChatTypeP2P"}
2025-11-08T10:00:49.199+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 0}
2025-11-08T10:01:06.038+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:896655091929583616 recvOk:1762567266021 readOk:1762567266021 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:01:06.065+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:02:30.544+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "userId:10006 bigId:896647116074651648 synType:SynTypeBackward chatType:ChatTypeP2P"}
2025-11-08T10:02:30.584+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 1}
2025-11-08T10:02:30.632+0800	[35mDEBUG[0m	core/commonmsggen.go:38	search friend mode is not supported	{"user id": 10001, "err code": 14}
2025-11-08T10:02:32.669+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "userId:10006 bigId:896647116074651648 synType:SynTypeBackward chatType:ChatTypeP2P"}
2025-11-08T10:02:32.689+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 1}
2025-11-08T10:02:32.771+0800	[35mDEBUG[0m	core/commonmsggen.go:38	search friend mode is not supported	{"user id": 10001, "err code": 14}
2025-11-08T10:06:01.980+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(907087231565565952) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-08T10:06:01.981+0800	[34mINFO[0m	core/session.go:256	user(10001) session(907087231565565952)
2025-11-08T10:06:03.311+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"ensDiu/ZB7grw39zo8lmVOvn3HviJhhOLy+SAx4=\"}"}
2025-11-08T10:06:03.312+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-08T10:06:03.312+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762567563312,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T10:06:03.455+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T10:06:03.455+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907088549642375168) MsgTFriendOpRet
2025-11-08T10:06:03.502+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T10:06:03.502+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907088549642375168) MsgTFriendOpRet
2025-11-08T10:06:48.570+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(907088549642375168) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-08T10:06:48.571+0800	[34mINFO[0m	core/session.go:256	user(10001) session(907088549642375168)
2025-11-08T10:06:59.863+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"xF9C3ZZJMBxgefJcwuKImYFuirlYZ6cme1ZNNc0=\"}"}
2025-11-08T10:06:59.864+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-08T10:06:59.864+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762567619864,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T10:06:59.937+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T10:06:59.937+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907088787266473984) MsgTFriendOpRet
2025-11-08T10:06:59.967+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T10:06:59.968+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907088787266473984) MsgTFriendOpRet
2025-11-08T10:07:12.225+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(907088787266473984) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-08T10:07:12.227+0800	[34mINFO[0m	core/session.go:256	user(10001) session(907088787266473984)
2025-11-08T10:08:45.410+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"7ncdLChANM2LGgWFYu9wpmIaHf3AlRjTMIrjm3Q=\"}"}
2025-11-08T10:08:45.414+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-08T10:08:45.414+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762567725414,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T10:09:28.829+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(907089228561780736) close here, because ws:readLoop() error, err=read tcp 192.168.1.2:7817->192.168.1.31:42768: wsarecv: An existing connection was forcibly closed by the remote host.
2025-11-08T10:09:28.830+0800	[34mINFO[0m	core/session.go:256	user(10001) session(907089228561780736)
2025-11-08T10:11:18.344+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"K4r3Fw9gEYl+sFb9vjhvaY0mSJ3Qe/aZPBdgRRg=\"}"}
2025-11-08T10:11:18.346+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-08T10:11:18.347+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762567878346,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T10:11:18.500+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907089869786976256) MsgTFriendOpRet
2025-11-08T10:11:18.516+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T10:11:18.517+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907089869786976256) MsgTFriendOpRet
2025-11-08T10:11:18.600+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T10:11:18.600+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907089869786976256) MsgTFriendOpRet
2025-11-08T10:12:03.722+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(907089869786976256) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-08T10:12:03.723+0800	[34mINFO[0m	core/session.go:256	user(10001) session(907089869786976256)
2025-11-08T10:16:02.795+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"nC1HZEGx4HipYOtnp8aCmyliz4pBf83NkGKl9Xo=\"}"}
2025-11-08T10:16:02.798+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-08T10:16:02.800+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762568162798,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T10:16:02.885+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907091064429613056) MsgTFriendOpRet
2025-11-08T10:16:02.958+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T10:16:02.958+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907091064429613056) MsgTFriendOpRet
2025-11-08T10:16:03.012+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T10:16:03.013+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907091064429613056) MsgTFriendOpRet
2025-11-08T10:16:24.680+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1061) from 10001 -> 10006	{"msg": "MsgChat{msgId: 907091156632997888, userId: 10001, fromId: 10001, toId: 10006, tm: 1762568184661 (time: 2025-11-08 10:16:24), devId: \"47FCC883FB83DD2D\", sendId: 1061, msgType: TEXT, data: \"1\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-08T10:16:24.692+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-08T10:16:24.693+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:16:27.650+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1062) from 10001 -> 10006	{"msg": "MsgChat{msgId: 907091169090080768, userId: 10001, fromId: 10001, toId: 10006, tm: 1762568187662 (time: 2025-11-08 10:16:27), devId: \"47FCC883FB83DD2D\", sendId: 1062, msgType: TEXT, data: \"2\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-08T10:16:27.659+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-08T10:16:27.659+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:16:31.732+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1063) from 10001 -> 10006	{"msg": "MsgChat{msgId: 907091186211229696, userId: 10001, fromId: 10001, toId: 10006, tm: 1762568191810 (time: 2025-11-08 10:16:31), devId: \"47FCC883FB83DD2D\", sendId: 1063, msgType: TEXT, data: \"ä¸‰\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-08T10:16:31.742+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-08T10:16:31.742+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:16:38.095+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(907091064429613056) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-08T10:16:38.096+0800	[34mINFO[0m	core/session.go:256	user(10001) session(907091064429613056)
2025-11-08T10:16:41.576+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"pVc3VAWkxldw76M3o5rQdKTsrx9cgngnDu9CODM=\"}"}
2025-11-08T10:16:41.576+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-08T10:16:41.576+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762568201576,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T10:16:41.676+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907091226749177856) MsgTFriendOpRet
2025-11-08T10:16:41.742+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T10:16:41.742+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907091226749177856) MsgTFriendOpRet
2025-11-08T10:16:41.792+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T10:16:41.792+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907091226749177856) MsgTFriendOpRet
2025-11-08T10:16:52.842+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "userId:10006 bigId:907091156632997888 synType:SynTypeBackward chatType:ChatTypeP2P"}
2025-11-08T10:16:52.872+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 100}
2025-11-08T10:17:16.147+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:902373575649005568 sendId:1061 recvOk:1762568236172 readOk:1762568236172 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:17:16.170+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:17:16.196+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:902557361032531968 sendId:1081 recvOk:1762568236176 readOk:1762568236176 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:17:16.215+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:17:16.306+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:902559324713390080 sendId:1101 recvOk:1762568236178 readOk:1762568236178 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:17:16.321+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:17:16.321+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903825520163164160 sendId:1102 recvOk:1762568236179 readOk:1762568236179 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:17:16.336+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:17:16.460+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903826093239308288 sendId:1103 recvOk:1762568236181 readOk:1762568236181 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:17:16.476+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:17:16.477+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903826287804682240 sendId:1104 recvOk:1762568236183 readOk:1762568236183 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:17:16.492+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:17:16.493+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903853800874446848 sendId:1105 recvOk:1762568236184 readOk:1762568236184 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:17:16.507+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:17:16.563+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903856739869396992 sendId:1106 recvOk:1762568236186 readOk:1762568236186 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:17:16.583+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:17:16.583+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903861795268202496 sendId:1107 recvOk:1762568236187 readOk:1762568236187 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:17:16.599+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:17:17.666+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:902059986534928384 sendId:1001 recvOk:1762568237747 readOk:1762568237747 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:17:17.684+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:17:17.711+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:902064422581833728 sendId:1021 recvOk:1762568237750 readOk:1762568237750 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:17:17.734+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:17:17.761+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:902066718971662336 sendId:1041 recvOk:1762568237751 readOk:1762568237751 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:17:17.778+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:17:57.968+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(907091226749177856) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-08T10:17:57.969+0800	[34mINFO[0m	core/session.go:256	user(10001) session(907091226749177856)
2025-11-08T10:18:43.433+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"2REYLQh06+Cvjndm8cRyX4XdBNq4XRJ5ejcXhHA=\"}"}
2025-11-08T10:18:43.435+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-08T10:18:43.435+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762568323435,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T10:18:43.503+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907091737871257600) MsgTFriendOpRet
2025-11-08T10:18:43.577+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T10:18:43.578+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907091737871257600) MsgTFriendOpRet
2025-11-08T10:18:43.637+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T10:18:43.638+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907091737871257600) MsgTFriendOpRet
2025-11-08T10:19:25.046+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(907091737871257600) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-08T10:19:25.048+0800	[34mINFO[0m	core/session.go:256	user(10001) session(907091737871257600)
2025-11-08T10:25:31.492+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"rTjZhdxuKmvGXu/Rg91cVp7dOG1Vqx05gzR3Tsk=\"}"}
2025-11-08T10:25:31.495+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-08T10:25:31.495+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762568731495,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T10:25:31.577+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907093449658994688) MsgTFriendOpRet
2025-11-08T10:25:31.630+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T10:25:31.630+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907093449658994688) MsgTFriendOpRet
2025-11-08T10:25:31.692+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T10:25:31.693+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907093449658994688) MsgTFriendOpRet
2025-11-08T10:26:29.975+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(907093449658994688) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-08T10:26:29.977+0800	[34mINFO[0m	core/session.go:256	user(10001) session(907093449658994688)
2025-11-08T10:26:34.300+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"jfygdbus6CIjUitYBxAkYH0FZC6igOMRC0jj4H4=\"}"}
2025-11-08T10:26:34.301+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-08T10:26:34.301+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762568794301,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T10:26:34.338+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907093713208086528) MsgTFriendOpRet
2025-11-08T10:26:34.425+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T10:26:34.435+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907093713208086528) MsgTFriendOpRet
2025-11-08T10:26:34.515+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T10:26:34.515+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907093713208086528) MsgTFriendOpRet
2025-11-08T10:26:56.394+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(907093713208086528) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-08T10:26:56.395+0800	[34mINFO[0m	core/session.go:256	user(10001) session(907093713208086528)
2025-11-08T10:43:59.399+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"wwKMDZ4ls5mOnSVnMPQ02Y2VTXW/4DNA+WEYirs=\"}"}
2025-11-08T10:43:59.401+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-08T10:43:59.402+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762569839401,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T10:43:59.449+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907098096398372864) MsgTFriendOpRet
2025-11-08T10:43:59.511+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T10:43:59.511+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907098096398372864) MsgTFriendOpRet
2025-11-08T10:43:59.558+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T10:43:59.558+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907098096398372864) MsgTFriendOpRet
2025-11-08T10:44:57.855+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903861795268202496 sendId:1107 recvOk:1762569897848 readOk:1762569897848 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:44:57.892+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:45:08.299+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903856739869396992 sendId:1106 recvOk:1762569908342 readOk:1762569908342 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:45:08.320+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:45:08.369+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903853800874446848 sendId:1105 recvOk:1762569908348 readOk:1762569908348 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:45:08.383+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:45:08.384+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903826287804682240 sendId:1104 recvOk:1762569908349 readOk:1762569908349 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:45:08.396+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:45:08.473+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903826093239308288 sendId:1103 recvOk:1762569908351 readOk:1762569908351 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:45:08.488+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:45:08.489+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903825520163164160 sendId:1102 recvOk:1762569908353 readOk:1762569908353 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:45:08.506+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:45:08.708+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:902559324713390080 sendId:1101 recvOk:1762569908355 readOk:1762569908355 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:45:08.724+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:45:08.725+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:902557361032531968 sendId:1081 recvOk:1762569908356 readOk:1762569908356 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:45:08.737+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:45:08.737+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:902373575649005568 sendId:1061 recvOk:1762569908358 readOk:1762569908358 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:45:08.747+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:45:34.719+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(907098096398372864) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-08T10:45:34.720+0800	[34mINFO[0m	core/session.go:256	user(10001) session(907098096398372864)
2025-11-08T10:53:38.874+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"txwIOtWnLO/f62jvaIjZi89fN5KhvhrezyEyFus=\"}"}
2025-11-08T10:53:38.876+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-08T10:53:38.876+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762570418876,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T10:53:38.916+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907100526980763648) MsgTFriendOpRet
2025-11-08T10:53:38.999+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T10:53:39.008+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907100526980763648) MsgTFriendOpRet
2025-11-08T10:53:39.036+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T10:53:39.037+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907100526980763648) MsgTFriendOpRet
2025-11-08T10:54:02.117+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:902066718971662336 sendId:1041 recvOk:1762570442067 readOk:1762570442067 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:54:02.133+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:54:02.229+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:902064422581833728 sendId:1021 recvOk:1762570442070 readOk:1762570442070 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:54:02.248+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:54:02.248+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:902059986534928384 sendId:1001 recvOk:1762570442071 readOk:1762570442071 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:54:02.273+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:54:38.674+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(907100526980763648) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-08T10:54:38.675+0800	[34mINFO[0m	core/session.go:256	user(10001) session(907100526980763648)
2025-11-08T11:01:41.489+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"vqDbn7g/LheWuDXqCwBhoRRq3XL7xIG2uIngnvw=\"}"}
2025-11-08T11:01:41.492+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-08T11:01:41.492+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762570901492,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T11:01:41.704+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907102549079887872) MsgTFriendOpRet
2025-11-08T11:01:41.768+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T11:01:41.769+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907102549079887872) MsgTFriendOpRet
2025-11-08T11:01:41.841+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T11:01:41.841+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907102549079887872) MsgTFriendOpRet
2025-11-08T11:01:52.766+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "userId:10006 bigId:9223372036854775807 synType:SynTypeBackward chatType:ChatTypeP2P"}
2025-11-08T11:01:52.793+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 100}
2025-11-08T11:02:52.804+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(907102549079887872) close here, because ws:readLoop() error, err=read tcp 192.168.1.2:7817->192.168.1.31:43800: i/o timeout
2025-11-08T11:02:52.806+0800	[34mINFO[0m	core/session.go:256	user(10001) session(907102549079887872)
2025-11-08T11:03:21.228+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"iB/kD2dmudvxXaBq1tYUEBEC7EkwPli+rB8mkN4=\"}"}
2025-11-08T11:03:21.231+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-08T11:03:21.232+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762571001231,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T11:03:38.308+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(907102969001021440) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-08T11:03:38.310+0800	[34mINFO[0m	core/session.go:256	user(10006) session(907102969001021440)
2025-11-08T11:03:39.599+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"XA7XifeLqwSH8FSmRa/f3BzC5G7X+abLb+p/oW0=\"}"}
2025-11-08T11:03:39.601+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-08T11:03:39.601+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762571019601,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T11:04:05.492+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(907103046675337216) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-08T11:04:05.494+0800	[34mINFO[0m	core/session.go:256	user(10006) session(907103046675337216)
2025-11-08T11:04:34.690+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"9E/4O5Ojpqro4hulBMzCSrhDE5sTPdmpDcew5OE=\"}"}
2025-11-08T11:04:34.694+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-08T11:04:34.694+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762571074694,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T11:04:34.761+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-11-08T11:04:34.762+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTFriendOpRet
2025-11-08T11:04:34.806+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T11:04:34.807+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTFriendOpRet
2025-11-08T11:04:34.994+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:906095393224396801 chatType:ChatTypeP2P"}
2025-11-08T11:04:35.028+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 25}
2025-11-08T11:04:35.095+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:906935062765899776 sendId:1821 recvOk:1762571074138 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:35.120+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:35.146+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:906935063101444096 sendId:1821 recvOk:1762571074141 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:35.160+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:35.207+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:906935075977957376 sendId:1822 recvOk:1762571074141 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:35.226+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:35.263+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:906935104155291648 sendId:1823 recvOk:1762571074141 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:35.284+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:35.307+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:906935139639103488 sendId:1824 recvOk:1762571074141 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:35.330+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:35.353+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:906935174988697600 sendId:1825 recvOk:1762571074141 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:35.365+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:35.400+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:906936356209561600 sendId:1841 recvOk:1762571074141 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:35.422+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:35.451+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:906936369367093248 sendId:1842 recvOk:1762571074141 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:35.467+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:35.505+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:906936403726831616 sendId:1843 recvOk:1762571074141 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:35.529+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:35.553+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:906936460354129920 sendId:1844 recvOk:1762571074141 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:35.574+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:35.604+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:906937146055725056 sendId:1001 recvOk:1762571074142 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:35.621+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:35.659+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:906937159301337088 sendId:1002 recvOk:1762571074142 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:35.681+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:35.706+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:907086212244836352 sendId:1021 recvOk:1762571074142 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:35.716+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:35.757+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:907086224664170496 sendId:1022 recvOk:1762571074142 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:35.773+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:35.813+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:907086237603598336 sendId:1023 recvOk:1762571074142 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:35.840+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:35.859+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:907086249574141952 sendId:1024 recvOk:1762571074142 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:35.881+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:35.910+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:907086274551222272 sendId:1025 recvOk:1762571074142 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:35.930+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:35.965+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:907087139932606464 sendId:1041 recvOk:1762571074142 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:35.993+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:36.015+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:907087168604868608 sendId:1042 recvOk:1762571074142 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:36.035+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:36.072+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:907087180302782464 sendId:1043 recvOk:1762571074143 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:36.096+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:36.117+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:907087194269814784 sendId:1044 recvOk:1762571074143 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:36.141+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:36.164+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:907087206072586240 sendId:1045 recvOk:1762571074143 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:36.185+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:36.215+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:907091156632997888 sendId:1061 recvOk:1762571074143 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:36.232+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:36.279+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:907091169090080768 sendId:1062 recvOk:1762571074143 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:36.296+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:36.333+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:907091186211229696 sendId:1063 recvOk:1762571074143 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:36.360+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:44.048+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:907086224664170496 sendId:1022 recvOk:1762571083117 readOk:1762571083117 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:44.081+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:44.097+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:907086237603598336 sendId:1023 recvOk:1762571083118 readOk:1762571083118 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:44.119+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:44.182+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:907086249574141952 sendId:1024 recvOk:1762571083119 readOk:1762571083119 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:44.203+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:44.262+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:907086274551222272 sendId:1025 recvOk:1762571083120 readOk:1762571083120 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:44.280+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:44.284+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:907087139932606464 sendId:1041 recvOk:1762571083120 readOk:1762571083120 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:44.299+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:44.334+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:907087168604868608 sendId:1042 recvOk:1762571083121 readOk:1762571083121 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:44.346+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:44.384+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:907087180302782464 sendId:1043 recvOk:1762571083122 readOk:1762571083122 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:44.407+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:44.431+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:907087194269814784 sendId:1044 recvOk:1762571083123 readOk:1762571083123 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:44.453+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:44.477+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:907087206072586240 sendId:1045 recvOk:1762571083124 readOk:1762571083124 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:44.499+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:44.523+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:907091156632997888 sendId:1061 recvOk:1762571083125 readOk:1762571083125 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:44.547+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:44.570+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:907091169090080768 sendId:1062 recvOk:1762571083126 readOk:1762571083126 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:44.591+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:44.619+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:907091186211229696 sendId:1063 recvOk:1762571083127 readOk:1762571083127 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:44.637+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:51.546+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:906936460354129920 sendId:1844 recvOk:1762571090570 readOk:1762571090570 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:51.563+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:51.602+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:906937146055725056 sendId:1001 recvOk:1762571090571 readOk:1762571090571 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:51.627+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:51.650+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:906937159301337088 sendId:1002 recvOk:1762571090572 readOk:1762571090572 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:51.669+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:51.709+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:907086212244836352 sendId:1021 recvOk:1762571090573 readOk:1762571090573 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:51.734+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:52.672+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:906935139639103488 sendId:1824 recvOk:1762571091721 readOk:1762571091721 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:52.693+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:52.716+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:906935174988697600 sendId:1825 recvOk:1762571091723 readOk:1762571091723 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:52.727+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:52.772+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:906936356209561600 sendId:1841 recvOk:1762571091730 readOk:1762571091730 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:52.803+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:52.826+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:906936369367093248 sendId:1842 recvOk:1762571091732 readOk:1762571091732 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:52.844+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:53.901+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:906935075977957376 sendId:1822 recvOk:1762571092918 readOk:1762571092918 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:53.914+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:53.954+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:906935104155291648 sendId:1823 recvOk:1762571092925 readOk:1762571092925 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:53.978+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:05:16.430+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"ul3Uct77Y3ZniD57hySd+HS/9NVCvK2BcpqnVok=\"}"}
2025-11-08T11:05:16.432+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-08T11:05:16.433+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762571116432,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T11:05:16.634+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907103450809110528) MsgTFriendOpRet
2025-11-08T11:05:16.677+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T11:05:16.678+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907103450809110528) MsgTFriendOpRet
2025-11-08T11:05:16.722+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T11:05:16.723+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907103450809110528) MsgTFriendOpRet
2025-11-08T11:05:16.746+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:1 chatType:ChatTypeP2P"}
2025-11-08T11:05:16.777+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 100}
2025-11-08T11:05:16.953+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:896655091929583616 recvOk:1762571117029 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:16.970+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:17.006+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:896775304339656704 sendId:2 recvOk:1762571117032 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:17.032+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:17.078+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:896775629100421120 sendId:2 recvOk:1762571117033 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:17.098+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:17.183+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:896796741351903232 sendId:2 recvOk:1762571117034 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:17.194+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:17.195+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:896986908285079552 sendId:2 recvOk:1762571117035 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:17.205+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:17.290+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:896999188573851648 sendId:2 recvOk:1762571117036 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:17.310+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:17.310+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:896999203929198592 sendId:3 recvOk:1762571117036 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:17.325+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:17.339+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897009627089211392 sendId:2 recvOk:1762571117037 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:17.356+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:17.449+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897009792986517504 sendId:2 recvOk:1762571117038 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:17.462+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:17.554+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897009889547784192 sendId:3 recvOk:1762571117039 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:17.567+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:17.568+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897010158973095936 sendId:4 recvOk:1762571117040 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:17.584+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:17.664+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897010292779782144 sendId:5 recvOk:1762571117041 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:17.691+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:17.692+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897011739290374144 sendId:2 recvOk:1762571117042 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:17.706+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:17.716+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897014027253846016 sendId:2 recvOk:1762571117043 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:17.738+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:17.772+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897014054390992896 sendId:3 recvOk:1762571117044 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:17.783+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:17.870+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897014084724199424 sendId:4 recvOk:1762571117045 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:17.891+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:17.892+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897014305701105664 sendId:5 recvOk:1762571117046 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:17.907+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:17.919+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897014354891902976 sendId:6 recvOk:1762571117047 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:17.937+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:18.027+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897014454175272960 sendId:7 recvOk:1762571117048 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:18.043+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:18.044+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897015963411681280 sendId:2 recvOk:1762571117049 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:18.058+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:18.132+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897015990553022464 sendId:3 recvOk:1762571117050 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:18.152+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:18.153+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897017147501449216 sendId:2 recvOk:1762571117051 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:18.167+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:18.186+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897019540939083776 sendId:2 recvOk:1762571117052 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:18.198+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:18.291+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897020556275224576 sendId:2 recvOk:1762571117053 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:18.304+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:18.396+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897329779559239680 sendId:2 recvOk:1762571117054 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:18.410+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:18.411+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897337017262804992 sendId:2 recvOk:1762571117055 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:18.427+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:18.506+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897404904094699520 sendId:2 recvOk:1762571117055 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:18.518+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:18.518+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897408401091465216 sendId:2 recvOk:1762571117056 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:18.529+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:18.612+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897408412147650560 sendId:3 recvOk:1762571117057 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:18.624+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:18.624+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897408429243633664 sendId:4 recvOk:1762571117058 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:18.640+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:18.667+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897408441096736768 sendId:5 recvOk:1762571117059 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:18.686+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:18.756+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897408454845665280 sendId:6 recvOk:1762571117059 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:18.777+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:18.777+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897408484994322432 sendId:7 recvOk:1762571117060 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:18.793+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:18.801+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897410935155724288 sendId:2 recvOk:1762571117061 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:18.823+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:18.854+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897410947952545792 sendId:3 recvOk:1762571117062 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:18.869+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:18.957+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897410959256195072 sendId:4 recvOk:1762571117063 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:18.977+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:19.001+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897410972837351424 sendId:5 recvOk:1762571117063 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:19.012+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:19.048+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897410994643537920 sendId:6 recvOk:1762571117064 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:19.069+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:06:06.913+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897408454845665280 sendId:6 recvOk:1762571166924 readOk:1762571166924 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:06:06.938+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:06:06.974+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897408484994322432 sendId:7 recvOk:1762571166931 readOk:1762571166931 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:06:07.005+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:06:14.340+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(907103450809110528) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-08T11:06:14.341+0800	[34mINFO[0m	core/session.go:256	user(10001) session(907103450809110528)
2025-11-08T11:07:48.828+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"klTldxvPE+pFS/5PW/sUJJWo3HdlU27RX6F6zLo=\"}"}
2025-11-08T11:07:48.829+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-08T11:07:48.829+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762571268829,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T11:07:49.006+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907104090469830656) MsgTFriendOpRet
2025-11-08T11:07:49.069+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T11:07:49.069+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907104090469830656) MsgTFriendOpRet
2025-11-08T11:07:49.082+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T11:07:49.082+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907104090469830656) MsgTFriendOpRet
2025-11-08T11:08:12.252+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(907104090469830656) close here, because ws:readLoop() error, err=read tcp 192.168.1.2:7817->192.168.1.31:44064: wsarecv: An existing connection was forcibly closed by the remote host.
2025-11-08T11:08:12.255+0800	[34mINFO[0m	core/session.go:256	user(10001) session(907104090469830656)
2025-11-08T11:08:53.008+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"v1PWbY/Kd3hky4vOZ1wasu0DGgTcjFqNA+UAPx4=\"}"}
2025-11-08T11:08:53.010+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-08T11:08:53.010+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762571333010,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T11:08:53.113+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907104359341494272) MsgTFriendOpRet
2025-11-08T11:08:53.163+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T11:08:53.163+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907104359341494272) MsgTFriendOpRet
2025-11-08T11:08:53.244+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T11:08:53.245+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907104359341494272) MsgTFriendOpRet
2025-11-08T11:09:42.652+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(907104359341494272) close here, because ws:readLoop() error, err=read tcp 192.168.1.2:7817->192.168.1.31:44130: wsarecv: An existing connection was forcibly closed by the remote host.
2025-11-08T11:09:42.653+0800	[34mINFO[0m	core/session.go:256	user(10001) session(907104359341494272)
2025-11-08T11:11:38.897+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"JtgvpcfMjoWjddjfcRjFoD8sv1BRMPr1sOo95FU=\"}"}
2025-11-08T11:11:38.900+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-08T11:11:38.901+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762571498900,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T11:11:39.001+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907105055465934848) MsgTFriendOpRet
2025-11-08T11:11:39.060+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T11:11:39.060+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907105055465934848) MsgTFriendOpRet
2025-11-08T11:11:39.120+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T11:11:39.120+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907105055465934848) MsgTFriendOpRet
2025-11-08T11:11:49.240+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(907105055465934848) close here, because ws:readLoop() error, err=read tcp 192.168.1.2:7817->192.168.1.31:44214: wsarecv: An existing connection was forcibly closed by the remote host.
2025-11-08T11:11:49.241+0800	[34mINFO[0m	core/session.go:256	user(10001) session(907105055465934848)
2025-11-08T11:30:24.636+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(907103277303336960) close here, because ws:readLoop() error, err=read tcp 192.168.1.2:7817->192.168.1.14:38618: i/o timeout
2025-11-08T11:30:25.150+0800	[34mINFO[0m	core/session.go:256	user(10006) session(907103277303336960)
2025-11-08T11:32:14.295+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"mjUCm3B4Yry2gJgbW4nAc6pfPe2mrhDBMhei2Yw=\"}"}
2025-11-08T11:32:14.296+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-08T11:32:14.297+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762572734296,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T11:32:14.403+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-11-08T11:32:14.403+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907110238837149696) MsgTFriendOpRet
2025-11-08T11:32:14.466+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T11:32:14.466+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907110238837149696) MsgTFriendOpRet
2025-11-08T11:33:12.776+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"22nBYNLmlm/d2JqhUCspmh6vMonE8qa4YoiN18M=\"}"}
2025-11-08T11:33:12.778+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-08T11:33:12.779+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762572792778,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T11:33:12.928+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907110482052255744) MsgTFriendOpRet
2025-11-08T11:33:13.009+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T11:33:13.010+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907110482052255744) MsgTFriendOpRet
2025-11-08T11:33:13.057+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T11:33:13.057+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907110482052255744) MsgTFriendOpRet
2025-11-08T11:33:20.358+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 synType:SynTypeBackward chatType:ChatTypeP2P"}
2025-11-08T11:33:20.401+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 100}
2025-11-08T11:33:52.537+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(907110482052255744) close here, because ws:readLoop() error, err=read tcp 192.168.1.2:7817->192.168.1.24:37876: wsarecv: An existing connection was forcibly closed by the remote host.
2025-11-08T11:33:52.538+0800	[34mINFO[0m	core/session.go:256	user(10001) session(907110482052255744)
2025-11-08T13:07:39.673+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(907110238837149696) close here, because ws:readLoop() error, err=read tcp 192.168.1.2:7817->192.168.1.14:38688: i/o timeout
2025-11-08T13:07:40.363+0800	[34mINFO[0m	core/session.go:256	user(10006) session(907110238837149696)
2025-11-08T13:07:43.978+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"LCn7IGD6OjMIWLViVSlRrXlnti368B4aJF9z/mM=\"}"}
2025-11-08T13:07:43.980+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-08T13:07:43.980+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762578463980,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T13:07:44.079+0800	[31mERROR[0m	core/friendhandler.go:692	handleFriendList() query scylladb error	{"error": "gocql: no hosts available in the pool"}
2025-11-08T13:07:44.088+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": null}
2025-11-08T13:07:44.088+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907134270659760128) MsgTFriendOpRet
2025-11-08T13:07:44.138+0800	[31mERROR[0m	core/friendhandler.go:692	handleFriendList() query scylladb error	{"error": "gocql: no hosts available in the pool"}
2025-11-08T13:07:44.139+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": null}
2025-11-08T13:07:44.139+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907134270659760128) MsgTFriendOpRet
2025-11-08T14:06:13.672+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(907134270659760128) close here, because ws:readLoop() error, err=read tcp 192.168.1.2:7817->192.168.1.14:38898: i/o timeout
2025-11-08T14:06:13.925+0800	[34mINFO[0m	core/session.go:256	user(10006) session(907134270659760128)
2025-11-08T14:07:09.255+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"QncfgmsFip2cBQ4jMqv4C7CDbcFlXwmvxe/5dkE=\"}"}
2025-11-08T14:07:09.256+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-08T14:07:09.256+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762582029256,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T14:07:09.421+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907149222938284032) MsgTFriendOpRet
2025-11-08T14:07:09.486+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T14:07:09.486+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907149222938284032) MsgTFriendOpRet
2025-11-08T14:07:18.409+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T14:07:18.409+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907149222938284032) MsgTFriendOpRet
2025-11-08T14:07:23.577+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 synType:SynTypeBackward chatType:ChatTypeP2P"}
2025-11-08T14:07:23.621+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 100}
2025-11-08T14:07:49.273+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:902373575649005568 sendId:1061 recvOk:1762582068767 readOk:1762582068767 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:07:49.317+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T14:07:49.362+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:902557361032531968 sendId:1081 recvOk:1762582068775 readOk:1762582068775 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:07:49.386+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T14:07:49.459+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:902559324713390080 sendId:1101 recvOk:1762582068779 readOk:1762582068779 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:07:49.478+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T14:07:49.478+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903825520163164160 sendId:1102 recvOk:1762582068782 readOk:1762582068782 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:07:49.496+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T14:07:49.560+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903826093239308288 sendId:1103 recvOk:1762582068785 readOk:1762582068785 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:07:49.583+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T14:07:49.645+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903826287804682240 sendId:1104 recvOk:1762582068788 readOk:1762582068788 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:07:49.661+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T14:07:49.738+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903853800874446848 sendId:1105 recvOk:1762582068791 readOk:1762582068791 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:07:49.753+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T14:07:49.753+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903856739869396992 sendId:1106 recvOk:1762582068794 readOk:1762582068794 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:07:49.768+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T14:07:49.823+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903861795268202496 sendId:1107 recvOk:1762582068797 readOk:1762582068797 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:07:49.846+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T14:08:10.010+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:902059986534928384 sendId:1001 recvOk:1762582089529 readOk:1762582089529 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:08:10.033+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T14:08:10.094+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:902064422581833728 sendId:1021 recvOk:1762582089535 readOk:1762582089535 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:08:10.110+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T14:08:10.177+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:902066718971662336 sendId:1041 recvOk:1762582089538 readOk:1762582089538 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:08:10.188+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T14:08:10.262+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:902059986534928384 sendId:1001 recvOk:1762582089767 readOk:1762582089767 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:08:10.279+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T14:08:19.584+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(907149222938284032) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-08T14:08:19.585+0800	[34mINFO[0m	core/session.go:256	user(10001) session(907149222938284032)
2025-11-08T14:09:14.049+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"aetRyvnLblv9RViwRV6VtFA7+kVVJReu1h/ikGU=\"}"}
2025-11-08T14:09:14.051+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-08T14:09:14.051+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762582154051,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T14:09:14.181+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907149746018324480) MsgTFriendOpRet
2025-11-08T14:09:14.260+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T14:09:14.260+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907149746018324480) MsgTFriendOpRet
2025-11-08T14:09:30.990+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T14:09:30.991+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907149746018324480) MsgTFriendOpRet
2025-11-08T14:09:37.502+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 synType:SynTypeBackward chatType:ChatTypeP2P"}
2025-11-08T14:09:37.534+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 100}
2025-11-08T14:09:40.124+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(907149746018324480) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-08T14:09:40.124+0800	[34mINFO[0m	core/session.go:256	user(10001) session(907149746018324480)
2025-11-08T14:12:16.537+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"Y3zJVDhb/ewp31AEU6yaf9Nohun6WW1GsUjRl+A=\"}"}
2025-11-08T14:12:16.539+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-08T14:12:16.540+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762582336539,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T14:12:16.660+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-11-08T14:12:16.660+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907150513676619776) MsgTFriendOpRet
2025-11-08T14:12:16.705+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T14:12:16.705+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907150513676619776) MsgTFriendOpRet
2025-11-08T14:14:11.493+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"YoU1CYDlxb3+ZVw6LBX3pkzrtPBo/M3Qe2T04HI=\"}"}
2025-11-08T14:14:11.494+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-08T14:14:11.494+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762582451494,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T14:14:11.549+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907150995656675328) MsgTFriendOpRet
2025-11-08T14:14:11.593+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T14:14:11.594+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907150995656675328) MsgTFriendOpRet
2025-11-08T14:14:11.656+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T14:14:11.656+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907150995656675328) MsgTFriendOpRet
2025-11-08T14:14:11.687+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 synType:SynTypeBackward chatType:ChatTypeP2P"}
2025-11-08T14:14:11.703+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 100}
2025-11-08T14:14:20.961+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(907150995656675328) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-08T14:14:20.962+0800	[34mINFO[0m	core/session.go:256	user(10001) session(907150995656675328)
2025-11-08T14:14:47.455+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"TyHuHkDCVWA5Jm1zjQcqRQvgRXyaL8WgZy/rINw=\"}"}
2025-11-08T14:14:47.456+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-08T14:14:47.456+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762582487456,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T14:14:59.928+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(907151144697073664) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-08T14:14:59.929+0800	[34mINFO[0m	core/session.go:256	user(10001) session(907151144697073664)
2025-11-08T14:18:46.994+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"wQ8AR12q0wh0kx/mgD6vEyjUHCsnkZbrsIqbKQY=\"}"}
2025-11-08T14:18:46.996+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-08T14:18:46.996+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762582726996,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T14:18:47.142+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907152149304184832) MsgTFriendOpRet
2025-11-08T14:18:47.226+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T14:18:47.227+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907152149304184832) MsgTFriendOpRet
2025-11-08T14:18:47.303+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T14:18:47.303+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907152149304184832) MsgTFriendOpRet
2025-11-08T14:18:47.309+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 synType:SynTypeBackward chatType:ChatTypeP2P"}
2025-11-08T14:18:47.320+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 100}
2025-11-08T14:19:39.827+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(907152149304184832) close here, because ws:readLoop() error, err=read tcp 192.168.1.2:7817->192.168.1.24:39770: wsarecv: An existing connection was forcibly closed by the remote host.
2025-11-08T14:19:39.827+0800	[34mINFO[0m	core/session.go:256	user(10001) session(907152149304184832)
2025-11-08T14:21:34.935+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"p8+C1M9C3P4bwtV6El3Ij57Nwy4b2IAoemcUt9c=\"}"}
2025-11-08T14:21:34.938+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-08T14:21:34.938+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762582894938,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T14:21:35.166+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T14:21:35.167+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907152853687209984) MsgTFriendOpRet
2025-11-08T14:21:35.212+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T14:21:35.214+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907152853687209984) MsgTFriendOpRet
2025-11-08T14:21:35.278+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 synType:SynTypeBackward chatType:ChatTypeP2P"}
2025-11-08T14:21:35.296+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 100}
2025-11-08T14:22:29.733+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:902373575649005568 sendId:1061 recvOk:1762582949229 readOk:1762582949229 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:22:29.746+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907150513676619776) MsgTChatReply
2025-11-08T14:22:29.801+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:902557361032531968 sendId:1081 recvOk:1762582949242 readOk:1762582949242 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:22:29.822+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907150513676619776) MsgTChatReply
2025-11-08T14:22:29.903+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:902559324713390080 sendId:1101 recvOk:1762582949246 readOk:1762582949246 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:22:29.915+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907150513676619776) MsgTChatReply
2025-11-08T14:22:29.916+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903825520163164160 sendId:1102 recvOk:1762582949250 readOk:1762582949250 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:22:29.930+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907150513676619776) MsgTChatReply
2025-11-08T14:22:30.004+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903826093239308288 sendId:1103 recvOk:1762582949254 readOk:1762582949254 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:22:30.022+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907150513676619776) MsgTChatReply
2025-11-08T14:22:30.108+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903826287804682240 sendId:1104 recvOk:1762582949259 readOk:1762582949259 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:22:30.130+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907150513676619776) MsgTChatReply
2025-11-08T14:22:30.130+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903853800874446848 sendId:1105 recvOk:1762582949263 readOk:1762582949263 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:22:30.145+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907150513676619776) MsgTChatReply
2025-11-08T14:22:30.192+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903856739869396992 sendId:1106 recvOk:1762582949266 readOk:1762582949266 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:22:30.206+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907150513676619776) MsgTChatReply
2025-11-08T14:22:30.280+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903861795268202496 sendId:1107 recvOk:1762582949270 readOk:1762582949270 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:22:30.300+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907150513676619776) MsgTChatReply
2025-11-08T14:22:50.207+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "userId:10006 bigId:902046582910881792 synType:SynTypeBackward chatType:ChatTypeP2P"}
2025-11-08T14:22:50.380+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 100}
2025-11-08T14:23:57.014+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:898588993963298816 sendId:3 recvOk:1762583036510 readOk:1762583036510 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:23:57.034+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907150513676619776) MsgTChatReply
2025-11-08T14:23:57.154+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:898589149664251904 sendId:2 recvOk:1762583036516 readOk:1762583036516 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:23:57.178+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907150513676619776) MsgTChatReply
2025-11-08T14:23:57.178+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:898589170145038336 sendId:3 recvOk:1762583036520 readOk:1762583036520 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:23:57.188+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907150513676619776) MsgTChatReply
2025-11-08T14:23:57.359+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:898589755317555200 sendId:4 recvOk:1762583036524 readOk:1762583036524 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:23:57.376+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907150513676619776) MsgTChatReply
2025-11-08T14:23:57.377+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:898590385713057792 sendId:2 recvOk:1762583036528 readOk:1762583036528 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:23:57.388+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907150513676619776) MsgTChatReply
2025-11-08T14:24:02.809+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:898960351268311040 sendId:2 recvOk:1762583042336 readOk:1762583042336 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:24:02.832+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907150513676619776) MsgTChatReply
2025-11-08T14:24:02.883+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:898960762125553664 sendId:3 recvOk:1762583042342 readOk:1762583042342 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:24:02.908+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907150513676619776) MsgTChatReply
2025-11-08T14:24:06.521+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:899327130133991424 sendId:4 recvOk:1762583046015 readOk:1762583046015 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:24:06.548+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907150513676619776) MsgTChatReply
2025-11-08T14:24:23.209+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:898588971678961664 sendId:2 recvOk:1762583062729 readOk:1762583062729 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:24:23.229+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907150513676619776) MsgTChatReply
2025-11-08T14:24:57.365+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(907152853687209984) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-08T14:24:57.366+0800	[34mINFO[0m	core/session.go:256	user(10001) session(907152853687209984)
2025-11-08T14:25:16.630+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"x/JpK0av4v/KK6MOIypcr7aocrpu/lHH3+5qlcA=\"}"}
2025-11-08T14:25:16.630+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-08T14:25:16.630+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762583116630,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T14:25:16.687+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T14:25:16.687+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907153785447649280) MsgTFriendOpRet
2025-11-08T14:25:16.738+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T14:25:16.738+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907153785447649280) MsgTFriendOpRet
2025-11-08T14:25:16.770+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:907091186211229696 chatType:ChatTypeP2P"}
2025-11-08T14:25:16.799+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 1}
2025-11-08T14:25:52.753+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:906072643608907776 sendId:1801 recvOk:1762583151473 readOk:1762583151473 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:25:52.777+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907153785447649280) MsgTChatReply
2025-11-08T14:25:52.800+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:906072675405926400 sendId:1802 recvOk:1762583151478 readOk:1762583151478 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:25:52.822+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907153785447649280) MsgTChatReply
2025-11-08T14:25:52.845+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:906935062765899776 sendId:1821 recvOk:1762583151479 readOk:1762583151479 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:25:52.867+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907153785447649280) MsgTChatReply
2025-11-08T14:25:55.143+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "userId:10001 bigId:902154183434702848 synType:SynTypeBackward chatType:ChatTypeP2P"}
2025-11-08T14:25:55.163+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 100}
2025-11-08T14:25:55.696+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907150513676619776) MsgTFriendOpRet
2025-11-08T14:25:55.891+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:898597399063302144 sendId:2 recvOk:1762583154641 readOk:1762583154641 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:25:55.911+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907153785447649280) MsgTChatReply
2025-11-08T14:25:55.942+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:898597834847293440 sendId:2 recvOk:1762583154642 readOk:1762583154642 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:25:55.963+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907153785447649280) MsgTChatReply
2025-11-08T14:25:55.993+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:898597867294429184 sendId:3 recvOk:1762583154643 readOk:1762583154643 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:25:56.011+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907153785447649280) MsgTChatReply
2025-11-08T14:25:56.050+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:898599118757302272 sendId:2 recvOk:1762583154644 readOk:1762583154644 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:25:56.060+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907153785447649280) MsgTChatReply
2025-11-08T14:25:56.097+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:898599139657519104 sendId:3 recvOk:1762583154644 readOk:1762583154644 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:25:56.119+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907153785447649280) MsgTChatReply
2025-11-08T14:25:56.148+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:898599802332385280 sendId:4 recvOk:1762583154645 readOk:1762583154645 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:25:56.164+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907153785447649280) MsgTChatReply
2025-11-08T14:25:56.204+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:898599845546299392 sendId:5 recvOk:1762583154646 readOk:1762583154646 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:25:56.232+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907153785447649280) MsgTChatReply
2025-11-08T14:25:56.260+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:898595225411391488 sendId:2 recvOk:1762583154889 readOk:1762583154889 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:25:56.270+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907153785447649280) MsgTChatReply
2025-11-08T14:25:56.312+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:898595488134205440 sendId:2 recvOk:1762583154890 readOk:1762583154890 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:25:56.332+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907153785447649280) MsgTChatReply
2025-11-08T14:25:56.369+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:898595652907438080 sendId:2 recvOk:1762583154891 readOk:1762583154891 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:25:56.394+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907153785447649280) MsgTChatReply
2025-11-08T14:26:01.309+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:899292704146591744 sendId:1141 recvOk:1762583160037 readOk:1762583160037 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:26:01.369+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907153785447649280) MsgTChatReply
2025-11-08T14:26:01.426+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:899292870417190912 sendId:1142 recvOk:1762583160038 readOk:1762583160038 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:26:01.454+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907153785447649280) MsgTChatReply
2025-11-08T14:26:01.455+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:899295484399718400 sendId:1161 recvOk:1762583160038 readOk:1762583160038 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:26:01.469+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907153785447649280) MsgTChatReply
2025-11-08T14:26:01.544+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:899298476310007808 sendId:1181 recvOk:1762583160039 readOk:1762583160039 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:26:01.562+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907153785447649280) MsgTChatReply
2025-11-08T14:26:02.434+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:899298525744074752 sendId:1182 recvOk:1762583161173 readOk:1762583161173 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:26:02.458+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907153785447649280) MsgTChatReply
2025-11-08T14:26:02.483+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:899298808142368768 sendId:1183 recvOk:1762583161174 readOk:1762583161174 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:26:02.508+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907153785447649280) MsgTChatReply
2025-11-08T14:26:02.529+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:899300531271503872 sendId:1201 recvOk:1762583161175 readOk:1762583161175 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:26:02.550+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907153785447649280) MsgTChatReply
2025-11-08T14:26:02.575+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:899327080200802304 sendId:1221 recvOk:1762583161176 readOk:1762583161176 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:26:02.596+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907153785447649280) MsgTChatReply
2025-11-08T14:26:02.619+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:900203510459666432 sendId:1241 recvOk:1762583161176 readOk:1762583161176 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:26:02.640+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907153785447649280) MsgTChatReply
2025-11-08T14:26:15.902+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(907150513676619776) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-08T14:26:15.903+0800	[34mINFO[0m	core/session.go:256	user(10006) session(907150513676619776)
2025-11-08T14:26:21.060+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"n/uq0+Pg0vwouJ6CJ4sbB8MuiCcw3IkqT3wypPE=\"}"}
2025-11-08T14:26:21.063+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-08T14:26:21.063+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762583181062,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T14:26:21.110+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907154055137202176) MsgTFriendOpRet
2025-11-08T14:26:21.183+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-11-08T14:26:21.184+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907154055137202176) MsgTFriendOpRet
2025-11-08T14:26:21.228+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T14:26:21.229+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907154055137202176) MsgTFriendOpRet
2025-11-08T14:26:21.364+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:907091186211229696 chatType:ChatTypeP2P"}
2025-11-08T14:26:21.382+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 1}
2025-11-08T14:26:21.415+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:907091186211229696 sendId:1063 recvOk:1762583180164 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:26:21.446+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907153785447649280) MsgTChatReply
2025-11-08T14:41:29.174+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(907153785447649280) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-08T14:41:29.178+0800	[34mINFO[0m	core/session.go:256	user(10001) session(907153785447649280)
2025-11-08T14:41:36.248+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(907154055137202176) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-08T14:41:36.253+0800	[34mINFO[0m	core/session.go:256	user(10006) session(907154055137202176)
2025-11-08T15:48:45.350+0800	[34mINFO[0m	server/main.go:92	server started here...
2025-11-08T15:51:47.536+0800	[34mINFO[0m	server/main.go:92	server started here...
2025-11-08T15:53:45.482+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"hAYMp8mS6zYnhhMD0268LUERQzpb4e6MZQfLY5c=\"}"}
2025-11-08T15:53:45.629+0800	[35mDEBUG[0m	core/commonhelper.go:421	Load user permission list	{"user": 10001, "count": 0}
2025-11-08T15:53:45.631+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-08T15:53:45.632+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762588425631,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T15:53:45.962+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"nickName":"robin","email":"*","phone":"*"},{"userId":10004,"nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*"},{"userId":10005,"nickName":"robin","email":"*","phone":"*"},{"userId":10006,"nickName":"robin fox","email":"*","phone":"*"},{"userId":10007,"nickName":"yoyo","email":"*","phone":"*"}]}
2025-11-08T15:53:45.963+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907176052235833344) MsgTFriendOpRet
2025-11-08T15:53:45.977+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T15:53:45.977+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907176052235833344) MsgTFriendOpRet
2025-11-08T15:53:45.977+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:907091186211229696 chatType:ChatTypeP2P"}
2025-11-08T15:53:46.002+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 1}
2025-11-08T16:06:28.045+0800	[34mINFO[0m	server/main.go:92	server started here...
2025-11-08T16:10:58.823+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"LKjTXNkzn3l6Fv6rdNVkDdNGGm6TsD1iRdllwok=\"}"}
2025-11-08T16:10:58.991+0800	[35mDEBUG[0m	core/commonhelper.go:421	Load user permission list	{"user": 10001, "count": 0}
2025-11-08T16:10:58.991+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-08T16:10:58.992+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762589458991,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T16:10:59.116+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"nickName":"robin","email":"*","phone":"*"},{"userId":10004,"nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*"},{"userId":10005,"nickName":"robin","email":"*","phone":"*"},{"userId":10006,"nickName":"robin fox","email":"*","phone":"*"},{"userId":10007,"nickName":"yoyo","email":"*","phone":"*"}]}
2025-11-08T16:10:59.117+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907180386516340736) MsgTFriendOpRet
2025-11-08T16:10:59.157+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T16:10:59.157+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907180386516340736) MsgTFriendOpRet
2025-11-26T10:30:02.148+0800	[34mINFO[0m	server/main.go:92	server started here...
2025-11-26T10:33:01.269+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"dddi+7HfjHXP+WxZRkpPyeyAv4ml1+mLnfyJDoo=\"}"}
2025-11-26T10:33:01.508+0800	[35mDEBUG[0m	core/commonhelper.go:421	Load user permission list	{"user": 10006, "count": 0}
2025-11-26T10:33:01.559+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-26T10:33:01.560+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764124381559,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T10:33:01.817+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTFriendOpRet
2025-11-26T10:33:01.902+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*"},{"userId":10002,"nickName":"robin","email":"*","phone":"*"}]}
2025-11-26T10:33:01.903+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTFriendOpRet
2025-11-26T10:33:01.937+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"nickName":"yoyo","email":"*","phone":"*"}]}
2025-11-26T10:33:01.937+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTFriendOpRet
2025-11-26T10:33:02.136+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:907091186211229696 chatType:ChatTypeP2P"}
2025-11-26T10:33:02.164+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T10:33:02.224+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:907091186211229696 sendId:1063 recvOk:1764124382206 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:33:02.254+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-26T10:33:28.202+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"ymx3QtDyctB0QfhGLk6G/+52sRD7XP9BN4Et4P4=\"}"}
2025-11-26T10:33:28.204+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T10:33:28.204+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764124408204,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T10:33:28.246+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":1,"nickName":"John","email":"*","phone":"*"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*"},{"userId":10005,"nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T10:33:28.248+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913618430832283648) MsgTFriendOpRet
2025-11-26T10:33:28.294+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T10:33:28.295+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913618430832283648) MsgTFriendOpRet
2025-11-26T10:33:28.693+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:898576317606400000 sendId:3 recvOk:1764124408604 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:33:28.725+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:33:28.772+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:898588971678961664 sendId:2 recvOk:1764124408607 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:33:28.795+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:33:28.870+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:898588993963298816 sendId:3 recvOk:1764124408608 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:33:28.886+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:33:28.886+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:898589149664251904 sendId:2 recvOk:1764124408609 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:33:28.903+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:33:28.954+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:898589170145038336 sendId:3 recvOk:1764124408610 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:33:28.977+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:33:28.977+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:898589755317555200 sendId:4 recvOk:1764124408610 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:33:28.992+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:33:29.039+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:898590385713057792 sendId:2 recvOk:1764124408611 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:33:29.054+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:33:29.054+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:898960351268311040 sendId:2 recvOk:1764124408611 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:33:29.075+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:33:29.124+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:898960762125553664 sendId:3 recvOk:1764124408612 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:33:29.138+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:33:29.208+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:899327130133991424 sendId:4 recvOk:1764124408613 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:33:29.224+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:33:29.224+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:902059986534928384 sendId:1001 recvOk:1764124408613 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:33:29.241+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:33:29.279+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:902064422581833728 sendId:1021 recvOk:1764124408614 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:33:29.301+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:33:29.393+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:902066718971662336 sendId:1041 recvOk:1764124408615 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:33:29.420+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:33:29.421+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:902373575649005568 sendId:1061 recvOk:1764124408615 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:33:29.439+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:33:29.446+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:902557361032531968 sendId:1081 recvOk:1764124408616 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:33:29.470+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:33:29.470+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:902559324713390080 sendId:1101 recvOk:1764124408616 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:33:29.484+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:33:29.530+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903825520163164160 sendId:1102 recvOk:1764124408617 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:33:29.545+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:33:29.686+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903826093239308288 sendId:1103 recvOk:1764124408618 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:33:29.700+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:33:29.700+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903826287804682240 sendId:1104 recvOk:1764124408618 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:33:29.710+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:33:29.711+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903853800874446848 sendId:1105 recvOk:1764124408619 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:33:29.729+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:33:29.780+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903856739869396992 sendId:1106 recvOk:1764124408619 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:33:29.811+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:33:29.811+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903861795268202496 sendId:1107 recvOk:1764124408620 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:33:29.823+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:33:29.851+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "userId:10001 bigId:9223372036854775807 littleId:907091186211229697 chatType:ChatTypeP2P"}
2025-11-26T10:33:29.884+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 0}
2025-11-26T10:33:51.664+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1081) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913618529549422592, userId: 10001, fromId: 10001, toId: 10006, tm: 1764124431547 (time: 2025-11-26 10:33:51), devId: \"47FCC883FB83DD2D\", sendId: 1081, msgType: TEXT, data: \"æ˜¨å¤©\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T10:33:51.703+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-26T10:33:51.704+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatMsg
2025-11-26T10:33:51.851+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913618529549422592 sendId:1081 recvOk:1764124431853 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:33:51.882+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913618430832283648) MsgTChatReply
2025-11-26T10:34:09.006+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:907091186211229696 sendId:1063 recvOk:1764124448989 readOk:1764124448989 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:34:09.047+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913618430832283648) MsgTChatReply
2025-11-26T10:34:09.057+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913618529549422592 sendId:1081 recvOk:1764124448994 readOk:1764124448994 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:34:09.077+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913618430832283648) MsgTChatReply
2025-11-26T10:34:19.661+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1082) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913618646998323200, userId: 10001, fromId: 10001, toId: 10006, tm: 1764124459580 (time: 2025-11-26 10:34:19), devId: \"47FCC883FB83DD2D\", sendId: 1082, msgType: TEXT, data: \"2\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T10:34:19.683+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-26T10:34:19.683+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatMsg
2025-11-26T10:34:19.806+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913618646998323200 sendId:1082 recvOk:1764124459811 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:34:19.816+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913618430832283648) MsgTChatReply
2025-11-26T10:34:32.980+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1141) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913618702874841088, userId: 10006, fromId: 10006, toId: 10001, tm: 1764124472923 (time: 2025-11-26 10:34:32), devId: \"BEF2A06F75075BC9\", sendId: 1141, msgType: TEXT, data: \"å¤©æ¶¯\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T10:34:33.089+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-26T10:34:33.091+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913618430832283648) MsgTChatMsg
2025-11-26T10:34:33.092+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1141) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913618703344603136, userId: 10006, fromId: 10006, toId: 10001, tm: 1764124472934 (time: 2025-11-26 10:34:32), devId: \"BEF2A06F75075BC9\", sendId: 1141, msgType: TEXT, data: \"å¤©æ¶¯\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T10:34:33.136+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-26T10:34:33.137+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913618430832283648) MsgTChatMsg
2025-11-26T10:34:33.246+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913618702874841088 sendId:1141 recvOk:1764124473163 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:34:33.261+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:34:33.383+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913618703344603136 sendId:1141 recvOk:1764124473190 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:34:33.394+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:34:33.818+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913618646998323200 sendId:1082 recvOk:1764124473835 readOk:1764124473835 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:34:33.833+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913618430832283648) MsgTChatReply
2025-11-26T10:35:01.993+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"RsvCXoMPEHU1QI3Jw+pp+OBE685Z7OTbSZ/V3fo=\"}"}
2025-11-26T10:35:01.999+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T10:35:01.999+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764124501999,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T10:35:02.107+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T10:35:02.108+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913618430832283648) MsgTFriendOpRet
2025-11-26T10:35:02.108+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913618823964397568) MsgTFriendOpRet
2025-11-26T10:35:02.132+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(913618430832283648) close here, because ws:readLoop() error, err=read tcp 192.168.1.2:7817->192.168.1.24:46102: wsarecv: An existing connection was forcibly closed by the remote host.
2025-11-26T10:35:02.136+0800	[34mINFO[0m	core/session.go:256	user(10001) session(913618430832283648)
2025-11-26T10:35:02.142+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T10:35:02.142+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913618823964397568) MsgTFriendOpRet
2025-11-26T10:35:02.203+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:913618703344603136 chatType:ChatTypeP2P"}
2025-11-26T10:35:02.217+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T10:35:02.290+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913618703344603136 sendId:1141 recvOk:1764124502190 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:35:02.310+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:35:19.824+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1142) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913618899352817664, userId: 10006, fromId: 10006, toId: 10001, tm: 1764124519824 (time: 2025-11-26 10:35:19), devId: \"BEF2A06F75075BC9\", sendId: 1142, msgType: TEXT, data: \"ä¸€\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T10:35:19.847+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-26T10:35:19.848+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913618823964397568) MsgTChatMsg
2025-11-26T10:35:19.938+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913618899352817664 sendId:1142 recvOk:1764124519843 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:35:19.959+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:35:24.329+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1143) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913618918248157184, userId: 10006, fromId: 10006, toId: 10001, tm: 1764124524334 (time: 2025-11-26 10:35:24), devId: \"BEF2A06F75075BC9\", sendId: 1143, msgType: TEXT, data: \"äºŒ\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T10:35:24.347+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-26T10:35:24.347+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913618823964397568) MsgTChatMsg
2025-11-26T10:35:24.442+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913618918248157184 sendId:1143 recvOk:1764124524357 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:35:24.458+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:35:29.913+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1144) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913618941669150720, userId: 10006, fromId: 10006, toId: 10001, tm: 1764124529904 (time: 2025-11-26 10:35:29), devId: \"BEF2A06F75075BC9\", sendId: 1144, msgType: TEXT, data: \"ä¸‰\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T10:35:29.921+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-26T10:35:29.921+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913618823964397568) MsgTChatMsg
2025-11-26T10:35:30.070+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913618941669150720 sendId:1144 recvOk:1764124529990 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:35:30.086+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:35:40.088+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1101) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913618984346193920, userId: 10001, fromId: 10001, toId: 10006, tm: 1764124539984 (time: 2025-11-26 10:35:39), devId: \"47FCC883FB83DD2D\", sendId: 1101, msgType: TEXT, data: \"å››\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T10:35:40.110+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-26T10:35:40.110+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatMsg
2025-11-26T10:35:40.273+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913618984346193920 sendId:1101 recvOk:1764124540253 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:35:40.291+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913618823964397568) MsgTChatReply
2025-11-26T10:35:40.512+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913618984346193920 sendId:1101 recvOk:1764124540538 readOk:1764124540538 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:35:40.524+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913618823964397568) MsgTChatReply
2025-11-26T10:35:40.697+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913618702874841088 sendId:1141 recvOk:1764124540617 readOk:1764124540617 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:35:40.711+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:35:40.864+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913618703344603136 sendId:1141 recvOk:1764124540620 readOk:1764124540620 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:35:40.884+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:35:40.884+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913618899352817664 sendId:1142 recvOk:1764124540622 readOk:1764124540622 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:35:40.898+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:35:40.898+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913618918248157184 sendId:1143 recvOk:1764124540623 readOk:1764124540623 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:35:40.909+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:35:40.948+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913618941669150720 sendId:1144 recvOk:1764124540624 readOk:1764124540624 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:35:40.961+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:35:46.977+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1102) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913619013240754176, userId: 10001, fromId: 10001, toId: 10006, tm: 1764124546903 (time: 2025-11-26 10:35:46), devId: \"47FCC883FB83DD2D\", sendId: 1102, msgType: TEXT, data: \"äº”\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T10:35:46.988+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-26T10:35:46.988+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatMsg
2025-11-26T10:35:47.066+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913619013240754176 sendId:1102 recvOk:1764124547061 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:35:47.083+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913618823964397568) MsgTChatReply
2025-11-26T10:35:47.321+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913619013240754176 sendId:1102 recvOk:1764124547335 readOk:1764124547335 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:35:47.346+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913618823964397568) MsgTChatReply
2025-11-26T10:36:05.589+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1103) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913619091305140224, userId: 10001, fromId: 10001, toId: 10006, tm: 1764124565514 (time: 2025-11-26 10:36:05), devId: \"47FCC883FB83DD2D\", sendId: 1103, msgType: TEXT, data: \"å…­\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T10:36:05.599+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-26T10:36:05.599+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatMsg
2025-11-26T10:36:05.716+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913619091305140224 sendId:1103 recvOk:1764124565697 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:36:05.727+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913618823964397568) MsgTChatReply
2025-11-26T10:36:05.990+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913619091305140224 sendId:1103 recvOk:1764124565986 readOk:1764124565986 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:36:06.002+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913618823964397568) MsgTChatReply
2025-11-26T10:36:13.630+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1104) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913619125031538688, userId: 10001, fromId: 10001, toId: 10006, tm: 1764124573545 (time: 2025-11-26 10:36:13), devId: \"47FCC883FB83DD2D\", sendId: 1104, msgType: TEXT, data: \"ä¸ƒ\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T10:36:13.640+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-26T10:36:13.640+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatMsg
2025-11-26T10:36:13.784+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913619125031538688 sendId:1104 recvOk:1764124573795 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:36:13.794+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913618823964397568) MsgTChatReply
2025-11-26T10:36:14.105+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913619125031538688 sendId:1104 recvOk:1764124574103 readOk:1764124574103 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:36:14.122+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913618823964397568) MsgTChatReply
2025-11-26T10:36:21.697+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1145) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913619158866989056, userId: 10006, fromId: 10006, toId: 10001, tm: 1764124581703 (time: 2025-11-26 10:36:21), devId: \"BEF2A06F75075BC9\", sendId: 1145, msgType: TEXT, data: \"æ•…äº‹\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T10:36:21.708+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-26T10:36:21.708+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913618823964397568) MsgTChatMsg
2025-11-26T10:36:21.776+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913619158866989056 sendId:1145 recvOk:1764124581699 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:36:21.799+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:36:22.135+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913619158866989056 sendId:1145 recvOk:1764124582040 readOk:1764124582040 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:36:22.154+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:36:53.937+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(913618823964397568) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T10:36:53.940+0800	[34mINFO[0m	core/session.go:256	user(10001) session(913618823964397568)
2025-11-26T10:38:55.736+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"5Xg2KSdeDwdtZ7fW4HQEl7t4Nc5J8fgkf/SDhPo=\"}"}
2025-11-26T10:38:55.739+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T10:38:55.739+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764124735739,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T10:38:55.798+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T10:38:55.799+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913619804638810112) MsgTFriendOpRet
2025-11-26T10:38:55.866+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T10:38:55.866+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913619804638810112) MsgTFriendOpRet
2025-11-26T10:38:55.888+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:913619158866989056 chatType:ChatTypeP2P"}
2025-11-26T10:38:55.897+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T10:38:55.949+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913619158866989056 sendId:1145 recvOk:1764124735862 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:38:55.960+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:39:02.210+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1121) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913619832107307008, userId: 10001, fromId: 10001, toId: 10006, tm: 1764124742139 (time: 2025-11-26 10:39:02), devId: \"47FCC883FB83DD2D\", sendId: 1121, msgType: TEXT, data: \"å…«\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T10:39:02.231+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-26T10:39:02.231+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatMsg
2025-11-26T10:39:02.337+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913619832107307008 sendId:1121 recvOk:1764124742334 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:39:02.347+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913619804638810112) MsgTChatReply
2025-11-26T10:39:02.660+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913619832107307008 sendId:1121 recvOk:1764124742647 readOk:1764124742647 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:39:02.685+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913619804638810112) MsgTChatReply
2025-11-26T10:52:01.594+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1146) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913623101072347136, userId: 10006, fromId: 10006, toId: 10001, tm: 1764125521589 (time: 2025-11-26 10:52:01), devId: \"BEF2A06F75075BC9\", sendId: 1146, msgType: TEXT, data: \"ä¹\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T10:52:01.613+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-26T10:52:01.613+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913619804638810112) MsgTChatMsg
2025-11-26T10:52:01.673+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913623101072347136 sendId:1146 recvOk:1764125521598 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:52:01.685+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:52:17.786+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(913619804638810112) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T10:52:17.788+0800	[34mINFO[0m	core/session.go:256	user(10001) session(913619804638810112)
2025-11-26T10:52:19.883+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"vv1fPDPqLYa7yaUrR0dX27hWdEUrE7Xi1Nt0gQ0=\"}"}
2025-11-26T10:52:19.884+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T10:52:19.884+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764125539884,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T10:52:19.930+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T10:52:19.931+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913623177391902720) MsgTFriendOpRet
2025-11-26T10:52:20.007+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T10:52:20.007+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913623177391902720) MsgTFriendOpRet
2025-11-26T10:52:20.024+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:913623101072347136 chatType:ChatTypeP2P"}
2025-11-26T10:52:20.035+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T10:52:20.074+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913623101072347136 sendId:1146 recvOk:1764125540001 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:52:20.101+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:52:30.538+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1147) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913623222480670720, userId: 10006, fromId: 10006, toId: 10001, tm: 1764125550553 (time: 2025-11-26 10:52:30), devId: \"BEF2A06F75075BC9\", sendId: 1147, msgType: TEXT, data: \"å\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T10:52:30.544+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-26T10:52:30.544+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913623177391902720) MsgTChatMsg
2025-11-26T10:52:30.709+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913623222480670720 sendId:1147 recvOk:1764125550612 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:52:30.720+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:52:37.844+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913619158866989056 sendId:1145 recvOk:1764125557780 readOk:1764125557780 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:52:37.854+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:52:37.937+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913623101072347136 sendId:1146 recvOk:1764125557783 readOk:1764125557783 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:52:37.959+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:52:38.117+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913623222480670720 sendId:1147 recvOk:1764125557784 readOk:1764125557784 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:52:38.131+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:53:59.806+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(913623177391902720) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T10:53:59.806+0800	[34mINFO[0m	core/session.go:256	user(10001) session(913623177391902720)
2025-11-26T10:54:27.872+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"fbimaSPA6p9ePzdY4h7zYyzDVaL84g12h6/vjZw=\"}"}
2025-11-26T10:54:27.874+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T10:54:27.874+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764125667874,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T10:54:27.922+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T10:54:27.922+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913623714157957120) MsgTFriendOpRet
2025-11-26T10:54:27.982+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T10:54:27.982+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913623714157957120) MsgTFriendOpRet
2025-11-26T10:54:28.012+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 synType:SynTypeBackward chatType:ChatTypeP2P"}
2025-11-26T10:54:28.051+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 100}
2025-11-26T10:54:35.310+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913618702874841088 sendId:1141 recvOk:1764125675220 readOk:1764125675220 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:54:35.330+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:54:35.469+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913618703344603136 sendId:1141 recvOk:1764125675223 readOk:1764125675223 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:54:35.485+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:54:35.486+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913618899352817664 sendId:1142 recvOk:1764125675224 readOk:1764125675224 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:54:35.502+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:54:35.502+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913618918248157184 sendId:1143 recvOk:1764125675225 readOk:1764125675225 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:54:35.512+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:54:35.674+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913618941669150720 sendId:1144 recvOk:1764125675226 readOk:1764125675226 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:54:35.686+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:54:35.687+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913619158866989056 sendId:1145 recvOk:1764125675227 readOk:1764125675227 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:54:35.702+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:54:35.703+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913623101072347136 sendId:1146 recvOk:1764125675228 readOk:1764125675228 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:54:35.717+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:54:35.878+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913623222480670720 sendId:1147 recvOk:1764125675229 readOk:1764125675229 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:54:35.902+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:55:13.389+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(913623714157957120) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T10:55:13.391+0800	[34mINFO[0m	core/session.go:256	user(10001) session(913623714157957120)
2025-11-26T10:55:54.486+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"pbO2Bzg77B0FtJjWpVOFigxwlswSEb3xxKxpRxU=\"}"}
2025-11-26T10:55:54.487+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T10:55:54.487+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764125754487,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T10:55:54.594+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T10:55:54.594+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913624077141413888) MsgTFriendOpRet
2025-11-26T10:55:54.658+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T10:55:54.659+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913624077141413888) MsgTFriendOpRet
2025-11-26T10:55:54.685+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 synType:SynTypeBackward chatType:ChatTypeP2P"}
2025-11-26T10:55:54.714+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 100}
2025-11-26T10:55:58.779+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913618702874841088 sendId:1141 recvOk:1764125758703 readOk:1764125758703 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:55:58.794+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:55:58.866+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913618703344603136 sendId:1141 recvOk:1764125758706 readOk:1764125758706 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:55:58.888+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:55:58.927+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913618899352817664 sendId:1142 recvOk:1764125758707 readOk:1764125758707 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:55:58.936+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:55:59.015+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913618918248157184 sendId:1143 recvOk:1764125758708 readOk:1764125758708 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:55:59.027+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:55:59.027+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913618941669150720 sendId:1144 recvOk:1764125758709 readOk:1764125758709 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:55:59.042+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:55:59.096+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913619158866989056 sendId:1145 recvOk:1764125758710 readOk:1764125758710 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:55:59.121+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:55:59.188+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913623101072347136 sendId:1146 recvOk:1764125758711 readOk:1764125758711 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:55:59.216+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:55:59.216+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913623222480670720 sendId:1147 recvOk:1764125758712 readOk:1764125758712 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:55:59.226+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:56:29.480+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(913624077141413888) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T10:56:29.482+0800	[34mINFO[0m	core/session.go:256	user(10001) session(913624077141413888)
2025-11-26T10:56:30.458+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"cuuCO03hu1i3TPR4jrZt7J6Hvr6N2CxShFTwWSo=\"}"}
2025-11-26T10:56:30.458+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T10:56:30.459+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764125790458,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T10:56:30.540+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T10:56:30.540+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913624228392210432) MsgTFriendOpRet
2025-11-26T10:56:30.573+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T10:56:30.573+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913624228392210432) MsgTFriendOpRet
2025-11-26T10:56:30.624+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913623222480670720 sendId:1147 recvOk:1764125790442 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:56:30.634+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:56:30.708+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913623101072347136 sendId:1146 recvOk:1764125790443 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:56:30.727+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:56:30.771+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913619158866989056 sendId:1145 recvOk:1764125790444 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:56:30.789+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:56:30.789+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913618941669150720 sendId:1144 recvOk:1764125790444 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:56:30.798+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:56:30.856+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913618918248157184 sendId:1143 recvOk:1764125790445 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:56:30.886+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:56:30.940+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:913623222480670720 chatType:ChatTypeP2P"}
2025-11-26T10:56:30.955+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T10:56:30.972+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913623222480670720 sendId:1147 recvOk:1764125790921 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:56:30.988+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T11:00:15.578+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(913618317669961728) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T11:00:15.578+0800	[34mINFO[0m	core/session.go:256	user(10006) session(913618317669961728)
2025-11-26T11:00:22.162+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"OtEXPk97FLWR9sGi5dc3c8cpl6qiiAvP5obU4HE=\"}"}
2025-11-26T11:00:22.168+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-26T11:00:22.168+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764126022168,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T11:00:22.209+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913625199793016832) MsgTFriendOpRet
2025-11-26T11:00:22.275+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-11-26T11:00:22.276+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913625199793016832) MsgTFriendOpRet
2025-11-26T11:00:22.320+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T11:00:22.320+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913625199793016832) MsgTFriendOpRet
2025-11-26T11:00:22.512+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:913623222480670720 chatType:ChatTypeP2P"}
2025-11-26T11:00:22.537+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T11:00:32.222+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1161) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913625242809798656, userId: 10006, fromId: 10006, toId: 10001, tm: 1764126032214 (time: 2025-11-26 11:00:32), devId: \"BEF2A06F75075BC9\", sendId: 1161, msgType: TEXT, data: \"ä¸€\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T11:00:32.243+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-26T11:00:32.243+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913624228392210432) MsgTChatMsg
2025-11-26T11:00:32.413+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913625242809798656 sendId:1161 recvOk:1764126032316 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:00:32.430+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913625199793016832) MsgTChatReply
2025-11-26T11:00:35.567+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1162) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913625256839745536, userId: 10006, fromId: 10006, toId: 10001, tm: 1764126035552 (time: 2025-11-26 11:00:35), devId: \"BEF2A06F75075BC9\", sendId: 1162, msgType: TEXT, data: \"äºŒ\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T11:00:35.578+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-26T11:00:35.578+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913624228392210432) MsgTChatMsg
2025-11-26T11:00:35.641+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913625256839745536 sendId:1162 recvOk:1764126035591 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:00:35.650+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913625199793016832) MsgTChatReply
2025-11-26T11:00:38.989+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1163) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913625271192653824, userId: 10006, fromId: 10006, toId: 10001, tm: 1764126038957 (time: 2025-11-26 11:00:38), devId: \"BEF2A06F75075BC9\", sendId: 1163, msgType: TEXT, data: \"ä¸‰\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T11:00:39.006+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-26T11:00:39.006+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913624228392210432) MsgTChatMsg
2025-11-26T11:00:39.142+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913625271192653824 sendId:1163 recvOk:1764126039074 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:00:39.153+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913625199793016832) MsgTChatReply
2025-11-26T11:14:49.045+0800	[34mINFO[0m	server/main.go:92	server started here...
2025-11-26T11:14:52.937+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"UPXDDxzKTfa8otYpRAEahVMAurilRbBkhfjqa6E=\"}"}
2025-11-26T11:14:53.100+0800	[35mDEBUG[0m	core/commonhelper.go:421	Load user permission list	{"user": 10001, "count": 0}
2025-11-26T11:14:53.106+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T11:14:53.109+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764126893106,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T11:14:53.316+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"nickName":"robin","email":"*","phone":"*"},{"userId":10004,"nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*"},{"userId":10005,"nickName":"robin","email":"*","phone":"*"},{"userId":10006,"nickName":"robin fox","email":"*","phone":"*"},{"userId":10007,"nickName":"yoyo","email":"*","phone":"*"}]}
2025-11-26T11:14:53.317+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913628852629147648) MsgTFriendOpRet
2025-11-26T11:14:53.363+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T11:14:53.364+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913628852629147648) MsgTFriendOpRet
2025-11-26T11:19:47.047+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"dazfEB/MKyS6uHjpPI/4eXtAVwgIPiQ24W1ObjE=\"}"}
2025-11-26T11:19:47.049+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-26T11:19:47.049+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764127187049,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T11:19:47.157+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-11-26T11:19:47.158+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913630086186536960) MsgTFriendOpRet
2025-11-26T11:19:47.218+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T11:19:47.219+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913630086186536960) MsgTFriendOpRet
2025-11-26T11:21:20.170+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(913628852629147648) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T11:21:20.180+0800	[34mINFO[0m	core/session.go:256	user(10001) session(913628852629147648)
2025-11-26T11:21:21.333+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"wXl46/wPAuWryVf7T3PE4CYVZP7Mt3DsoRIv8AQ=\"}"}
2025-11-26T11:21:21.347+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T11:21:21.349+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764127281347,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T11:21:21.494+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T11:21:21.494+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913630481482911744) MsgTFriendOpRet
2025-11-26T11:21:21.525+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T11:21:21.525+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913630481482911744) MsgTFriendOpRet
2025-11-26T11:21:21.577+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:913625271192653824 chatType:ChatTypeP2P"}
2025-11-26T11:21:21.601+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T11:21:21.617+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913625271192653824 sendId:1163 recvOk:1764127280952 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:21:21.635+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913630086186536960) MsgTChatReply
2025-11-26T11:21:28.110+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1164) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913630510255837184, userId: 10006, fromId: 10006, toId: 10001, tm: 1764127287119 (time: 2025-11-26 11:21:27), devId: \"BEF2A06F75075BC9\", sendId: 1164, msgType: TEXT, data: \"å››\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T11:21:28.193+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-26T11:21:28.194+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913630481482911744) MsgTChatMsg
2025-11-26T11:21:28.336+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913630510255837184 sendId:1164 recvOk:1764127287650 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:21:28.353+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913630086186536960) MsgTChatReply
2025-11-26T11:21:35.875+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1165) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913630542954631168, userId: 10006, fromId: 10006, toId: 10001, tm: 1764127294925 (time: 2025-11-26 11:21:34), devId: \"BEF2A06F75075BC9\", sendId: 1165, msgType: TEXT, data: \"äº”\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T11:21:35.906+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-26T11:21:35.908+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913630481482911744) MsgTChatMsg
2025-11-26T11:21:36.044+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913630542954631168 sendId:1165 recvOk:1764127295323 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:21:36.074+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913630086186536960) MsgTChatReply
2025-11-26T11:21:55.247+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(913630481482911744) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T11:21:55.248+0800	[34mINFO[0m	core/session.go:256	user(10001) session(913630481482911744)
2025-11-26T11:23:05.816+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1166) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913630920186138624, userId: 10006, fromId: 10006, toId: 10001, tm: 1764127384878 (time: 2025-11-26 11:23:04), devId: \"BEF2A06F75075BC9\", sendId: 1166, msgType: TEXT, data: \"å…­\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T11:23:05.828+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-26T11:23:05.828+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-26T11:23:12.671+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1167) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913630948946481152, userId: 10006, fromId: 10006, toId: 10001, tm: 1764127391723 (time: 2025-11-26 11:23:11), devId: \"BEF2A06F75075BC9\", sendId: 1167, msgType: TEXT, data: \"ä¸ƒ\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T11:23:12.691+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-26T11:23:12.691+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-26T11:23:19.636+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"PyE3g6b064BW5XyvA1K5tBtuyvQGkKPAecu5OLU=\"}"}
2025-11-26T11:23:19.639+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T11:23:19.640+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764127399639,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T11:23:19.760+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T11:23:19.770+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913630977354502144) MsgTFriendOpRet
2025-11-26T11:23:19.920+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T11:23:19.921+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913630977354502144) MsgTFriendOpRet
2025-11-26T11:23:19.921+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:913630542954631168 chatType:ChatTypeP2P"}
2025-11-26T11:23:19.939+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 3}
2025-11-26T11:23:19.988+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913630542954631168 sendId:1165 recvOk:1764127399289 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:23:20.004+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913630086186536960) MsgTChatReply
2025-11-26T11:23:20.071+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913630920186138624 sendId:1166 recvOk:1764127399289 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:23:20.096+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913630086186536960) MsgTChatReply
2025-11-26T11:23:20.155+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913630948946481152 sendId:1167 recvOk:1764127399289 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:23:20.173+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913630086186536960) MsgTChatReply
2025-11-26T11:23:28.352+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1168) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913631014713167872, userId: 10006, fromId: 10006, toId: 10001, tm: 1764127407401 (time: 2025-11-26 11:23:27), devId: \"BEF2A06F75075BC9\", sendId: 1168, msgType: TEXT, data: \"å…«\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T11:23:28.360+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-26T11:23:28.360+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913630977354502144) MsgTChatMsg
2025-11-26T11:23:28.459+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913631014713167872 sendId:1168 recvOk:1764127407764 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:23:28.475+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913630086186536960) MsgTChatReply
2025-11-26T11:23:34.284+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1169) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913631039597973504, userId: 10006, fromId: 10006, toId: 10001, tm: 1764127413341 (time: 2025-11-26 11:23:33), devId: \"BEF2A06F75075BC9\", sendId: 1169, msgType: TEXT, data: \"ä¹\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T11:23:34.297+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-26T11:23:34.298+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913630977354502144) MsgTChatMsg
2025-11-26T11:23:34.377+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913631039597973504 sendId:1169 recvOk:1764127413702 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:23:34.394+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913630086186536960) MsgTChatReply
2025-11-26T11:23:34.839+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913623222480670720 sendId:1147 recvOk:1764127414143 readOk:1764127414143 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:23:34.876+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913630086186536960) MsgTChatReply
2025-11-26T11:23:34.973+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913625242809798656 sendId:1161 recvOk:1764127414149 readOk:1764127414149 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:23:34.999+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913630086186536960) MsgTChatReply
2025-11-26T11:23:35.003+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913625256839745536 sendId:1162 recvOk:1764127414152 readOk:1764127414152 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:23:35.015+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913630086186536960) MsgTChatReply
2025-11-26T11:23:35.049+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913625271192653824 sendId:1163 recvOk:1764127414153 readOk:1764127414153 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:23:35.060+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913630086186536960) MsgTChatReply
2025-11-26T11:23:35.135+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913630510255837184 sendId:1164 recvOk:1764127414155 readOk:1764127414155 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:23:35.153+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913630086186536960) MsgTChatReply
2025-11-26T11:23:35.153+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913630542954631168 sendId:1165 recvOk:1764127414157 readOk:1764127414157 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:23:35.163+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913630086186536960) MsgTChatReply
2025-11-26T11:23:35.219+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913630920186138624 sendId:1166 recvOk:1764127414159 readOk:1764127414159 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:23:35.231+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913630086186536960) MsgTChatReply
2025-11-26T11:23:35.232+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913630948946481152 sendId:1167 recvOk:1764127414161 readOk:1764127414161 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:23:35.249+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913630086186536960) MsgTChatReply
2025-11-26T11:23:35.303+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913631014713167872 sendId:1168 recvOk:1764127414164 readOk:1764127414164 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:23:35.319+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913630086186536960) MsgTChatReply
2025-11-26T11:23:35.389+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913631039597973504 sendId:1169 recvOk:1764127414166 readOk:1764127414166 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:23:35.411+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913630086186536960) MsgTChatReply
2025-11-26T11:23:39.895+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1170) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913631063132213248, userId: 10006, fromId: 10006, toId: 10001, tm: 1764127418927 (time: 2025-11-26 11:23:38), devId: \"BEF2A06F75075BC9\", sendId: 1170, msgType: TEXT, data: \"å\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T11:23:39.915+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-26T11:23:39.918+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913630977354502144) MsgTChatMsg
2025-11-26T11:23:39.980+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(913631063132213248) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913631063488729088, userId: 10006, fromId: 10006, toId: 10001, tm: 1764127419022 (time: 2025-11-26 11:23:39), devId: \"BEF2A06F75075BC9\", sendId: 913631063132213248, msgType: TEXT, data: \"å\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T11:23:39.998+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-26T11:23:39.999+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913630977354502144) MsgTChatMsg
2025-11-26T11:23:40.054+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913631063132213248 sendId:1170 recvOk:1764127419334 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:23:40.079+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913630086186536960) MsgTChatReply
2025-11-26T11:23:40.175+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913631063488729088 sendId:913631063132213248 recvOk:1764127419412 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:23:40.187+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913630086186536960) MsgTChatReply
2025-11-26T11:23:40.567+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913631063132213248 sendId:1170 recvOk:1764127419859 readOk:1764127419859 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:23:40.586+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913630086186536960) MsgTChatReply
2025-11-26T11:23:41.030+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913631063488729088 sendId:913631063132213248 recvOk:1764127420308 readOk:1764127420308 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:23:41.051+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913630086186536960) MsgTChatReply
2025-11-26T11:36:14.876+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(913630977354502144) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T11:36:14.876+0800	[34mINFO[0m	core/session.go:256	user(10001) session(913630977354502144)
2025-11-26T11:36:21.234+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"m8VGBWzXT+7FZwUgNQKiNNxuSgnB9aSlGYrHlAA=\"}"}
2025-11-26T11:36:21.235+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T11:36:21.235+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764128181235,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T11:36:21.416+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T11:36:21.416+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913634254255165440) MsgTFriendOpRet
2025-11-26T11:36:21.484+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T11:36:21.484+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913634254255165440) MsgTFriendOpRet
2025-11-26T11:36:21.489+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:913631063488729088 chatType:ChatTypeP2P"}
2025-11-26T11:36:21.500+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T11:36:21.601+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913631063488729088 sendId:913631063132213248 recvOk:1764128180896 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:36:21.627+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913630086186536960) MsgTChatReply
2025-11-26T11:36:29.134+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1141) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913634289554427904, userId: 10001, fromId: 10001, toId: 10006, tm: 1764128188391 (time: 2025-11-26 11:36:28), devId: \"47FCC883FB83DD2D\", sendId: 1141, msgType: TEXT, data: \"1\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T11:36:29.161+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-26T11:36:29.162+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913630086186536960) MsgTChatMsg
2025-11-26T11:36:29.348+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913634289554427904 sendId:1141 recvOk:1764128188396 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:36:29.365+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913634254255165440) MsgTChatReply
2025-11-26T11:36:29.562+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913634289554427904 sendId:1141 recvOk:1764128188611 readOk:1764128188611 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:36:29.582+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913634254255165440) MsgTChatReply
2025-11-26T11:37:58.741+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1142) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913634665393426432, userId: 10001, fromId: 10001, toId: 10006, tm: 1764128278018 (time: 2025-11-26 11:37:58), devId: \"47FCC883FB83DD2D\", sendId: 1142, msgType: TEXT, data: \"2\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T11:37:58.764+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-26T11:37:58.765+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913630086186536960) MsgTChatMsg
2025-11-26T11:37:58.952+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913634665393426432 sendId:1142 recvOk:1764128277993 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:37:58.979+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913634254255165440) MsgTChatReply
2025-11-26T11:37:59.159+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913634665393426432 sendId:1142 recvOk:1764128278248 readOk:1764128278248 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:37:59.174+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913634254255165440) MsgTChatReply
2025-11-26T11:40:37.976+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(913630086186536960) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T11:40:37.977+0800	[34mINFO[0m	core/session.go:256	user(10006) session(913630086186536960)
2025-11-26T11:40:41.963+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"6esNnVDRUKFBIIzYiCUZkqFHGADHrjP4zr4QDGE=\"}"}
2025-11-26T11:40:41.966+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-26T11:40:41.966+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764128441966,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T11:40:42.013+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913635349182418944) MsgTFriendOpRet
2025-11-26T11:40:42.072+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-11-26T11:40:42.073+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913635349182418944) MsgTFriendOpRet
2025-11-26T11:40:42.132+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T11:40:42.133+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913635349182418944) MsgTFriendOpRet
2025-11-26T11:40:42.266+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:913634665393426432 chatType:ChatTypeP2P"}
2025-11-26T11:40:42.286+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T11:40:42.317+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913634665393426432 sendId:1142 recvOk:1764128441393 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:40:42.335+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913634254255165440) MsgTChatReply
2025-11-26T11:41:13.696+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(913635349182418944) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T11:41:13.697+0800	[34mINFO[0m	core/session.go:256	user(10006) session(913635349182418944)
2025-11-26T11:43:57.526+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"QpoeX7Ra27d04C/42MCowCyB9kz3NZ1+7xkNLjI=\"}"}
2025-11-26T11:43:57.530+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-26T11:43:57.530+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764128637530,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T11:43:57.871+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913636167914754048) MsgTFriendOpRet
2025-11-26T11:43:57.951+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-11-26T11:43:57.951+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913636167914754048) MsgTFriendOpRet
2025-11-26T11:43:58.028+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T11:43:58.028+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913636167914754048) MsgTFriendOpRet
2025-11-26T11:43:58.861+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:913634665393426432 chatType:ChatTypeP2P"}
2025-11-26T11:43:58.883+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T11:43:58.942+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913634665393426432 sendId:1142 recvOk:1764128637992 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:43:58.952+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913634254255165440) MsgTChatReply
2025-11-26T11:44:21.141+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(913636167914754048) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T11:44:21.144+0800	[34mINFO[0m	core/session.go:256	user(10006) session(913636167914754048)
2025-11-26T11:44:26.260+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"Y9lJrAzFB4SwoZ0GWwDvH5OsuQgZZbXJeXQZKBk=\"}"}
2025-11-26T11:44:26.261+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-26T11:44:26.262+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764128666261,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T11:44:26.452+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913636288698126336) MsgTFriendOpRet
2025-11-26T11:44:26.526+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-11-26T11:44:26.526+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913636288698126336) MsgTFriendOpRet
2025-11-26T11:44:26.574+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T11:44:26.576+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913636288698126336) MsgTFriendOpRet
2025-11-26T11:44:27.391+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:913634665393426432 chatType:ChatTypeP2P"}
2025-11-26T11:44:27.401+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T11:44:27.431+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913634665393426432 sendId:1142 recvOk:1764128666505 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:44:27.448+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913634254255165440) MsgTChatReply
2025-11-26T11:44:50.761+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(913636288698126336) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T11:44:50.766+0800	[34mINFO[0m	core/session.go:256	user(10006) session(913636288698126336)
2025-11-26T11:45:30.601+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"28EUbDBD7hBTIHIu6qQJwPfDZf1pVGokGuwaAjM=\"}"}
2025-11-26T11:45:30.602+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-26T11:45:30.602+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764128730602,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T11:45:30.739+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913636558589005824) MsgTFriendOpRet
2025-11-26T11:45:30.815+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-11-26T11:45:30.816+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913636558589005824) MsgTFriendOpRet
2025-11-26T11:45:30.862+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T11:45:30.863+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913636558589005824) MsgTFriendOpRet
2025-11-26T11:45:31.675+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:913634665393426432 chatType:ChatTypeP2P"}
2025-11-26T11:45:31.686+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T11:45:31.765+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913634665393426432 sendId:1142 recvOk:1764128730816 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:45:31.782+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913634254255165440) MsgTChatReply
2025-11-26T11:45:40.261+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(913636558589005824) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T11:45:40.263+0800	[34mINFO[0m	core/session.go:256	user(10006) session(913636558589005824)
2025-11-26T11:45:45.270+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"i11EZ+cMCIpNsKnJ2VaMwgWhziuFIMJl0pB1Xdo=\"}"}
2025-11-26T11:45:45.271+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-26T11:45:45.271+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764128745271,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T11:45:45.410+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913636620111056896) MsgTFriendOpRet
2025-11-26T11:45:45.477+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-11-26T11:45:45.478+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913636620111056896) MsgTFriendOpRet
2025-11-26T11:45:45.523+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T11:45:45.523+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913636620111056896) MsgTFriendOpRet
2025-11-26T11:45:46.335+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:913634665393426432 chatType:ChatTypeP2P"}
2025-11-26T11:45:46.358+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T11:45:46.375+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913634665393426432 sendId:1142 recvOk:1764128745464 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:45:46.392+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913634254255165440) MsgTChatReply
2025-11-26T11:46:22.498+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(913636620111056896) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T11:46:22.499+0800	[34mINFO[0m	core/session.go:256	user(10006) session(913636620111056896)
2025-11-26T11:46:29.865+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"UtqxpJUdGQOa5exchPM7F+ME83Q6i1tSV1MOJZo=\"}"}
2025-11-26T11:46:29.871+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-26T11:46:29.871+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764128789871,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T11:46:30.040+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913636807055380480) MsgTFriendOpRet
2025-11-26T11:46:30.098+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-11-26T11:46:30.100+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913636807055380480) MsgTFriendOpRet
2025-11-26T11:46:30.169+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T11:46:30.170+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913636807055380480) MsgTFriendOpRet
2025-11-26T11:46:30.979+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:913634665393426432 chatType:ChatTypeP2P"}
2025-11-26T11:46:31.000+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T11:46:31.065+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913634665393426432 sendId:1142 recvOk:1764128790107 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:46:31.089+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913634254255165440) MsgTChatReply
2025-11-26T11:47:21.174+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(913636807055380480) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T11:47:21.175+0800	[34mINFO[0m	core/session.go:256	user(10006) session(913636807055380480)
2025-11-26T11:47:27.928+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"KWW/mrdQIYRmNGinvNrU9BIcRS4UFfp5x8nJo7s=\"}"}
2025-11-26T11:47:27.935+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-26T11:47:27.935+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764128847935,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T11:47:28.124+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913637050559893504) MsgTFriendOpRet
2025-11-26T11:47:28.185+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-11-26T11:47:28.186+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913637050559893504) MsgTFriendOpRet
2025-11-26T11:47:28.246+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T11:47:28.246+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913637050559893504) MsgTFriendOpRet
2025-11-26T11:47:29.051+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:913634665393426432 chatType:ChatTypeP2P"}
2025-11-26T11:47:29.067+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T11:47:29.090+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913634665393426432 sendId:1142 recvOk:1764128848172 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:47:29.115+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913634254255165440) MsgTChatReply
2025-11-26T11:48:04.237+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(913637050559893504) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T11:48:04.239+0800	[34mINFO[0m	core/session.go:256	user(10006) session(913637050559893504)
2025-11-26T11:48:23.047+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"4BG9oPxYhiql4Dabc2828hcMKEloVJbNTaUBGco=\"}"}
2025-11-26T11:48:23.049+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-26T11:48:23.051+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764128903049,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T11:48:23.195+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913637281871564800) MsgTFriendOpRet
2025-11-26T11:48:23.262+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-11-26T11:48:23.263+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913637281871564800) MsgTFriendOpRet
2025-11-26T11:48:23.308+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T11:48:23.308+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913637281871564800) MsgTFriendOpRet
2025-11-26T11:48:24.110+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:913634665393426432 chatType:ChatTypeP2P"}
2025-11-26T11:48:24.131+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T11:48:24.163+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913634665393426432 sendId:1142 recvOk:1764128903239 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:48:24.179+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913634254255165440) MsgTChatReply
2025-11-26T11:48:37.704+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(913634254255165440) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T11:48:37.705+0800	[34mINFO[0m	core/session.go:256	user(10001) session(913634254255165440)
2025-11-26T11:48:44.102+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"I7U7Tgukh7g56ePp8OiJVYIlc1NfbWrYVGL+Jao=\"}"}
2025-11-26T11:48:44.104+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T11:48:44.105+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764128924104,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T11:48:55.772+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T11:48:55.773+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913637370274910208) MsgTFriendOpRet
2025-11-26T11:48:55.802+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T11:48:55.802+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913637370274910208) MsgTFriendOpRet
2025-11-26T11:49:55.816+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(913637370274910208) close here, because ws:readLoop() error, err=read tcp 192.168.1.2:7817->192.168.1.24:47216: i/o timeout
2025-11-26T11:49:55.818+0800	[34mINFO[0m	core/session.go:256	user(10001) session(913637370274910208)
2025-11-26T12:13:24.271+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(913637281871564800) close here, because ws:readLoop() error, err=read tcp 192.168.1.2:7817->192.168.1.14:37959: wsarecv: A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond.
2025-11-26T12:13:24.272+0800	[34mINFO[0m	core/session.go:256	user(10006) session(913637281871564800)
2025-11-26T12:37:24.262+0800	[34mINFO[0m	server/main.go:92	server started here...
2025-11-26T12:37:55.460+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"neKcDqZpgWjC1TWSYRy9DiIRDrmWxM4cEVx3Ak0=\"}"}
2025-11-26T12:37:55.669+0800	[35mDEBUG[0m	core/commonhelper.go:421	Load user permission list	{"user": 10006, "count": 0}
2025-11-26T12:37:55.671+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-26T12:37:55.671+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764131875671,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T12:37:55.760+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913649750241316864) MsgTFriendOpRet
2025-11-26T12:37:55.835+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*"},{"userId":10002,"nickName":"robin","email":"*","phone":"*"}]}
2025-11-26T12:37:55.838+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913649750241316864) MsgTFriendOpRet
2025-11-26T12:37:55.901+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"nickName":"yoyo","email":"*","phone":"*"}]}
2025-11-26T12:37:55.901+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913649750241316864) MsgTFriendOpRet
2025-11-26T12:37:56.018+0800	[35mDEBUG[0m	core/chatmsghandler.go:489	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:913634665393426432 chatType:ChatTypeP2P"}
2025-11-26T12:37:56.059+0800	[35mDEBUG[0m	core/chatmsghandler.go:578	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T12:37:56.126+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913634665393426432 sendId:1142 recvOk:1764131875425 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:37:56.181+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-26T12:38:10.496+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"vfg+nfFqEE5gykDqgwZeWdzJTBBTOPf5EMU+iy0=\"}"}
2025-11-26T12:38:10.498+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T12:38:10.498+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764131890498,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T12:38:10.575+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*"},{"userId":10005,"nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T12:38:10.575+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913649813709524992) MsgTFriendOpRet
2025-11-26T12:38:10.611+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T12:38:10.612+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913649813709524992) MsgTFriendOpRet
2025-11-26T12:38:10.648+0800	[35mDEBUG[0m	core/chatmsghandler.go:489	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:913634665393426432 chatType:ChatTypeP2P"}
2025-11-26T12:38:10.665+0800	[35mDEBUG[0m	core/chatmsghandler.go:578	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T12:38:20.723+0800	[35mDEBUG[0m	core/chatmsghandler.go:123	receive chat msg(1181) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913649857087016960, userId: 10006, fromId: 10006, toId: 10001, tm: 1764131899998 (time: 2025-11-26 12:38:19), devId: \"BEF2A06F75075BC9\", sendId: 1181, msgType: TEXT, data: \"3\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T12:38:20.782+0800	[35mDEBUG[0m	core/chatmsghandler.go:248	send back reply 'save data ok'
2025-11-26T12:38:20.782+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913649813709524992) MsgTChatMsg
2025-11-26T12:38:20.915+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913649857087016960 sendId:1181 recvOk:1764131900207 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:38:20.943+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913649750241316864) MsgTChatReply
2025-11-26T12:38:21.004+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913634665393426432 sendId:1142 recvOk:1764131900350 readOk:1764131900350 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:38:21.037+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913649813709524992) MsgTChatReply
2025-11-26T12:38:24.090+0800	[35mDEBUG[0m	core/chatmsghandler.go:123	receive chat msg(1182) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913649871209238528, userId: 10006, fromId: 10006, toId: 10001, tm: 1764131903400 (time: 2025-11-26 12:38:23), devId: \"BEF2A06F75075BC9\", sendId: 1182, msgType: TEXT, data: \"4\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T12:38:24.110+0800	[35mDEBUG[0m	core/chatmsghandler.go:248	send back reply 'save data ok'
2025-11-26T12:38:24.111+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913649813709524992) MsgTChatMsg
2025-11-26T12:38:24.247+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913649871209238528 sendId:1182 recvOk:1764131903585 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:38:24.266+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913649750241316864) MsgTChatReply
2025-11-26T12:38:27.967+0800	[35mDEBUG[0m	core/chatmsghandler.go:123	receive chat msg(1183) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913649887470555136, userId: 10006, fromId: 10006, toId: 10001, tm: 1764131907275 (time: 2025-11-26 12:38:27), devId: \"BEF2A06F75075BC9\", sendId: 1183, msgType: TEXT, data: \"5\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T12:38:27.982+0800	[35mDEBUG[0m	core/chatmsghandler.go:248	send back reply 'save data ok'
2025-11-26T12:38:27.983+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913649813709524992) MsgTChatMsg
2025-11-26T12:38:28.048+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913649887470555136 sendId:1183 recvOk:1764131907372 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:38:28.066+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913649750241316864) MsgTChatReply
2025-11-26T12:38:47.395+0800	[35mDEBUG[0m	core/chatmsghandler.go:123	receive chat msg(1184) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913649968957493248, userId: 10006, fromId: 10006, toId: 10001, tm: 1764131926711 (time: 2025-11-26 12:38:46), devId: \"BEF2A06F75075BC9\", sendId: 1184, msgType: TEXT, data: \"6\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T12:38:47.402+0800	[35mDEBUG[0m	core/chatmsghandler.go:248	send back reply 'save data ok'
2025-11-26T12:38:47.403+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913649813709524992) MsgTChatMsg
2025-11-26T12:38:47.546+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913649968957493248 sendId:1184 recvOk:1764131926834 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:38:47.569+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913649750241316864) MsgTChatReply
2025-11-26T12:38:47.999+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913631063488729088 sendId:913631063132213248 recvOk:1764131927332 readOk:1764131927332 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:38:48.018+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913649750241316864) MsgTChatReply
2025-11-26T12:38:48.069+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913649857087016960 sendId:1181 recvOk:1764131927336 readOk:1764131927336 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:38:48.096+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913649750241316864) MsgTChatReply
2025-11-26T12:38:48.173+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913649871209238528 sendId:1182 recvOk:1764131927338 readOk:1764131927338 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:38:48.195+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913649750241316864) MsgTChatReply
2025-11-26T12:38:48.207+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913649887470555136 sendId:1183 recvOk:1764131927340 readOk:1764131927340 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:38:48.226+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913649750241316864) MsgTChatReply
2025-11-26T12:38:48.266+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913649968957493248 sendId:1184 recvOk:1764131927342 readOk:1764131927342 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:38:48.297+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913649750241316864) MsgTChatReply
2025-11-26T12:38:52.690+0800	[35mDEBUG[0m	core/chatmsghandler.go:123	receive chat msg(1185) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913649991162138624, userId: 10006, fromId: 10006, toId: 10001, tm: 1764131932026 (time: 2025-11-26 12:38:52), devId: \"BEF2A06F75075BC9\", sendId: 1185, msgType: TEXT, data: \"7\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T12:38:52.717+0800	[35mDEBUG[0m	core/chatmsghandler.go:248	send back reply 'save data ok'
2025-11-26T12:38:52.718+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913649813709524992) MsgTChatMsg
2025-11-26T12:38:52.807+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913649991162138624 sendId:1185 recvOk:1764131932144 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:38:52.823+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913649750241316864) MsgTChatReply
2025-11-26T12:38:53.373+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913649991162138624 sendId:1185 recvOk:1764131932650 readOk:1764131932650 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:38:53.419+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913649750241316864) MsgTChatReply
2025-11-26T12:38:55.856+0800	[35mDEBUG[0m	core/chatmsghandler.go:123	receive chat msg(1186) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913650004445499392, userId: 10006, fromId: 10006, toId: 10001, tm: 1764131935185 (time: 2025-11-26 12:38:55), devId: \"BEF2A06F75075BC9\", sendId: 1186, msgType: TEXT, data: \"8\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T12:38:55.870+0800	[35mDEBUG[0m	core/chatmsghandler.go:248	send back reply 'save data ok'
2025-11-26T12:38:55.870+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913649813709524992) MsgTChatMsg
2025-11-26T12:38:56.005+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913650004445499392 sendId:1186 recvOk:1764131935329 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:38:56.020+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913649750241316864) MsgTChatReply
2025-11-26T12:38:56.518+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913650004445499392 sendId:1186 recvOk:1764131935849 readOk:1764131935849 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:38:56.547+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913649750241316864) MsgTChatReply
2025-11-26T12:38:59.087+0800	[35mDEBUG[0m	core/chatmsghandler.go:123	receive chat msg(1187) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913650017997295616, userId: 10006, fromId: 10006, toId: 10001, tm: 1764131938378 (time: 2025-11-26 12:38:58), devId: \"BEF2A06F75075BC9\", sendId: 1187, msgType: TEXT, data: \"9\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T12:38:59.099+0800	[35mDEBUG[0m	core/chatmsghandler.go:248	send back reply 'save data ok'
2025-11-26T12:38:59.099+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913649813709524992) MsgTChatMsg
2025-11-26T12:38:59.194+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913650017997295616 sendId:1187 recvOk:1764131938501 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:38:59.211+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913649750241316864) MsgTChatReply
2025-11-26T12:38:59.718+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913650017997295616 sendId:1187 recvOk:1764131939000 readOk:1764131939000 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:38:59.758+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913649750241316864) MsgTChatReply
2025-11-26T12:40:07.351+0800	[35mDEBUG[0m	core/chatmsghandler.go:123	receive chat msg(1188) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913650304317263872, userId: 10006, fromId: 10006, toId: 10001, tm: 1764132006643 (time: 2025-11-26 12:40:06), devId: \"BEF2A06F75075BC9\", sendId: 1188, msgType: TEXT, data: \"10\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T12:40:07.373+0800	[35mDEBUG[0m	core/chatmsghandler.go:248	send back reply 'save data ok'
2025-11-26T12:40:07.374+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913649813709524992) MsgTChatMsg
2025-11-26T12:40:07.502+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913650304317263872 sendId:1188 recvOk:1764132006807 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:40:07.519+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913649750241316864) MsgTChatReply
2025-11-26T12:40:17.376+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913650304317263872 sendId:1188 recvOk:1764132016716 readOk:1764132016716 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:40:17.401+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913649750241316864) MsgTChatReply
2025-11-26T12:40:26.576+0800	[35mDEBUG[0m	core/chatmsghandler.go:123	receive chat msg(1189) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913650384952758272, userId: 10006, fromId: 10006, toId: 10001, tm: 1764132025859 (time: 2025-11-26 12:40:25), devId: \"BEF2A06F75075BC9\", sendId: 1189, msgType: TEXT, data: \"11\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T12:40:26.600+0800	[35mDEBUG[0m	core/chatmsghandler.go:248	send back reply 'save data ok'
2025-11-26T12:40:26.601+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913649813709524992) MsgTChatMsg
2025-11-26T12:40:26.741+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913650384952758272 sendId:1189 recvOk:1764132026061 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:40:26.765+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913649750241316864) MsgTChatReply
2025-11-26T12:40:27.255+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913650384952758272 sendId:1189 recvOk:1764132026546 readOk:1764132026546 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:40:27.300+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913649750241316864) MsgTChatReply
2025-11-26T12:40:29.869+0800	[35mDEBUG[0m	core/chatmsghandler.go:123	receive chat msg(1190) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913650398764601344, userId: 10006, fromId: 10006, toId: 10001, tm: 1764132029188 (time: 2025-11-26 12:40:29), devId: \"BEF2A06F75075BC9\", sendId: 1190, msgType: TEXT, data: \"12\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T12:40:29.892+0800	[35mDEBUG[0m	core/chatmsghandler.go:248	send back reply 'save data ok'
2025-11-26T12:40:29.894+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913649813709524992) MsgTChatMsg
2025-11-26T12:40:30.044+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913650398764601344 sendId:1190 recvOk:1764132029332 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:40:30.071+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913649750241316864) MsgTChatReply
2025-11-26T12:40:30.552+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913650398764601344 sendId:1190 recvOk:1764132029847 readOk:1764132029847 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:40:30.572+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913649750241316864) MsgTChatReply
2025-11-26T12:46:16.960+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(913649750241316864) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T12:46:16.962+0800	[34mINFO[0m	core/session.go:256	user(10006) session(913649750241316864)
2025-11-26T12:46:21.400+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"Jfg5fqLP32BIT53reNMfX0Ew+CN3OpbVdB8Uv6Q=\"}"}
2025-11-26T12:46:21.402+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-26T12:46:21.404+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764132381402,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T12:46:21.450+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913651872370397184) MsgTFriendOpRet
2025-11-26T12:46:21.515+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-11-26T12:46:21.515+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913651872370397184) MsgTFriendOpRet
2025-11-26T12:46:21.560+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T12:46:21.560+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913651872370397184) MsgTFriendOpRet
2025-11-26T12:46:21.704+0800	[35mDEBUG[0m	core/chatmsghandler.go:489	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:913650398764601344 chatType:ChatTypeP2P"}
2025-11-26T12:46:21.718+0800	[35mDEBUG[0m	core/chatmsghandler.go:578	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T12:46:32.914+0800	[35mDEBUG[0m	core/chatmsghandler.go:123	receive chat msg(1201) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913651921485697024, userId: 10006, fromId: 10006, toId: 10001, tm: 1764132392209 (time: 2025-11-26 12:46:32), devId: \"BEF2A06F75075BC9\", sendId: 1201, msgType: TEXT, data: \"13\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T12:46:32.935+0800	[35mDEBUG[0m	core/chatmsghandler.go:248	send back reply 'save data ok'
2025-11-26T12:46:32.936+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913649813709524992) MsgTChatMsg
2025-11-26T12:46:33.028+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913651921485697024 sendId:1201 recvOk:1764132392345 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:46:33.046+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913651872370397184) MsgTChatReply
2025-11-26T12:47:05.289+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(913651872370397184) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T12:47:05.290+0800	[34mINFO[0m	core/session.go:256	user(10006) session(913651872370397184)
2025-11-26T12:49:07.609+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"HGNS5/9zningLEYE+kWTRkbltF9jvoIBGbAkHxY=\"}"}
2025-11-26T12:49:07.614+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-26T12:49:07.615+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764132547613,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T12:49:07.659+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913652569472110592) MsgTFriendOpRet
2025-11-26T12:49:07.718+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-11-26T12:49:07.718+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913652569472110592) MsgTFriendOpRet
2025-11-26T12:49:07.782+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T12:49:07.789+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913652569472110592) MsgTFriendOpRet
2025-11-26T12:49:07.914+0800	[35mDEBUG[0m	core/chatmsghandler.go:489	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:913651921485697024 chatType:ChatTypeP2P"}
2025-11-26T12:49:07.939+0800	[35mDEBUG[0m	core/chatmsghandler.go:578	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T12:49:17.267+0800	[35mDEBUG[0m	core/chatmsghandler.go:123	receive chat msg(1221) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913652610832142336, userId: 10006, fromId: 10006, toId: 10001, tm: 1764132555992 (time: 2025-11-26 12:49:15), devId: \"BEF2A06F75075BC9\", sendId: 1221, msgType: TEXT, data: \"14\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T12:49:17.277+0800	[35mDEBUG[0m	core/chatmsghandler.go:248	send back reply 'save data ok'
2025-11-26T12:49:17.278+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913649813709524992) MsgTChatMsg
2025-11-26T12:49:17.407+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913652610832142336 sendId:1221 recvOk:1764132556701 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:49:17.422+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913652569472110592) MsgTChatReply
2025-11-26T12:49:20.507+0800	[35mDEBUG[0m	core/chatmsghandler.go:123	receive chat msg(1222) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913652624421687296, userId: 10006, fromId: 10006, toId: 10001, tm: 1764132559214 (time: 2025-11-26 12:49:19), devId: \"BEF2A06F75075BC9\", sendId: 1222, msgType: TEXT, data: \"15\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T12:49:20.521+0800	[35mDEBUG[0m	core/chatmsghandler.go:248	send back reply 'save data ok'
2025-11-26T12:49:20.521+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913649813709524992) MsgTChatMsg
2025-11-26T12:49:20.629+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913652624421687296 sendId:1222 recvOk:1764132559974 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:49:20.649+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913652569472110592) MsgTChatReply
2025-11-26T12:49:26.027+0800	[35mDEBUG[0m	core/chatmsghandler.go:123	receive chat msg(1223) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913652647574245376, userId: 10006, fromId: 10006, toId: 10001, tm: 1764132564754 (time: 2025-11-26 12:49:24), devId: \"BEF2A06F75075BC9\", sendId: 1223, msgType: TEXT, data: \"16\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T12:49:26.048+0800	[35mDEBUG[0m	core/chatmsghandler.go:248	send back reply 'save data ok'
2025-11-26T12:49:26.048+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913649813709524992) MsgTChatMsg
2025-11-26T12:49:26.183+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913652647574245376 sendId:1223 recvOk:1764132565508 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:49:26.205+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913652569472110592) MsgTChatReply
2025-11-26T12:49:29.128+0800	[35mDEBUG[0m	core/chatmsghandler.go:123	receive chat msg(1224) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913652660580782080, userId: 10006, fromId: 10006, toId: 10001, tm: 1764132567851 (time: 2025-11-26 12:49:27), devId: \"BEF2A06F75075BC9\", sendId: 1224, msgType: TEXT, data: \"17\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T12:49:29.155+0800	[35mDEBUG[0m	core/chatmsghandler.go:248	send back reply 'save data ok'
2025-11-26T12:49:29.157+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913649813709524992) MsgTChatMsg
2025-11-26T12:49:29.266+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913652660580782080 sendId:1224 recvOk:1764132568578 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:49:29.299+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913652569472110592) MsgTChatReply
2025-11-26T12:49:32.398+0800	[35mDEBUG[0m	core/chatmsghandler.go:123	receive chat msg(1225) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913652674296156160, userId: 10006, fromId: 10006, toId: 10001, tm: 1764132571126 (time: 2025-11-26 12:49:31), devId: \"BEF2A06F75075BC9\", sendId: 1225, msgType: TEXT, data: \"18\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T12:49:32.419+0800	[35mDEBUG[0m	core/chatmsghandler.go:248	send back reply 'save data ok'
2025-11-26T12:49:32.420+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913649813709524992) MsgTChatMsg
2025-11-26T12:49:32.529+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913652674296156160 sendId:1225 recvOk:1764132571854 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:49:32.545+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913652569472110592) MsgTChatReply
2025-11-26T12:49:35.781+0800	[35mDEBUG[0m	core/chatmsghandler.go:123	receive chat msg(1226) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913652688485486592, userId: 10006, fromId: 10006, toId: 10001, tm: 1764132574485 (time: 2025-11-26 12:49:34), devId: \"BEF2A06F75075BC9\", sendId: 1226, msgType: TEXT, data: \"19\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T12:49:35.804+0800	[35mDEBUG[0m	core/chatmsghandler.go:248	send back reply 'save data ok'
2025-11-26T12:49:35.805+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913649813709524992) MsgTChatMsg
2025-11-26T12:49:35.921+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913652688485486592 sendId:1226 recvOk:1764132575232 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:49:35.941+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913652569472110592) MsgTChatReply
2025-11-26T12:49:40.672+0800	[35mDEBUG[0m	core/chatmsghandler.go:123	receive chat msg(1227) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913652708999827456, userId: 10006, fromId: 10006, toId: 10001, tm: 1764132579367 (time: 2025-11-26 12:49:39), devId: \"BEF2A06F75075BC9\", sendId: 1227, msgType: TEXT, data: \"20\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T12:49:40.688+0800	[35mDEBUG[0m	core/chatmsghandler.go:248	send back reply 'save data ok'
2025-11-26T12:49:40.689+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913649813709524992) MsgTChatMsg
2025-11-26T12:49:40.802+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913652708999827456 sendId:1227 recvOk:1764132580151 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:49:40.815+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913652569472110592) MsgTChatReply
2025-11-26T12:50:14.151+0800	[35mDEBUG[0m	core/chatmsghandler.go:123	receive chat msg(1228) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913652849420931072, userId: 10006, fromId: 10006, toId: 10001, tm: 1764132612884 (time: 2025-11-26 12:50:12), devId: \"BEF2A06F75075BC9\", sendId: 1228, msgType: TEXT, data: \"21\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T12:50:14.177+0800	[35mDEBUG[0m	core/chatmsghandler.go:248	send back reply 'save data ok'
2025-11-26T12:50:14.178+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913649813709524992) MsgTChatMsg
2025-11-26T12:50:14.322+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913652849420931072 sendId:1228 recvOk:1764132613640 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:50:14.345+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913652569472110592) MsgTChatReply
2025-11-26T12:50:17.080+0800	[35mDEBUG[0m	core/chatmsghandler.go:123	receive chat msg(1229) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913652861706047488, userId: 10006, fromId: 10006, toId: 10001, tm: 1764132615804 (time: 2025-11-26 12:50:15), devId: \"BEF2A06F75075BC9\", sendId: 1229, msgType: TEXT, data: \"22\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T12:50:17.107+0800	[35mDEBUG[0m	core/chatmsghandler.go:248	send back reply 'save data ok'
2025-11-26T12:50:17.109+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913649813709524992) MsgTChatMsg
2025-11-26T12:50:17.199+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913652861706047488 sendId:1229 recvOk:1764132616499 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:50:17.232+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913652569472110592) MsgTChatReply
2025-11-26T12:50:29.587+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(913652569472110592) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T12:50:29.591+0800	[34mINFO[0m	core/session.go:256	user(10006) session(913652569472110592)
2025-11-26T12:52:17.281+0800	[34mINFO[0m	server/main.go:92	server started here...
2025-11-26T12:52:18.221+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"cm8cqdokqVjtxTXeTbkP7rC9u1C5TYlemX9DOwE=\"}"}
2025-11-26T12:52:18.383+0800	[35mDEBUG[0m	core/commonhelper.go:421	Load user permission list	{"user": 10001, "count": 0}
2025-11-26T12:52:18.383+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T12:52:18.383+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764132738383,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T12:52:18.508+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"nickName":"robin","email":"*","phone":"*"},{"userId":10004,"nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*"},{"userId":10005,"nickName":"robin","email":"*","phone":"*"},{"userId":10006,"nickName":"robin fox","email":"*","phone":"*"},{"userId":10007,"nickName":"yoyo","email":"*","phone":"*"}]}
2025-11-26T12:52:18.508+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913653369510432768) MsgTFriendOpRet
2025-11-26T12:52:18.583+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T12:52:18.584+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913653369510432768) MsgTFriendOpRet
2025-11-26T12:53:14.719+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913651921485697024 sendId:1201 recvOk:1764132794055 readOk:1764132794055 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:53:14.749+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-26T12:53:14.773+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913652610832142336 sendId:1221 recvOk:1764132794058 readOk:1764132794058 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:53:14.793+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-26T12:53:14.857+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913652624421687296 sendId:1222 recvOk:1764132794059 readOk:1764132794059 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:53:14.869+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-26T12:53:14.942+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913652647574245376 sendId:1223 recvOk:1764132794060 readOk:1764132794060 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:53:14.961+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-26T12:53:14.962+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913652660580782080 sendId:1224 recvOk:1764132794062 readOk:1764132794062 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:53:14.976+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-26T12:53:15.017+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913652674296156160 sendId:1225 recvOk:1764132794063 readOk:1764132794063 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:53:15.037+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-26T12:53:15.038+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913652688485486592 sendId:1226 recvOk:1764132794064 readOk:1764132794064 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:53:15.052+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-26T12:53:15.098+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913652708999827456 sendId:1227 recvOk:1764132794065 readOk:1764132794065 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:53:15.113+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-26T12:53:15.161+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913652849420931072 sendId:1228 recvOk:1764132794066 readOk:1764132794066 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:53:15.179+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-26T12:53:15.247+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913652861706047488 sendId:1229 recvOk:1764132794066 readOk:1764132794066 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:53:15.267+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-26T12:53:21.711+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(913653369510432768) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T12:53:21.712+0800	[34mINFO[0m	core/session.go:256	user(10001) session(913653369510432768)
2025-11-26T12:53:22.906+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"D1HSY7/QSWqU78vMiHzNDy/RbbA/7t2YVzd545s=\"}"}
2025-11-26T12:53:22.908+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T12:53:22.908+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764132802908,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T12:53:22.952+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T12:53:22.953+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913653640781238272) MsgTFriendOpRet
2025-11-26T12:53:23.014+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T12:53:23.016+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913653640781238272) MsgTFriendOpRet
2025-11-26T12:53:23.047+0800	[35mDEBUG[0m	core/chatmsghandler.go:490	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:913652861706047488 chatType:ChatTypeP2P"}
2025-11-26T12:53:23.077+0800	[35mDEBUG[0m	core/chatmsghandler.go:579	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T12:53:23.099+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913652861706047488 sendId:1229 recvOk:1764132802440 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:53:23.140+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-26T12:53:48.074+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1161) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913653746679025664, userId: 10001, fromId: 10001, toId: 10006, tm: 1764132827397 (time: 2025-11-26 12:53:47), devId: \"47FCC883FB83DD2D\", sendId: 1161, msgType: TEXT, data: \"23\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T12:53:48.138+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T12:53:48.138+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-26T12:53:58.027+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"c3dnnhhF5XTexi228kI3+SkurlPJpUoAb4uHy7I=\"}"}
2025-11-26T12:53:58.029+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-26T12:53:58.029+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764132838029,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T12:53:58.078+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913653787955171328) MsgTFriendOpRet
2025-11-26T12:53:58.151+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-11-26T12:53:58.152+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913653787955171328) MsgTFriendOpRet
2025-11-26T12:53:58.199+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T12:53:58.200+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913653787955171328) MsgTFriendOpRet
2025-11-26T12:53:58.229+0800	[35mDEBUG[0m	core/chatmsghandler.go:490	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:913652861706047488 chatType:ChatTypeP2P"}
2025-11-26T12:53:58.246+0800	[35mDEBUG[0m	core/chatmsghandler.go:579	onQueryP2PChatData:	{"msg count:": 2}
2025-11-26T12:53:58.281+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913653746679025664 sendId:1161 recvOk:1764132837003 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:53:58.295+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913653640781238272) MsgTChatReply
2025-11-26T12:54:18.563+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1162) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913653874559160320, userId: 10001, fromId: 10001, toId: 10006, tm: 1764132857895 (time: 2025-11-26 12:54:17), devId: \"47FCC883FB83DD2D\", sendId: 1162, msgType: TEXT, data: \"24\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T12:54:18.575+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T12:54:18.576+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913653787955171328) MsgTChatMsg
2025-11-26T12:54:18.747+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913653874559160320 sendId:1162 recvOk:1764132857441 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:54:18.765+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913653640781238272) MsgTChatReply
2025-11-26T12:54:19.006+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913653746679025664 sendId:1161 recvOk:1764132857737 readOk:1764132857737 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:54:19.027+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913653640781238272) MsgTChatReply
2025-11-26T12:54:19.051+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913653874559160320 sendId:1162 recvOk:1764132857738 readOk:1764132857738 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:54:19.073+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913653640781238272) MsgTChatReply
2025-11-26T12:54:23.180+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1163) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913653893924261888, userId: 10001, fromId: 10001, toId: 10006, tm: 1764132862476 (time: 2025-11-26 12:54:22), devId: \"47FCC883FB83DD2D\", sendId: 1163, msgType: TEXT, data: \"25\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T12:54:23.199+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T12:54:23.199+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913653787955171328) MsgTChatMsg
2025-11-26T12:54:23.339+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913653893924261888 sendId:1163 recvOk:1764132862065 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:54:23.359+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913653640781238272) MsgTChatReply
2025-11-26T12:54:23.590+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913653893924261888 sendId:1163 recvOk:1764132862322 readOk:1764132862322 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:54:23.604+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913653640781238272) MsgTChatReply
2025-11-26T12:54:29.089+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1164) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913653918708404224, userId: 10001, fromId: 10001, toId: 10006, tm: 1764132868418 (time: 2025-11-26 12:54:28), devId: \"47FCC883FB83DD2D\", sendId: 1164, msgType: TEXT, data: \"26\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T12:54:29.099+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T12:54:29.099+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913653787955171328) MsgTChatMsg
2025-11-26T12:54:29.208+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913653918708404224 sendId:1164 recvOk:1764132867904 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:54:29.225+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913653640781238272) MsgTChatReply
2025-11-26T12:54:29.461+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913653918708404224 sendId:1164 recvOk:1764132868189 readOk:1764132868189 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:54:29.477+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913653640781238272) MsgTChatReply
2025-11-26T12:55:14.373+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1165) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913654108643266560, userId: 10001, fromId: 10001, toId: 10006, tm: 1764132913693 (time: 2025-11-26 12:55:13), devId: \"47FCC883FB83DD2D\", sendId: 1165, msgType: TEXT, data: \"27\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T12:55:14.383+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T12:55:14.383+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913653787955171328) MsgTChatMsg
2025-11-26T12:55:14.556+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913654108643266560 sendId:1165 recvOk:1764132913262 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:55:14.572+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913653640781238272) MsgTChatReply
2025-11-26T12:55:14.917+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913654108643266560 sendId:1165 recvOk:1764132913647 readOk:1764132913647 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:55:14.931+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913653640781238272) MsgTChatReply
2025-11-26T12:55:18.381+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1166) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913654125454036992, userId: 10001, fromId: 10001, toId: 10006, tm: 1764132917691 (time: 2025-11-26 12:55:17), devId: \"47FCC883FB83DD2D\", sendId: 1166, msgType: TEXT, data: \"28\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T12:55:18.399+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T12:55:18.399+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913653787955171328) MsgTChatMsg
2025-11-26T12:55:18.527+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913654125454036992 sendId:1166 recvOk:1764132917261 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:55:18.540+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913653640781238272) MsgTChatReply
2025-11-26T12:55:18.849+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913654125454036992 sendId:1166 recvOk:1764132917583 readOk:1764132917583 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:55:18.870+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913653640781238272) MsgTChatReply
2025-11-26T12:55:22.070+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1167) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913654140926824448, userId: 10001, fromId: 10001, toId: 10006, tm: 1764132921355 (time: 2025-11-26 12:55:21), devId: \"47FCC883FB83DD2D\", sendId: 1167, msgType: TEXT, data: \"29\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T12:55:22.080+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T12:55:22.080+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913653787955171328) MsgTChatMsg
2025-11-26T12:55:22.202+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913654140926824448 sendId:1167 recvOk:1764132920945 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:55:22.214+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913653640781238272) MsgTChatReply
2025-11-26T12:55:22.511+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913654140926824448 sendId:1167 recvOk:1764132921256 readOk:1764132921256 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:55:22.524+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913653640781238272) MsgTChatReply
2025-11-26T12:55:25.404+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1168) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913654154910633984, userId: 10001, fromId: 10001, toId: 10006, tm: 1764132924728 (time: 2025-11-26 12:55:24), devId: \"47FCC883FB83DD2D\", sendId: 1168, msgType: TEXT, data: \"30\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T12:55:25.415+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T12:55:25.416+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913653787955171328) MsgTChatMsg
2025-11-26T12:55:25.489+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913654154910633984 sendId:1168 recvOk:1764132924219 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:55:25.513+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913653640781238272) MsgTChatReply
2025-11-26T12:55:25.967+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913654154910633984 sendId:1168 recvOk:1764132924673 readOk:1764132924673 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:55:25.991+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913653640781238272) MsgTChatReply
2025-11-26T13:14:37.353+0800	[34mINFO[0m	server/main.go:92	server started here...
2025-11-26T13:14:43.858+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"Ow50CGqmWFtgMgaxWPYgznx5q3B92u2LcJr6EeA=\"}"}
2025-11-26T13:14:44.025+0800	[35mDEBUG[0m	core/commonhelper.go:421	Load user permission list	{"user": 10001, "count": 0}
2025-11-26T13:14:44.026+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T13:14:44.027+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764134084026,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T13:14:44.149+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"nickName":"robin","email":"*","phone":"*"},{"userId":10004,"nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*"},{"userId":10005,"nickName":"robin","email":"*","phone":"*"},{"userId":10006,"nickName":"robin fox","email":"*","phone":"*"},{"userId":10007,"nickName":"yoyo","email":"*","phone":"*"}]}
2025-11-26T13:14:44.149+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913659013416226816) MsgTFriendOpRet
2025-11-26T13:14:44.257+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T13:14:44.257+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913659013416226816) MsgTFriendOpRet
2025-11-26T13:22:03.911+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"WNj+K8e4m38fKf+koShAyfLEYei2pt4cx0g87NY=\"}"}
2025-11-26T13:22:03.911+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-26T13:22:03.911+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764134523911,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T13:22:04.032+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-11-26T13:22:04.033+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913660859295862784) MsgTFriendOpRet
2025-11-26T13:22:04.079+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T13:22:04.079+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913660859295862784) MsgTFriendOpRet
2025-11-26T13:25:28.632+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "mmexport1764073105556.jpg", "hash": "b2eefc4b89f94707ad0da823743342f7", "send id": 1169}
2025-11-26T13:25:28.687+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "mmexport1764073105556.jpg", "hash": "b2eefc4b89f94707ad0da823743342f7", "send id": 1169}
2025-11-26T13:25:28.705+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "mmexport1764073105556.jpg", "hash": "b2eefc4b89f94707ad0da823743342f7", "send id": 1169}
2025-11-26T13:25:28.888+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "mmexport1764073105556.jpg", "hash": "", "send id": 1169}
2025-11-26T13:25:28.888+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:25:28.920+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "mmexport1764073105556.jpg", "hash": "", "send id": 1169}
2025-11-26T13:25:28.920+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:25:29.000+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1169) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913661719740551168, userId: 10001, fromId: 10001, toId: 10006, tm: 1764134728318 (time: 2025-11-26 13:25:28), devId: \"47FCC883FB83DD2D\", sendId: 1169, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/3zi18u3l5inm.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/3zi18u3l5inm.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T13:25:29.052+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T13:25:29.052+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913660859295862784) MsgTChatMsg
2025-11-26T13:25:29.103+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1169) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913661720172564480, userId: 10001, fromId: 10001, toId: 10006, tm: 1764134728433 (time: 2025-11-26 13:25:28), devId: \"47FCC883FB83DD2D\", sendId: 1169, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/3zi18u3l5inm.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/3zi18u3l5inm.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T13:25:29.117+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T13:25:29.117+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913660859295862784) MsgTChatMsg
2025-11-26T13:25:29.188+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913661719740551168 sendId:1169 recvOk:1764134727914 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:25:29.217+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913659013416226816) MsgTChatReply
2025-11-26T13:25:29.342+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913661720172564480 sendId:1169 recvOk:1764134728075 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:25:29.367+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913659013416226816) MsgTChatReply
2025-11-26T13:25:29.952+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913661719740551168 sendId:1169 recvOk:1764134728672 readOk:1764134728672 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:25:29.982+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913659013416226816) MsgTChatReply
2025-11-26T13:25:30.006+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913661720172564480 sendId:1169 recvOk:1764134728673 readOk:1764134728673 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:25:30.027+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913659013416226816) MsgTChatReply
2025-11-26T13:28:38.393+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(913659013416226816) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T13:28:38.395+0800	[34mINFO[0m	core/session.go:256	user(10001) session(913659013416226816)
2025-11-26T13:28:39.756+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"MUtpVEFQEzyvmn6WsS6ToLfhp3Tz4cbxUX+Nv/c=\"}"}
2025-11-26T13:28:39.759+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T13:28:39.759+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764134919759,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T13:28:39.811+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T13:28:39.811+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913662519485272064) MsgTFriendOpRet
2025-11-26T13:28:39.859+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T13:28:39.859+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913662519485272064) MsgTFriendOpRet
2025-11-26T13:28:39.915+0800	[35mDEBUG[0m	core/chatmsghandler.go:490	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:913661719740551168 chatType:ChatTypeP2P"}
2025-11-26T13:28:39.943+0800	[35mDEBUG[0m	core/chatmsghandler.go:579	onQueryP2PChatData:	{"msg count:": 2}
2025-11-26T13:28:48.050+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1181}
2025-11-26T13:28:48.116+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1181}
2025-11-26T13:28:48.188+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1181}
2025-11-26T13:28:48.264+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1181}
2025-11-26T13:28:48.347+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1181}
2025-11-26T13:28:48.444+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1181}
2025-11-26T13:28:48.551+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1181}
2025-11-26T13:28:48.632+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1181}
2025-11-26T13:28:48.700+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1181}
2025-11-26T13:28:48.770+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1181}
2025-11-26T13:28:48.826+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1181}
2025-11-26T13:28:48.887+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1181}
2025-11-26T13:28:48.953+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1181}
2025-11-26T13:28:49.008+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1181}
2025-11-26T13:28:49.058+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1181}
2025-11-26T13:28:49.111+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1181}
2025-11-26T13:28:49.123+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1181}
2025-11-26T13:28:49.174+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "", "send id": 1181}
2025-11-26T13:28:49.175+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:28:49.218+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "", "send id": 1181}
2025-11-26T13:28:49.218+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:28:49.273+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "", "send id": 1181}
2025-11-26T13:28:49.274+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:28:49.317+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "", "send id": 1181}
2025-11-26T13:28:49.319+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:28:49.362+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "", "send id": 1181}
2025-11-26T13:28:49.363+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:28:49.406+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "", "send id": 1181}
2025-11-26T13:28:49.407+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:28:49.457+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "", "send id": 1181}
2025-11-26T13:28:49.463+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:28:49.501+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "", "send id": 1181}
2025-11-26T13:28:49.504+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:28:49.531+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "", "send id": 1181}
2025-11-26T13:28:49.534+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:28:49.573+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "", "send id": 1181}
2025-11-26T13:28:49.573+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:28:49.625+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "", "send id": 1181}
2025-11-26T13:28:49.625+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:28:49.682+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "", "send id": 1181}
2025-11-26T13:28:49.682+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:28:49.733+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "", "send id": 1181}
2025-11-26T13:28:49.733+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:28:49.778+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "", "send id": 1181}
2025-11-26T13:28:49.778+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:28:49.833+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "", "send id": 1181}
2025-11-26T13:28:49.833+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:28:49.841+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "", "send id": 1181}
2025-11-26T13:28:49.841+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:28:49.842+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1181) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913662562132955136, userId: 10001, fromId: 10001, toId: 10006, tm: 1764134928967 (time: 2025-11-26 13:28:48), devId: \"47FCC883FB83DD2D\", sendId: 1181, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/r04d2ugv00no.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/r04d2ugv00no.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T13:28:49.863+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T13:28:49.865+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913660859295862784) MsgTChatMsg
2025-11-26T13:28:49.865+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1181) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913662562229424128, userId: 10001, fromId: 10001, toId: 10006, tm: 1764134929178 (time: 2025-11-26 13:28:49), devId: \"47FCC883FB83DD2D\", sendId: 1181, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/r04d2ugv00no.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/r04d2ugv00no.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T13:28:49.877+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T13:28:49.877+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913660859295862784) MsgTChatMsg
2025-11-26T13:28:50.093+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913662562132955136 sendId:1181 recvOk:1764134928807 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:28:50.117+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913662519485272064) MsgTChatReply
2025-11-26T13:28:50.296+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913662562229424128 sendId:1181 recvOk:1764134929017 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:28:50.312+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913662519485272064) MsgTChatReply
2025-11-26T13:28:51.086+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913662562132955136 sendId:1181 recvOk:1764134929759 readOk:1764134929759 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:28:51.103+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913662519485272064) MsgTChatReply
2025-11-26T13:28:51.685+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913662562229424128 sendId:1181 recvOk:1764134930407 readOk:1764134930407 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:28:51.725+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913662519485272064) MsgTChatReply
2025-11-26T13:30:17.184+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(913662519485272064) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T13:30:17.185+0800	[34mINFO[0m	core/session.go:256	user(10001) session(913662519485272064)
2025-11-26T13:38:41.937+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"N+FFEoLUl11yrY14LrNjttp4BhsUrn+XtjBMZ8A=\"}"}
2025-11-26T13:38:41.939+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T13:38:41.939+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764135521939,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T13:38:42.022+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T13:38:42.022+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913665045156728832) MsgTFriendOpRet
2025-11-26T13:38:42.061+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T13:38:42.061+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913665045156728832) MsgTFriendOpRet
2025-11-26T13:38:42.088+0800	[35mDEBUG[0m	core/chatmsghandler.go:490	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:913662562132955136 chatType:ChatTypeP2P"}
2025-11-26T13:38:42.102+0800	[35mDEBUG[0m	core/chatmsghandler.go:579	onQueryP2PChatData:	{"msg count:": 2}
2025-11-26T13:38:53.300+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251124_103558.jpg", "hash": "9ea37ecffb02c730b7f7c06262040ead", "send id": 1201}
2025-11-26T13:38:53.390+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251124_103558.jpg", "hash": "9ea37ecffb02c730b7f7c06262040ead", "send id": 1201}
2025-11-26T13:38:53.433+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251124_103558.jpg", "hash": "9ea37ecffb02c730b7f7c06262040ead", "send id": 1201}
2025-11-26T13:38:53.484+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251124_103558.jpg", "hash": "9ea37ecffb02c730b7f7c06262040ead", "send id": 1201}
2025-11-26T13:38:53.560+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251124_103558.jpg", "hash": "9ea37ecffb02c730b7f7c06262040ead", "send id": 1201}
2025-11-26T13:38:53.593+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251124_103558.jpg", "hash": "9ea37ecffb02c730b7f7c06262040ead", "send id": 1201}
2025-11-26T13:38:53.638+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251124_103558.jpg", "hash": "9ea37ecffb02c730b7f7c06262040ead", "send id": 1201}
2025-11-26T13:38:53.684+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251124_103558.jpg", "hash": "9ea37ecffb02c730b7f7c06262040ead", "send id": 1201}
2025-11-26T13:38:53.692+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251124_103558.jpg", "hash": "9ea37ecffb02c730b7f7c06262040ead", "send id": 1201}
2025-11-26T13:38:53.745+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251124_103558.jpg", "hash": "", "send id": 1201}
2025-11-26T13:38:53.745+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:38:53.781+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251124_103558.jpg", "hash": "", "send id": 1201}
2025-11-26T13:38:53.782+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:38:53.832+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251124_103558.jpg", "hash": "", "send id": 1201}
2025-11-26T13:38:53.832+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:38:53.879+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251124_103558.jpg", "hash": "", "send id": 1201}
2025-11-26T13:38:53.879+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:38:53.928+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251124_103558.jpg", "hash": "", "send id": 1201}
2025-11-26T13:38:53.928+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:38:53.979+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251124_103558.jpg", "hash": "", "send id": 1201}
2025-11-26T13:38:53.979+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:38:54.048+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251124_103558.jpg", "hash": "", "send id": 1201}
2025-11-26T13:38:54.049+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:38:54.050+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251124_103558.jpg", "hash": "", "send id": 1201}
2025-11-26T13:38:54.051+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:38:54.084+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1201) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913665096507592704, userId: 10001, fromId: 10001, toId: 10006, tm: 1764135533367 (time: 2025-11-26 13:38:53), devId: \"47FCC883FB83DD2D\", sendId: 1201, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/qpbxzp8ga10e.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/qpbxzp8ga10e.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T13:38:54.100+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T13:38:54.100+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913660859295862784) MsgTChatMsg
2025-11-26T13:38:54.217+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913665096507592704 sendId:1201 recvOk:1764135533513 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:38:54.230+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913665045156728832) MsgTChatReply
2025-11-26T13:38:56.109+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913665096507592704 sendId:1201 recvOk:1764135535380 readOk:1764135535380 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:38:56.122+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913665045156728832) MsgTChatReply
2025-11-26T13:39:31.090+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(913665045156728832) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T13:39:31.091+0800	[34mINFO[0m	core/session.go:256	user(10001) session(913665045156728832)
2025-11-26T13:40:50.511+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"rsv9YR6WMuATEFJHKmpiuusk40wT5YTAlDeT+mo=\"}"}
2025-11-26T13:40:50.512+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T13:40:50.512+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764135650512,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T13:40:50.577+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T13:40:50.578+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913665584384839680) MsgTFriendOpRet
2025-11-26T13:40:50.620+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T13:40:50.620+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913665584384839680) MsgTFriendOpRet
2025-11-26T13:40:50.702+0800	[35mDEBUG[0m	core/chatmsghandler.go:490	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:913665096507592704 chatType:ChatTypeP2P"}
2025-11-26T13:40:50.714+0800	[35mDEBUG[0m	core/chatmsghandler.go:579	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T13:41:08.105+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_144922.jpg", "hash": "c80ccd438553d39bb12b2faebe799586", "send id": 1221}
2025-11-26T13:41:08.151+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_144922.jpg", "hash": "c80ccd438553d39bb12b2faebe799586", "send id": 1221}
2025-11-26T13:41:08.197+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_144922.jpg", "hash": "c80ccd438553d39bb12b2faebe799586", "send id": 1221}
2025-11-26T13:41:08.255+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_144922.jpg", "hash": "c80ccd438553d39bb12b2faebe799586", "send id": 1221}
2025-11-26T13:41:08.310+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_144922.jpg", "hash": "c80ccd438553d39bb12b2faebe799586", "send id": 1221}
2025-11-26T13:41:08.357+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_144922.jpg", "hash": "c80ccd438553d39bb12b2faebe799586", "send id": 1221}
2025-11-26T13:41:08.404+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_144922.jpg", "hash": "c80ccd438553d39bb12b2faebe799586", "send id": 1221}
2025-11-26T13:41:08.450+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_144922.jpg", "hash": "c80ccd438553d39bb12b2faebe799586", "send id": 1221}
2025-11-26T13:41:08.499+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_144922.jpg", "hash": "c80ccd438553d39bb12b2faebe799586", "send id": 1221}
2025-11-26T13:41:08.548+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_144922.jpg", "hash": "c80ccd438553d39bb12b2faebe799586", "send id": 1221}
2025-11-26T13:41:08.554+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_144922.jpg", "hash": "c80ccd438553d39bb12b2faebe799586", "send id": 1221}
2025-11-26T13:41:08.630+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_144922.jpg", "hash": "", "send id": 1221}
2025-11-26T13:41:08.631+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:41:08.679+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_144922.jpg", "hash": "", "send id": 1221}
2025-11-26T13:41:08.679+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:41:08.766+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_144922.jpg", "hash": "", "send id": 1221}
2025-11-26T13:41:08.768+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:41:08.815+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_144922.jpg", "hash": "", "send id": 1221}
2025-11-26T13:41:08.816+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:41:08.864+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_144922.jpg", "hash": "", "send id": 1221}
2025-11-26T13:41:08.865+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:41:08.916+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_144922.jpg", "hash": "", "send id": 1221}
2025-11-26T13:41:08.916+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:41:08.972+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_144922.jpg", "hash": "", "send id": 1221}
2025-11-26T13:41:08.973+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:41:09.025+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_144922.jpg", "hash": "", "send id": 1221}
2025-11-26T13:41:09.027+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:41:09.075+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_144922.jpg", "hash": "", "send id": 1221}
2025-11-26T13:41:09.077+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:41:09.078+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_144922.jpg", "hash": "", "send id": 1221}
2025-11-26T13:41:09.079+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:41:09.120+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1221) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913665662889627648, userId: 10001, fromId: 10001, toId: 10006, tm: 1764135668358 (time: 2025-11-26 13:41:08), devId: \"47FCC883FB83DD2D\", sendId: 1221, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/2db3f763wmax4.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/2db3f763wmax4.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T13:41:09.138+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T13:41:09.139+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913660859295862784) MsgTChatMsg
2025-11-26T13:41:09.305+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913665662889627648 sendId:1221 recvOk:1764135668556 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:41:09.327+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913665584384839680) MsgTChatReply
2025-11-26T13:41:11.497+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913665662889627648 sendId:1221 recvOk:1764135670700 readOk:1764135670700 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:41:11.508+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913665584384839680) MsgTChatReply
2025-11-26T13:42:00.606+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "695533c1869aac57175a2d9e5bed25c9", "send id": 1222}
2025-11-26T13:42:00.659+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "695533c1869aac57175a2d9e5bed25c9", "send id": 1222}
2025-11-26T13:42:00.714+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "695533c1869aac57175a2d9e5bed25c9", "send id": 1222}
2025-11-26T13:42:00.766+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "695533c1869aac57175a2d9e5bed25c9", "send id": 1222}
2025-11-26T13:42:00.818+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "695533c1869aac57175a2d9e5bed25c9", "send id": 1222}
2025-11-26T13:42:00.876+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "695533c1869aac57175a2d9e5bed25c9", "send id": 1222}
2025-11-26T13:42:00.927+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "695533c1869aac57175a2d9e5bed25c9", "send id": 1222}
2025-11-26T13:42:00.976+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "695533c1869aac57175a2d9e5bed25c9", "send id": 1222}
2025-11-26T13:42:01.026+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "695533c1869aac57175a2d9e5bed25c9", "send id": 1222}
2025-11-26T13:42:01.077+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "695533c1869aac57175a2d9e5bed25c9", "send id": 1222}
2025-11-26T13:42:01.134+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "695533c1869aac57175a2d9e5bed25c9", "send id": 1222}
2025-11-26T13:42:01.176+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "695533c1869aac57175a2d9e5bed25c9", "send id": 1222}
2025-11-26T13:42:01.229+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "695533c1869aac57175a2d9e5bed25c9", "send id": 1222}
2025-11-26T13:42:01.278+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "695533c1869aac57175a2d9e5bed25c9", "send id": 1222}
2025-11-26T13:42:01.320+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "695533c1869aac57175a2d9e5bed25c9", "send id": 1222}
2025-11-26T13:42:01.406+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "695533c1869aac57175a2d9e5bed25c9", "send id": 1222}
2025-11-26T13:42:01.432+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "695533c1869aac57175a2d9e5bed25c9", "send id": 1222}
2025-11-26T13:42:01.474+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "", "send id": 1222}
2025-11-26T13:42:01.474+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:42:01.524+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "", "send id": 1222}
2025-11-26T13:42:01.527+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:42:01.576+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "", "send id": 1222}
2025-11-26T13:42:01.577+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:42:01.623+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "", "send id": 1222}
2025-11-26T13:42:01.625+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:42:01.672+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "", "send id": 1222}
2025-11-26T13:42:01.673+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:42:01.713+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "", "send id": 1222}
2025-11-26T13:42:01.713+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:42:01.763+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "", "send id": 1222}
2025-11-26T13:42:01.764+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:42:01.806+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "", "send id": 1222}
2025-11-26T13:42:01.807+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:42:01.877+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "", "send id": 1222}
2025-11-26T13:42:01.878+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:42:01.939+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "", "send id": 1222}
2025-11-26T13:42:01.941+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:42:01.978+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "", "send id": 1222}
2025-11-26T13:42:01.979+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:42:02.022+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "", "send id": 1222}
2025-11-26T13:42:02.026+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:42:02.078+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "", "send id": 1222}
2025-11-26T13:42:02.078+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:42:02.127+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "", "send id": 1222}
2025-11-26T13:42:02.127+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:42:02.204+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "", "send id": 1222}
2025-11-26T13:42:02.205+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:42:02.222+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "", "send id": 1222}
2025-11-26T13:42:02.224+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:42:02.232+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1222) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913665885657501696, userId: 10001, fromId: 10001, toId: 10006, tm: 1764135721232 (time: 2025-11-26 13:42:01), devId: \"47FCC883FB83DD2D\", sendId: 1222, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/1bzxk9mfchmqx.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/1bzxk9mfchmqx.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T13:42:02.256+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T13:42:02.256+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913660859295862784) MsgTChatMsg
2025-11-26T13:42:02.448+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913665885657501696 sendId:1222 recvOk:1764135721703 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:42:02.474+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913665584384839680) MsgTChatReply
2025-11-26T13:42:04.490+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913665885657501696 sendId:1222 recvOk:1764135723750 readOk:1764135723750 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:42:04.520+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913665584384839680) MsgTChatReply
2025-11-26T13:42:21.131+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10006, "filename": "1761869304903.jpg", "hash": "25ca37dc0b230e4cb6b96aa120884138", "send id": 1241}
2025-11-26T13:42:21.259+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1241) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913665965462523904, userId: 10006, fromId: 10006, toId: 10001, tm: 1764135740518 (time: 2025-11-26 13:42:20), devId: \"BEF2A06F75075BC9\", sendId: 1241, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/15mxs6lr6i4o5.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/15mxs6lr6i4o5.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T13:42:21.303+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T13:42:21.304+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913665584384839680) MsgTChatMsg
2025-11-26T13:42:21.445+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913665965462523904 sendId:1241 recvOk:1764135740759 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:42:21.458+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913660859295862784) MsgTChatReply
2025-11-26T13:42:21.739+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913665965462523904 sendId:1241 recvOk:1764135741071 readOk:1764135741071 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:42:21.750+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913660859295862784) MsgTChatReply
2025-11-26T13:42:58.528+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10006, "filename": "1758867369047.jpg", "hash": "e4698a3f71fa82187e1ca44851baff40", "send id": 1242}
2025-11-26T13:42:58.611+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1242) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913666122128166912, userId: 10006, fromId: 10006, toId: 10001, tm: 1764135777885 (time: 2025-11-26 13:42:57), devId: \"BEF2A06F75075BC9\", sendId: 1242, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/df375a6r80ys.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/df375a6r80ys.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T13:42:58.623+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T13:42:58.623+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913665584384839680) MsgTChatMsg
2025-11-26T13:42:58.725+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913666122128166912 sendId:1242 recvOk:1764135778033 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:42:58.749+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913660859295862784) MsgTChatReply
2025-11-26T13:42:59.033+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913666122128166912 sendId:1242 recvOk:1764135778351 readOk:1764135778351 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:42:59.060+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913660859295862784) MsgTChatReply
2025-11-26T13:43:28.307+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1223) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913666246682218496, userId: 10001, fromId: 10001, toId: 10006, tm: 1764135807635 (time: 2025-11-26 13:43:27), devId: \"47FCC883FB83DD2D\", sendId: 1223, msgType: TEXT, data: \"21\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T13:43:28.317+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T13:43:28.317+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913660859295862784) MsgTChatMsg
2025-11-26T13:43:28.373+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913666246682218496 sendId:1223 recvOk:1764135807652 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:43:28.400+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913665584384839680) MsgTChatReply
2025-11-26T13:43:29.192+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913666246682218496 sendId:1223 recvOk:1764135808465 readOk:1764135808465 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:43:29.216+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913665584384839680) MsgTChatReply
2025-11-26T13:43:34.842+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1224) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913666274091995136, userId: 10001, fromId: 10001, toId: 10006, tm: 1764135814162 (time: 2025-11-26 13:43:34), devId: \"47FCC883FB83DD2D\", sendId: 1224, msgType: TEXT, data: \"22\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T13:43:34.853+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T13:43:34.854+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913660859295862784) MsgTChatMsg
2025-11-26T13:43:34.940+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913666274091995136 sendId:1224 recvOk:1764135814211 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:43:34.962+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913665584384839680) MsgTChatReply
2025-11-26T13:43:35.760+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913666274091995136 sendId:1224 recvOk:1764135815001 readOk:1764135815001 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:43:35.774+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913665584384839680) MsgTChatReply
2025-11-26T13:44:00.591+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1225) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913666382091128832, userId: 10001, fromId: 10001, toId: 10006, tm: 1764135839889 (time: 2025-11-26 13:43:59), devId: \"47FCC883FB83DD2D\", sendId: 1225, msgType: TEXT, data: \"23\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T13:44:00.599+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T13:44:00.599+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913660859295862784) MsgTChatMsg
2025-11-26T13:44:00.755+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913666382091128832 sendId:1225 recvOk:1764135840018 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:44:00.770+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913665584384839680) MsgTChatReply
2025-11-26T13:44:01.681+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913666382091128832 sendId:1225 recvOk:1764135840925 readOk:1764135840925 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:44:01.693+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913665584384839680) MsgTChatReply
2025-11-26T13:44:15.711+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1243) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913666445509005312, userId: 10006, fromId: 10006, toId: 10001, tm: 1764135854993 (time: 2025-11-26 13:44:14), devId: \"BEF2A06F75075BC9\", sendId: 1243, msgType: TEXT, data: \"24\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T13:44:15.722+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T13:44:15.723+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913665584384839680) MsgTChatMsg
2025-11-26T13:44:15.824+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913666445509005312 sendId:1243 recvOk:1764135855140 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:44:15.845+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913660859295862784) MsgTChatReply
2025-11-26T13:44:16.065+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913666445509005312 sendId:1243 recvOk:1764135855372 readOk:1764135855372 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:44:16.081+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913660859295862784) MsgTChatReply
2025-11-26T13:45:16.184+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "mmexport1764064518684.jpg", "hash": "75e9bf52d3c669652c38d6c3eb7a3dfa", "send id": 1226}
2025-11-26T13:45:16.241+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "mmexport1764064518684.jpg", "hash": "75e9bf52d3c669652c38d6c3eb7a3dfa", "send id": 1226}
2025-11-26T13:45:16.258+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "mmexport1764064518684.jpg", "hash": "75e9bf52d3c669652c38d6c3eb7a3dfa", "send id": 1226}
2025-11-26T13:45:16.382+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "mmexport1764064518684.jpg", "hash": "", "send id": 1226}
2025-11-26T13:45:16.383+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:45:16.460+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "mmexport1764064518684.jpg", "hash": "", "send id": 1226}
2025-11-26T13:45:16.460+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:45:16.473+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1226) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913666700363304960, userId: 10001, fromId: 10001, toId: 10006, tm: 1764135915778 (time: 2025-11-26 13:45:15), devId: \"47FCC883FB83DD2D\", sendId: 1226, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/1jipgmqcze645.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/1jipgmqcze645.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T13:45:16.508+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T13:45:16.509+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913660859295862784) MsgTChatMsg
2025-11-26T13:45:16.616+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913666700363304960 sendId:1226 recvOk:1764135915897 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:45:16.641+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913665584384839680) MsgTChatReply
2025-11-26T13:45:16.928+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913666700363304960 sendId:1226 recvOk:1764135916217 readOk:1764135916217 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:45:16.961+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913665584384839680) MsgTChatReply
2025-11-26T13:45:26.198+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251121_162518.jpg", "hash": "9ce5af665a18014126866cf9c6612619", "send id": 1227}
2025-11-26T13:45:26.250+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251121_162518.jpg", "hash": "9ce5af665a18014126866cf9c6612619", "send id": 1227}
2025-11-26T13:45:26.304+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251121_162518.jpg", "hash": "9ce5af665a18014126866cf9c6612619", "send id": 1227}
2025-11-26T13:45:26.355+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251121_162518.jpg", "hash": "9ce5af665a18014126866cf9c6612619", "send id": 1227}
2025-11-26T13:45:26.378+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251121_162518.jpg", "hash": "9ce5af665a18014126866cf9c6612619", "send id": 1227}
2025-11-26T13:45:26.383+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1227) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913666741928857600, userId: 10001, fromId: 10001, toId: 10006, tm: 1764135925588 (time: 2025-11-26 13:45:25), devId: \"47FCC883FB83DD2D\", sendId: 1227, msgType: IMAGE, data: []byte, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T13:45:26.399+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T13:45:26.399+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913660859295862784) MsgTChatMsg
2025-11-26T13:45:26.462+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913666741928857600 sendId:1227 recvOk:1764135925728 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:45:26.471+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251121_162518.jpg", "hash": "", "send id": 1227}
2025-11-26T13:45:26.473+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:45:26.481+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913665584384839680) MsgTChatReply
2025-11-26T13:45:26.525+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251121_162518.jpg", "hash": "", "send id": 1227}
2025-11-26T13:45:26.526+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:45:26.619+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251121_162518.jpg", "hash": "", "send id": 1227}
2025-11-26T13:45:26.619+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:45:26.709+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251121_162518.jpg", "hash": "", "send id": 1227}
2025-11-26T13:45:26.710+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:45:26.725+0800	[31mERROR[0m	core/chatmsghandler.go:110	msgId is not same as sendId	{"sendId": 1227, "msgId": 913666741928857600}
2025-11-26T13:45:35.368+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "VID_20200114_093359.mp4", "hash": "6604624c606b9bf1ed118ceff2ea1cc1", "send id": 1228}
2025-11-26T13:45:35.459+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1228) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913666779996360704, userId: 10001, fromId: 10001, toId: 10006, tm: 1764135934777 (time: 2025-11-26 13:45:34), devId: \"47FCC883FB83DD2D\", sendId: 1228, msgType: FILE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"fid\\\":10001,\\\"cur\\\":0,\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/3o9q5nl3odyli.mp4\\\",\\\"size\\\":24081658,\\\"mime\\\":\\\"video/mp4\\\",\\\"name\\\":\\\"VID_20200114_093359.mp4\\\",\\\"msgid\\\":1228},\\\"tp\\\":\\\"EX\\\"}],\\\"fmt\\\":[{\\\"at\\\":-1,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}]}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T13:45:35.471+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T13:45:35.472+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913660859295862784) MsgTChatMsg
2025-11-26T13:45:35.672+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913666779996360704 sendId:1228 recvOk:1764135934928 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:45:35.693+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913665584384839680) MsgTChatReply
2025-11-26T13:45:36.409+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913666779996360704 sendId:1228 recvOk:1764135935654 readOk:1764135935654 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:45:36.438+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913665584384839680) MsgTChatReply
2025-11-26T13:46:41.946+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(913660859295862784) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T13:46:41.947+0800	[34mINFO[0m	core/session.go:256	user(10006) session(913660859295862784)
2025-11-26T13:46:43.622+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"MYLDXsP9EsFguUrfAf09SuzbrgcbK9o0JLgr2aU=\"}"}
2025-11-26T13:46:43.624+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-26T13:46:43.624+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764136003623,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T13:46:43.674+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913667065586520064) MsgTFriendOpRet
2025-11-26T13:46:43.732+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-11-26T13:46:43.733+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913667065586520064) MsgTFriendOpRet
2025-11-26T13:46:43.784+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T13:46:43.785+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913667065586520064) MsgTFriendOpRet
2025-11-26T13:46:43.927+0800	[35mDEBUG[0m	core/chatmsghandler.go:490	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:913666779996360704 chatType:ChatTypeP2P"}
2025-11-26T13:46:43.938+0800	[35mDEBUG[0m	core/chatmsghandler.go:579	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T13:46:43.982+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913666779996360704 sendId:1228 recvOk:1764136003245 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:46:44.002+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913665584384839680) MsgTChatReply
2025-11-26T13:46:49.129+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913666741928857600 sendId:1227 recvOk:1764136008367 readOk:1764136008367 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:46:49.152+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913665584384839680) MsgTChatReply
2025-11-26T13:47:03.423+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1229}
2025-11-26T13:47:03.466+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1229}
2025-11-26T13:47:03.466+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:47:03.526+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1229}
2025-11-26T13:47:03.527+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:47:03.569+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1229}
2025-11-26T13:47:03.570+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:47:03.610+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1229}
2025-11-26T13:47:03.611+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:47:03.651+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1229}
2025-11-26T13:47:03.651+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:47:03.694+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1229}
2025-11-26T13:47:03.694+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:47:03.775+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1229}
2025-11-26T13:47:03.775+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:47:03.819+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1229}
2025-11-26T13:47:03.819+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:47:03.872+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1229}
2025-11-26T13:47:03.873+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:47:03.929+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1229}
2025-11-26T13:47:03.929+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:47:03.987+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1229}
2025-11-26T13:47:03.987+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:47:04.024+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1229}
2025-11-26T13:47:04.024+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:47:04.093+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1229}
2025-11-26T13:47:04.093+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:47:04.140+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1229}
2025-11-26T13:47:04.141+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:47:04.202+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1229}
2025-11-26T13:47:04.203+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:47:04.217+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1229}
2025-11-26T13:47:04.218+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:47:04.268+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1229) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913667152488304640, userId: 10001, fromId: 10001, toId: 10006, tm: 1764136022834 (time: 2025-11-26 13:47:02), devId: \"47FCC883FB83DD2D\", sendId: 1229, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/r04d2ugv00no.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/r04d2ugv00no.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T13:47:04.276+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T13:47:04.276+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913667065586520064) MsgTChatMsg
2025-11-26T13:47:04.358+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913667152488304640 sendId:1229 recvOk:1764136023625 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:47:04.373+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913665584384839680) MsgTChatReply
2025-11-26T13:47:05.684+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913667152488304640 sendId:1229 recvOk:1764136024949 readOk:1764136024949 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:47:05.698+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913665584384839680) MsgTChatReply
2025-11-26T13:53:27.721+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(913665584384839680) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T13:53:27.721+0800	[34mINFO[0m	core/session.go:256	user(10001) session(913665584384839680)
2025-11-26T13:56:57.518+0800	[34mINFO[0m	server/main.go:92	server started here...
2025-11-26T13:57:11.652+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"7PDXXLdc/4tyLqb/oaF563M5Mzc2qJ49amrVAhw=\"}"}
2025-11-26T13:57:11.855+0800	[35mDEBUG[0m	core/commonhelper.go:421	Load user permission list	{"user": 10001, "count": 0}
2025-11-26T13:57:11.856+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T13:57:11.856+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764136631856,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T13:57:18.358+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"nickName":"robin","email":"*","phone":"*"},{"userId":10004,"nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*"},{"userId":10005,"nickName":"robin","email":"*","phone":"*"},{"userId":10006,"nickName":"robin fox","email":"*","phone":"*"},{"userId":10007,"nickName":"yoyo","email":"*","phone":"*"}]}
2025-11-26T13:57:18.358+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913669697709412352) MsgTFriendOpRet
2025-11-26T13:57:18.402+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T13:57:18.405+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913669697709412352) MsgTFriendOpRet
2025-11-26T13:57:19.427+0800	[35mDEBUG[0m	core/chatmsghandler.go:490	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:913667152488304640 chatType:ChatTypeP2P"}
2025-11-26T13:57:19.461+0800	[35mDEBUG[0m	core/chatmsghandler.go:579	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T13:57:31.900+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1241}
2025-11-26T13:57:31.905+0800	[35mDEBUG[0m	core/filemsghander.go:276	find same file	{"uniq_name": "r04d2ugv00no.jpg", "file name": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "tags": ["IMG", "20251125", "121644.", "jpg"]}
2025-11-26T13:57:39.348+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1241}
2025-11-26T13:57:39.348+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:57:39.522+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1241}
2025-11-26T13:57:39.522+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:57:39.650+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1241}
2025-11-26T13:57:39.651+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:57:39.705+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1241}
2025-11-26T13:57:39.706+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:57:39.750+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1241}
2025-11-26T13:57:39.751+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:57:39.803+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1241}
2025-11-26T13:57:39.804+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:57:39.846+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1241}
2025-11-26T13:57:39.848+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:57:39.874+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1241}
2025-11-26T13:57:39.876+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:57:39.902+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1241}
2025-11-26T13:57:39.902+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:57:39.942+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1241}
2025-11-26T13:57:39.942+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:57:39.962+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1241}
2025-11-26T13:57:39.962+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:57:40.013+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1241}
2025-11-26T13:57:40.013+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:57:40.018+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1241}
2025-11-26T13:57:40.018+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:57:40.053+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1241}
2025-11-26T13:57:40.054+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:57:40.095+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1241}
2025-11-26T13:57:40.096+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:57:40.104+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1241}
2025-11-26T13:57:40.104+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:57:40.104+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1241) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913669819377782784, userId: 10001, fromId: 10001, toId: 10006, tm: 1764136658986 (time: 2025-11-26 13:57:38), devId: \"47FCC883FB83DD2D\", sendId: 1241, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/r04d2ugv00no.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/r04d2ugv00no.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T13:57:40.160+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T13:57:40.161+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-26T14:00:36.130+0800	[34mINFO[0m	server/main.go:92	server started here...
2025-11-26T14:00:45.212+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"wJlPgKSTGDI2JAK8aAjnjaIHxUxhCeObiZctdKI=\"}"}
2025-11-26T14:00:45.375+0800	[35mDEBUG[0m	core/commonhelper.go:421	Load user permission list	{"user": 10001, "count": 0}
2025-11-26T14:00:45.375+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T14:00:45.375+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764136845375,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T14:00:45.553+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"nickName":"robin","email":"*","phone":"*"},{"userId":10004,"nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*"},{"userId":10005,"nickName":"robin","email":"*","phone":"*"},{"userId":10006,"nickName":"robin fox","email":"*","phone":"*"},{"userId":10007,"nickName":"yoyo","email":"*","phone":"*"}]}
2025-11-26T14:00:45.553+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913670595458240512) MsgTFriendOpRet
2025-11-26T14:00:45.598+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T14:00:45.599+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913670595458240512) MsgTFriendOpRet
2025-11-26T14:00:52.288+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "mmexport1764073105556.jpg", "hash": "b2eefc4b89f94707ad0da823743342f7", "send id": 1242, "chunk index": 0, "chunk count": 3}
2025-11-26T14:00:52.292+0800	[35mDEBUG[0m	core/filemsghander.go:280	find same file	{"uniq_name": "3zi18u3l5inm.jpg", "file name": "mmexport1764073105556.jpg", "hash": "b2eefc4b89f94707ad0da823743342f7", "tags": ["mmexport1764073105556", "jpg"]}
2025-11-26T14:00:52.339+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "mmexport1764073105556.jpg", "hash": "b2eefc4b89f94707ad0da823743342f7", "send id": 1242, "chunk index": 1, "chunk count": 3}
2025-11-26T14:00:52.339+0800	[31mERROR[0m	core/filemsghander.go:225	should send truck 0 first
2025-11-26T14:00:52.346+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "mmexport1764073105556.jpg", "hash": "b2eefc4b89f94707ad0da823743342f7", "send id": 1242, "chunk index": 2, "chunk count": 3}
2025-11-26T14:00:52.347+0800	[31mERROR[0m	core/filemsghander.go:225	should send truck 0 first
2025-11-26T14:00:57.466+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1242) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913670647174008832, userId: 10001, fromId: 10001, toId: 10006, tm: 1764136856775 (time: 2025-11-26 14:00:56), devId: \"47FCC883FB83DD2D\", sendId: 1242, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/3zi18u3l5inm.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/3zi18u3l5inm.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T14:00:57.544+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T14:00:57.544+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-26T14:03:06.175+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:-5357504718274850190  params:{key:\"checkTokenData\"  value:\"UD1U0uU00clkKofz2rwyZNtdmFLyNlgoftqT/Xo=\"}"}
2025-11-26T14:03:06.177+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-26T14:03:06.177+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764136986177,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T14:03:06.254+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-11-26T14:03:06.254+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTFriendOpRet
2025-11-26T14:03:06.316+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T14:03:06.316+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTFriendOpRet
2025-11-26T14:03:43.298+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(913670595458240512) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T14:03:43.299+0800	[34mINFO[0m	core/session.go:256	user(10001) session(913670595458240512)
2025-11-26T14:17:22.342+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"/GpEPLzBn2nt7QTw76L3UBtp4n68KVefYMisrkg=\"}"}
2025-11-26T14:17:22.346+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T14:17:22.346+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764137842346,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T14:17:22.397+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T14:17:22.397+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913674777628119040) MsgTFriendOpRet
2025-11-26T14:17:22.446+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T14:17:22.446+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913674777628119040) MsgTFriendOpRet
2025-11-26T14:17:22.581+0800	[35mDEBUG[0m	core/chatmsghandler.go:490	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:913670647174008832  chatType:ChatTypeP2P"}
2025-11-26T14:17:22.615+0800	[35mDEBUG[0m	core/chatmsghandler.go:579	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T14:17:30.863+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "mmexport1764073105556.jpg", "hash": "b2eefc4b89f94707ad0da823743342f7", "send id": 1261, "chunk index": 0, "chunk count": 3}
2025-11-26T14:17:30.865+0800	[35mDEBUG[0m	core/filemsghander.go:280	find same file	{"uniq_name": "3zi18u3l5inm.jpg", "file name": "mmexport1764073105556.jpg", "hash": "b2eefc4b89f94707ad0da823743342f7", "tags": ["mmexport1764073105556", "jpg"]}
2025-11-26T14:17:30.958+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1261) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913674814181478400, userId: 10001, fromId: 10001, toId: 10006, tm: 1764137850317 (time: 2025-11-26 14:17:30), devId: \"47FCC883FB83DD2D\", sendId: 1261, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/3zi18u3l5inm.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/3zi18u3l5inm.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T14:17:30.972+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T14:17:30.973+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatMsg
2025-11-26T14:17:31.156+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913674814181478400  sendId:1261  recvOk:1764137850419  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:17:31.181+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913674777628119040) MsgTChatReply
2025-11-26T14:17:32.748+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913674814181478400  sendId:1261  recvOk:1764137851992  readOk:1764137851992  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:17:32.778+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913674777628119040) MsgTChatReply
2025-11-26T14:31:52.824+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(913674777628119040) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T14:31:52.826+0800	[34mINFO[0m	core/session.go:256	user(10001) session(913674777628119040)
2025-11-26T14:32:35.032+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"fF11sHxgiwDOLycH7fQ5EgKf3fHoY7fzHFyZCBU=\"}"}
2025-11-26T14:32:35.033+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T14:32:35.034+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764138755033,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T14:32:35.203+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T14:32:35.203+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913678604104241152) MsgTFriendOpRet
2025-11-26T14:32:35.250+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T14:32:35.251+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913678604104241152) MsgTFriendOpRet
2025-11-26T14:32:36.473+0800	[35mDEBUG[0m	core/chatmsghandler.go:490	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:913674814181478400  chatType:ChatTypeP2P"}
2025-11-26T14:32:36.484+0800	[35mDEBUG[0m	core/chatmsghandler.go:579	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T14:34:53.713+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1261) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913679187812945920, userId: 10006, fromId: 10006, toId: 10001, tm: 1764138893038 (time: 2025-11-26 14:34:53), devId: \"BEF2A06F75075BC9\", sendId: 1261, msgType: TEXT, data: \"ä½ å¥½\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T14:34:53.750+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T14:34:53.750+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913678604104241152) MsgTChatMsg
2025-11-26T14:34:53.911+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913679187812945920  sendId:1261  recvOk:1764138893211  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:34:53.936+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:35:18.776+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913679187812945920  sendId:1261  recvOk:1764138904794  readOk:1764138904794  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:35:18.806+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:35:24.517+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1262) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913679317014286336, userId: 10006, fromId: 10006, toId: 10001, tm: 1764138923826 (time: 2025-11-26 14:35:23), devId: \"BEF2A06F75075BC9\", sendId: 1262, msgType: TEXT, data: \"ä½ å¥½\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T14:35:24.526+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T14:35:24.528+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913678604104241152) MsgTChatMsg
2025-11-26T14:35:24.734+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913679317014286336  sendId:1262  recvOk:1764138924031  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:35:24.747+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:35:39.820+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1263) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913679381199720448, userId: 10006, fromId: 10006, toId: 10001, tm: 1764138939115 (time: 2025-11-26 14:35:39), devId: \"BEF2A06F75075BC9\", sendId: 1263, msgType: TEXT, data: \"1\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T14:35:39.848+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T14:35:39.850+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913678604104241152) MsgTChatMsg
2025-11-26T14:36:02.652+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1264) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913679476964069376, userId: 10006, fromId: 10006, toId: 10001, tm: 1764138961966 (time: 2025-11-26 14:36:01), devId: \"BEF2A06F75075BC9\", sendId: 1264, msgType: TEXT, data: \"2\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T14:36:02.663+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T14:36:02.663+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913678604104241152) MsgTChatMsg
2025-11-26T14:36:15.769+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913679317014286336  sendId:1262  recvOk:1764138924593  readOk:1764138924593  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:36:15.795+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:36:15.795+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913679381199720448  sendId:1263  recvOk:1764138975079  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:36:15.809+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:36:16.020+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913679476964069376  sendId:1264  recvOk:1764138975147  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:36:16.041+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:36:51.285+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(913678604104241152) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T14:36:51.287+0800	[34mINFO[0m	core/session.go:256	user(10001) session(913678604104241152)
2025-11-26T14:37:54.343+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"wD0ap9eabmIEIgvTm1X2U18/IEMe635rLucV+Ac=\"}"}
2025-11-26T14:37:54.346+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T14:37:54.347+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764139074346,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T14:37:54.515+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T14:37:54.515+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913679943198707712) MsgTFriendOpRet
2025-11-26T14:37:54.557+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T14:37:54.559+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913679943198707712) MsgTFriendOpRet
2025-11-26T14:37:55.648+0800	[35mDEBUG[0m	core/chatmsghandler.go:490	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:913679476964069376  chatType:ChatTypeP2P"}
2025-11-26T14:37:55.669+0800	[35mDEBUG[0m	core/chatmsghandler.go:579	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T14:37:55.750+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913679476964069376  sendId:1264  recvOk:1764139075053  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:37:55.763+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:38:05.585+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913679381199720448  sendId:1263  recvOk:1764139082095  readOk:1764139082095  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:38:05.603+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:38:06.297+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913679476964069376  sendId:1264  recvOk:1764139084918  readOk:1764139084918  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:38:06.315+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:38:13.223+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1265) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913680024618536960, userId: 10006, fromId: 10006, toId: 10001, tm: 1764139092530 (time: 2025-11-26 14:38:12), devId: \"BEF2A06F75075BC9\", sendId: 1265, msgType: TEXT, data: \"3\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T14:38:13.242+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T14:38:13.243+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913679943198707712) MsgTChatMsg
2025-11-26T14:38:13.357+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913680024618536960  sendId:1265  recvOk:1764139092650  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:38:13.383+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:39:01.086+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913680024618536960  sendId:1265  recvOk:1764139093447  readOk:1764139093447  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:39:01.099+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:39:03.721+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(913679943198707712) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T14:39:03.722+0800	[34mINFO[0m	core/session.go:256	user(10001) session(913679943198707712)
2025-11-26T14:41:13.240+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"lVqdSB5TUzrptSp79fLqHbaVavXTdL0DwejXE9A=\"}"}
2025-11-26T14:41:13.241+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T14:41:13.241+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764139273241,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T14:41:13.408+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T14:41:13.409+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913680777357692928) MsgTFriendOpRet
2025-11-26T14:41:13.455+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T14:41:13.456+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913680777357692928) MsgTFriendOpRet
2025-11-26T14:41:14.438+0800	[35mDEBUG[0m	core/chatmsghandler.go:490	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:913680024618536960  chatType:ChatTypeP2P"}
2025-11-26T14:41:14.450+0800	[35mDEBUG[0m	core/chatmsghandler.go:579	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T14:41:14.535+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913680024618536960  sendId:1265  recvOk:1764139273837  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:41:14.546+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:41:29.183+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1266) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913680846534348800, userId: 10006, fromId: 10006, toId: 10001, tm: 1764139288492 (time: 2025-11-26 14:41:28), devId: \"BEF2A06F75075BC9\", sendId: 1266, msgType: TEXT, data: \"4\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T14:41:29.202+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T14:41:29.202+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913680777357692928) MsgTChatMsg
2025-11-26T14:41:29.339+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913680846534348800  sendId:1266  recvOk:1764139288656  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:41:29.366+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:41:38.164+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1267) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913680884203393024, userId: 10006, fromId: 10006, toId: 10001, tm: 1764139297455 (time: 2025-11-26 14:41:37), devId: \"BEF2A06F75075BC9\", sendId: 1267, msgType: TEXT, data: \"5\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T14:41:38.172+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T14:41:38.175+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913680777357692928) MsgTChatMsg
2025-11-26T14:41:38.369+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913680884203393024  sendId:1267  recvOk:1764139297693  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:41:38.383+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:41:57.864+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913680846534348800  sendId:1266  recvOk:1764139308113  readOk:1764139308113  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:41:57.876+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:41:58.037+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913680884203393024  sendId:1267  recvOk:1764139316456  readOk:1764139316456  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:41:58.049+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:42:03.156+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1268) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913680989027438592, userId: 10006, fromId: 10006, toId: 10001, tm: 1764139322500 (time: 2025-11-26 14:42:02), devId: \"BEF2A06F75075BC9\", sendId: 1268, msgType: TEXT, data: \"6\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T14:42:03.167+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T14:42:03.167+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913680777357692928) MsgTChatMsg
2025-11-26T14:42:03.367+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913680989027438592  sendId:1268  recvOk:1764139322686  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:42:03.387+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:42:16.931+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1269) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913681046803976192, userId: 10006, fromId: 10006, toId: 10001, tm: 1764139336261 (time: 2025-11-26 14:42:16), devId: \"BEF2A06F75075BC9\", sendId: 1269, msgType: TEXT, data: \"7\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T14:42:16.956+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T14:42:16.957+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913680777357692928) MsgTChatMsg
2025-11-26T14:42:26.358+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1270) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913681086343680000, userId: 10006, fromId: 10006, toId: 10001, tm: 1764139345698 (time: 2025-11-26 14:42:25), devId: \"BEF2A06F75075BC9\", sendId: 1270, msgType: TEXT, data: \"8\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T14:42:26.371+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T14:42:26.371+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913680777357692928) MsgTChatMsg
2025-11-26T14:42:29.065+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913680989027438592  sendId:1268  recvOk:1764139323644  readOk:1764139323644  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:42:29.075+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:42:29.269+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913681046803976192  sendId:1269  recvOk:1764139348449  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:42:29.290+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:42:29.291+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913681086343680000  sendId:1270  recvOk:1764139348536  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:42:29.307+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:42:35.515+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913681046803976192  sendId:1269  recvOk:1764139350227  readOk:1764139350227  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:42:35.541+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:42:35.542+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913681086343680000  sendId:1270  recvOk:1764139351768  readOk:1764139351768  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:42:35.557+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:43:02.850+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1271) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913681239402221568, userId: 10006, fromId: 10006, toId: 10001, tm: 1764139382165 (time: 2025-11-26 14:43:02), devId: \"BEF2A06F75075BC9\", sendId: 1271, msgType: TEXT, data: \"9\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T14:43:02.861+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T14:43:02.861+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913680777357692928) MsgTChatMsg
2025-11-26T14:43:03.081+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913681239402221568  sendId:1271  recvOk:1764139382378  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:43:03.108+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:43:03.823+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913681239402221568  sendId:1271  recvOk:1764139383130  readOk:1764139383130  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:43:03.842+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:43:08.721+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1272) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913681264026980352, userId: 10006, fromId: 10006, toId: 10001, tm: 1764139388018 (time: 2025-11-26 14:43:08), devId: \"BEF2A06F75075BC9\", sendId: 1272, msgType: TEXT, data: \"10\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T14:43:08.738+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T14:43:08.740+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913680777357692928) MsgTChatMsg
2025-11-26T14:43:08.902+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913681264026980352  sendId:1272  recvOk:1764139388215  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:43:08.929+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:43:09.627+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913681264026980352  sendId:1272  recvOk:1764139388942  readOk:1764139388942  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:43:09.646+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:44:12.175+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(913680777357692928) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T14:44:12.177+0800	[34mINFO[0m	core/session.go:256	user(10001) session(913680777357692928)
2025-11-26T14:44:48.298+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"V3AvXVC4ZuMaos8ic3oUpfplX4xkrXvK+lkNr5M=\"}"}
2025-11-26T14:44:48.299+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T14:44:48.300+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764139488299,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T14:44:48.476+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T14:44:48.477+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913681679237910528) MsgTFriendOpRet
2025-11-26T14:44:48.536+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T14:44:48.536+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913681679237910528) MsgTFriendOpRet
2025-11-26T14:44:48.557+0800	[35mDEBUG[0m	core/chatmsghandler.go:490	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:913681264026980352  chatType:ChatTypeP2P"}
2025-11-26T14:44:48.577+0800	[35mDEBUG[0m	core/chatmsghandler.go:579	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T14:44:48.648+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913681264026980352  sendId:1272  recvOk:1764139487978  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:44:48.673+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:45:00.085+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1273) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913681731108868096, userId: 10006, fromId: 10006, toId: 10001, tm: 1764139499396 (time: 2025-11-26 14:44:59), devId: \"BEF2A06F75075BC9\", sendId: 1273, msgType: TEXT, data: \"11\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T14:45:00.094+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T14:45:00.094+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913681679237910528) MsgTChatMsg
2025-11-26T14:45:00.281+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913681731108868096  sendId:1273  recvOk:1764139499597  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:45:00.295+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:45:36.199+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1274) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913681882594545664, userId: 10006, fromId: 10006, toId: 10001, tm: 1764139535495 (time: 2025-11-26 14:45:35), devId: \"BEF2A06F75075BC9\", sendId: 1274, msgType: TEXT, data: \"12\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T14:45:36.219+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T14:45:36.219+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913681679237910528) MsgTChatMsg
2025-11-26T14:45:36.391+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913681882594545664  sendId:1274  recvOk:1764139535674  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:45:36.409+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:45:40.171+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1275) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913681899254321152, userId: 10006, fromId: 10006, toId: 10001, tm: 1764139539461 (time: 2025-11-26 14:45:39), devId: \"BEF2A06F75075BC9\", sendId: 1275, msgType: TEXT, data: \"13\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T14:45:40.200+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T14:45:40.201+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913681679237910528) MsgTChatMsg
2025-11-26T14:45:40.344+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913681899254321152  sendId:1275  recvOk:1764139539639  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:45:40.364+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:45:43.133+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1276) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913681911677849600, userId: 10006, fromId: 10006, toId: 10001, tm: 1764139542464 (time: 2025-11-26 14:45:42), devId: \"BEF2A06F75075BC9\", sendId: 1276, msgType: TEXT, data: \"14\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T14:45:43.153+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T14:45:43.153+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913681679237910528) MsgTChatMsg
2025-11-26T14:45:43.295+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913681911677849600  sendId:1276  recvOk:1764139542608  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:45:43.329+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:45:46.372+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1277) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913681925263200256, userId: 10006, fromId: 10006, toId: 10001, tm: 1764139545710 (time: 2025-11-26 14:45:45), devId: \"BEF2A06F75075BC9\", sendId: 1277, msgType: TEXT, data: \"15\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T14:45:46.389+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T14:45:46.390+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913681679237910528) MsgTChatMsg
2025-11-26T14:45:46.590+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913681925263200256  sendId:1277  recvOk:1764139545879  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:45:46.606+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:45:49.601+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1278) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913681938806607872, userId: 10006, fromId: 10006, toId: 10001, tm: 1764139548912 (time: 2025-11-26 14:45:48), devId: \"BEF2A06F75075BC9\", sendId: 1278, msgType: TEXT, data: \"16\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T14:45:49.619+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T14:45:49.619+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913681679237910528) MsgTChatMsg
2025-11-26T14:45:49.765+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913681938806607872  sendId:1278  recvOk:1764139549065  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:45:49.781+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:45:53.909+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10006, "filename": "1758866649235.jpg", "hash": "a5a05c5497e9091b9f87c9a128599329", "send id": 1279, "chunk index": 0, "chunk count": 1}
2025-11-26T14:45:53.930+0800	[35mDEBUG[0m	core/filemsghander.go:280	find same file	{"uniq_name": "esw6pphojfdx.jpg", "file name": "1758866649235.jpg", "hash": "a5a05c5497e9091b9f87c9a128599329", "tags": ["1758866649235.", "jpg"]}
2025-11-26T14:45:54.033+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1279) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913681957395763200, userId: 10006, fromId: 10006, toId: 10001, tm: 1764139553380 (time: 2025-11-26 14:45:53), devId: \"BEF2A06F75075BC9\", sendId: 1279, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/esw6pphojfdx.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/esw6pphojfdx.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T14:45:54.040+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T14:45:54.041+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913681679237910528) MsgTChatMsg
2025-11-26T14:45:54.168+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913681957395763200  sendId:1279  recvOk:1764139553486  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:45:54.186+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:45:57.881+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10006, "filename": "1758867312806.jpg", "hash": "9ea8728275fdce2305c963669f3051d3", "send id": 1280, "chunk index": 0, "chunk count": 1}
2025-11-26T14:45:57.885+0800	[35mDEBUG[0m	core/filemsghander.go:280	find same file	{"uniq_name": "jlqgbr09n9ge.jpg", "file name": "1758867312806.jpg", "hash": "9ea8728275fdce2305c963669f3051d3", "tags": ["1758867312806.", "jpg"]}
2025-11-26T14:45:58.026+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1280) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913681974143619072, userId: 10006, fromId: 10006, toId: 10001, tm: 1764139557332 (time: 2025-11-26 14:45:57), devId: \"BEF2A06F75075BC9\", sendId: 1280, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/jlqgbr09n9ge.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/jlqgbr09n9ge.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T14:45:58.039+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T14:45:58.040+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913681679237910528) MsgTChatMsg
2025-11-26T14:45:58.145+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913681974143619072  sendId:1280  recvOk:1764139557455  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:45:58.165+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:46:18.881+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913681731108868096  sendId:1273  recvOk:1764139578204  readOk:1764139578204  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:46:18.901+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:46:18.954+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913681882594545664  sendId:1274  recvOk:1764139578209  readOk:1764139578209  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:46:18.976+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:46:19.002+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913681899254321152  sendId:1275  recvOk:1764139578212  readOk:1764139578212  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:46:19.024+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:46:19.104+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913681911677849600  sendId:1276  recvOk:1764139578215  readOk:1764139578215  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:46:19.131+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:46:19.190+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913681925263200256  sendId:1277  recvOk:1764139578218  readOk:1764139578218  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:46:19.210+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:46:19.261+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913681938806607872  sendId:1278  recvOk:1764139578221  readOk:1764139578221  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:46:19.281+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:46:19.345+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913681957395763200  sendId:1279  recvOk:1764139578225  readOk:1764139578225  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:46:19.357+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:46:23.173+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913681974143619072  sendId:1280  recvOk:1764139582459  readOk:1764139582459  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:46:23.186+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:46:36.288+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1281, "chunk index": 0, "chunk count": 17}
2025-11-26T14:46:36.292+0800	[35mDEBUG[0m	core/filemsghander.go:280	find same file	{"uniq_name": "r04d2ugv00no.jpg", "file name": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "tags": ["IMG", "20251125", "121644.", "jpg"]}
2025-11-26T14:46:42.376+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1281) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913682160161001472, userId: 10001, fromId: 10001, toId: 10006, tm: 1764139601669 (time: 2025-11-26 14:46:41), devId: \"47FCC883FB83DD2D\", sendId: 1281, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/r04d2ugv00no.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/r04d2ugv00no.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T14:46:42.401+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T14:46:42.403+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatMsg
2025-11-26T14:46:42.656+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913682160161001472  sendId:1281  recvOk:1764139601982  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:46:42.676+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913681679237910528) MsgTChatReply
2025-11-26T14:46:43.596+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913682160161001472  sendId:1281  recvOk:1764139602887  readOk:1764139602887  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:46:43.609+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913681679237910528) MsgTChatReply
2025-11-26T14:52:34.517+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(913671186704109568) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T14:52:34.518+0800	[34mINFO[0m	core/session.go:256	user(10006) session(913671186704109568)
2025-11-26T14:52:40.698+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:-5357504718274850190  params:{key:\"checkTokenData\"  value:\"SmMR88654lSNnT4wvYHxj5tDLcar1KFpWOArGhM=\"}"}
2025-11-26T14:52:40.699+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-26T14:52:40.699+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764139960699,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T14:52:40.746+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913683662254510080) MsgTFriendOpRet
2025-11-26T14:52:40.813+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-11-26T14:52:40.814+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913683662254510080) MsgTFriendOpRet
2025-11-26T14:52:40.863+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T14:52:40.865+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913683662254510080) MsgTFriendOpRet
2025-11-26T14:52:41.098+0800	[35mDEBUG[0m	core/chatmsghandler.go:490	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:913682160161001472  chatType:ChatTypeP2P"}
2025-11-26T14:52:41.119+0800	[35mDEBUG[0m	core/chatmsghandler.go:579	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T14:52:41.148+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913682160161001472  sendId:1281  recvOk:1764139960487  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:52:41.165+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913681679237910528) MsgTChatReply
2025-11-26T14:52:56.818+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_XHS_1727417629545.jpg", "hash": "3c3a9c799bfcdb2cccf89fbc69b4fece", "send id": 1282, "chunk index": 0, "chunk count": 2}
2025-11-26T14:52:56.961+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_XHS_1727417629545.jpg", "hash": "3c3a9c799bfcdb2cccf89fbc69b4fece", "send id": 1282, "chunk index": 1, "chunk count": 2}
2025-11-26T14:52:57.051+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1282) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913683731661852672, userId: 10001, fromId: 10001, toId: 10006, tm: 1764139976402 (time: 2025-11-26 14:52:56), devId: \"47FCC883FB83DD2D\", sendId: 1282, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/ok41mpv0lhz0.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/ok41mpv0lhz0.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T14:52:57.068+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T14:52:57.070+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913683662254510080) MsgTChatMsg
2025-11-26T14:52:57.107+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913683731661852672  sendId:1282  recvOk:1764139976450  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:52:57.132+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913681679237910528) MsgTChatReply
2025-11-26T15:02:31.089+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "VID_20200114_110146.mp4", "hash": "98f0be4e152e25966b4af710af84b01a", "send id": 1283, "chunk index": 0, "chunk count": 81}
2025-11-26T15:02:31.096+0800	[35mDEBUG[0m	core/filemsghander.go:280	find same file	{"uniq_name": "2a758er39jwk8.mp4", "file name": "VID_20200114_110146.mp4", "hash": "98f0be4e152e25966b4af710af84b01a", "tags": ["VID", "20200114", "110146.", "mp4"]}
2025-11-26T15:02:31.277+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1283) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913686140140261376, userId: 10001, fromId: 10001, toId: 10006, tm: 1764140550585 (time: 2025-11-26 15:02:30), devId: \"47FCC883FB83DD2D\", sendId: 1283, msgType: FILE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"fid\\\":10001,\\\"cur\\\":0,\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/2a758er39jwk8.mp4\\\",\\\"size\\\":84835869,\\\"mime\\\":\\\"video/mp4\\\",\\\"name\\\":\\\"VID_20200114_110146.mp4\\\",\\\"msgid\\\":1283},\\\"tp\\\":\\\"EX\\\"}],\\\"fmt\\\":[{\\\"at\\\":-1,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}]}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T15:02:31.306+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T15:02:31.307+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913683662254510080) MsgTChatMsg
2025-11-26T15:02:31.417+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913686140140261376  sendId:1283  recvOk:1764140550722  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T15:02:31.433+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913681679237910528) MsgTChatReply
2025-11-26T15:02:52.860+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_xhs_1762241215295.mp4", "hash": "c0e4efdc07af0184976aa2e305215ed1", "send id": 1284, "chunk index": 0, "chunk count": 6}
2025-11-26T15:02:53.004+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_xhs_1762241215295.mp4", "hash": "c0e4efdc07af0184976aa2e305215ed1", "send id": 1284, "chunk index": 1, "chunk count": 6}
2025-11-26T15:02:53.098+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_xhs_1762241215295.mp4", "hash": "c0e4efdc07af0184976aa2e305215ed1", "send id": 1284, "chunk index": 2, "chunk count": 6}
2025-11-26T15:02:53.207+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_xhs_1762241215295.mp4", "hash": "c0e4efdc07af0184976aa2e305215ed1", "send id": 1284, "chunk index": 3, "chunk count": 6}
2025-11-26T15:02:53.300+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_xhs_1762241215295.mp4", "hash": "c0e4efdc07af0184976aa2e305215ed1", "send id": 1284, "chunk index": 4, "chunk count": 6}
2025-11-26T15:02:53.407+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_xhs_1762241215295.mp4", "hash": "c0e4efdc07af0184976aa2e305215ed1", "send id": 1284, "chunk index": 5, "chunk count": 6}
2025-11-26T15:02:53.502+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1284) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913686233358667776, userId: 10001, fromId: 10001, toId: 10006, tm: 1764140572829 (time: 2025-11-26 15:02:52), devId: \"47FCC883FB83DD2D\", sendId: 1284, msgType: FILE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"fid\\\":10001,\\\"cur\\\":0,\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/209npnba5qk00.mp4\\\",\\\"size\\\":5914931,\\\"mime\\\":\\\"video/mp4\\\",\\\"name\\\":\\\"Camera_xhs_1762241215295.mp4\\\",\\\"msgid\\\":1284},\\\"tp\\\":\\\"EX\\\"}],\\\"fmt\\\":[{\\\"at\\\":-1,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}]}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T15:02:53.524+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T15:02:53.524+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913683662254510080) MsgTChatMsg
2025-11-26T15:02:53.568+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913686233358667776  sendId:1284  recvOk:1764140572895  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T15:02:53.587+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913681679237910528) MsgTChatReply
2025-11-26T15:03:18.828+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1285) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913686339579416576, userId: 10001, fromId: 10001, toId: 10006, tm: 1764140598115 (time: 2025-11-26 15:03:18), devId: \"47FCC883FB83DD2D\", sendId: 1285, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T15:03:18.849+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T15:03:18.849+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913683662254510080) MsgTChatMsg
2025-11-26T15:03:18.972+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913686339579416576  sendId:1285  recvOk:1764140598284  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T15:03:18.990+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913681679237910528) MsgTChatReply
2025-11-26T15:05:33.422+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(913683662254510080) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T15:05:33.423+0800	[34mINFO[0m	core/session.go:256	user(10006) session(913683662254510080)
2025-11-26T15:21:05.199+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:-5357504718274850190  params:{key:\"checkTokenData\"  value:\"CpUqLB7+2nRjufxnUDsyZI9wDcjtMHL1T9q142o=\"}"}
2025-11-26T15:21:05.201+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-26T15:21:05.201+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764141665201,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T15:21:05.250+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913690811475038208) MsgTFriendOpRet
2025-11-26T15:21:05.336+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-11-26T15:21:05.336+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913690811475038208) MsgTFriendOpRet
2025-11-26T15:21:05.412+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T15:21:05.412+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913690811475038208) MsgTFriendOpRet
2025-11-26T15:21:05.719+0800	[35mDEBUG[0m	core/chatmsghandler.go:490	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:913686339579416576  chatType:ChatTypeP2P"}
2025-11-26T15:21:05.746+0800	[35mDEBUG[0m	core/chatmsghandler.go:579	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T15:21:05.804+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913686339579416576  sendId:1285  recvOk:1764141664711  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T15:21:05.832+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913681679237910528) MsgTChatReply
2025-11-26T15:22:13.812+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(913690811475038208) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T15:22:13.816+0800	[34mINFO[0m	core/session.go:256	user(10006) session(913690811475038208)
2025-11-26T15:33:14.612+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251126_153228.jpg", "hash": "bb8c98d5a9e62e1812f0a836b047dc0a", "send id": 1286, "chunk index": 0, "chunk count": 8}
2025-11-26T15:33:14.855+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251126_153228.jpg", "hash": "bb8c98d5a9e62e1812f0a836b047dc0a", "send id": 1286, "chunk index": 1, "chunk count": 8}
2025-11-26T15:33:15.053+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251126_153228.jpg", "hash": "bb8c98d5a9e62e1812f0a836b047dc0a", "send id": 1286, "chunk index": 2, "chunk count": 8}
2025-11-26T15:33:15.059+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1286) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913693873518284800, userId: 10001, fromId: 10001, toId: 10006, tm: 1764142394303 (time: 2025-11-26 15:33:14), devId: \"47FCC883FB83DD2D\", sendId: 1286, msgType: IMAGE, data: []byte, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T15:33:15.123+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T15:33:15.123+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-26T15:33:15.231+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251126_153228.jpg", "hash": "bb8c98d5a9e62e1812f0a836b047dc0a", "send id": 1286, "chunk index": 3, "chunk count": 8}
2025-11-26T15:33:15.424+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251126_153228.jpg", "hash": "bb8c98d5a9e62e1812f0a836b047dc0a", "send id": 1286, "chunk index": 4, "chunk count": 8}
2025-11-26T15:33:15.621+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251126_153228.jpg", "hash": "bb8c98d5a9e62e1812f0a836b047dc0a", "send id": 1286, "chunk index": 5, "chunk count": 8}
2025-11-26T15:33:15.826+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251126_153228.jpg", "hash": "bb8c98d5a9e62e1812f0a836b047dc0a", "send id": 1286, "chunk index": 6, "chunk count": 8}
2025-11-26T15:33:16.070+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251126_153228.jpg", "hash": "bb8c98d5a9e62e1812f0a836b047dc0a", "send id": 1286, "chunk index": 7, "chunk count": 8}
2025-11-26T15:33:16.124+0800	[31mERROR[0m	core/chatmsghandler.go:110	msgId is not same as sendId	{"sendId": 1286, "msgId": 913693873518284800}
2025-11-26T15:37:33.281+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251126_153228.jpg", "hash": "bb8c98d5a9e62e1812f0a836b047dc0a", "send id": 1287, "chunk index": 0, "chunk count": 8}
2025-11-26T15:37:33.282+0800	[35mDEBUG[0m	core/filemsghander.go:280	find same file	{"uniq_name": "d8m6diunu6rf.jpg", "file name": "IMG_20251126_153228.jpg", "hash": "bb8c98d5a9e62e1812f0a836b047dc0a", "tags": ["IMG", "20251126", "153228.", "jpg"]}
2025-11-26T15:37:33.382+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1287) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913694957007671296, userId: 10001, fromId: 10001, toId: 10006, tm: 1764142652700 (time: 2025-11-26 15:37:32), devId: \"47FCC883FB83DD2D\", sendId: 1287, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/d8m6diunu6rf.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/d8m6diunu6rf.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T15:37:33.391+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T15:37:33.391+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-26T15:57:23.307+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251126_155025.jpg", "hash": "3952c6702091b140169c939c6b2639ec", "send id": 1288, "chunk index": 0, "chunk count": 8}
2025-11-26T15:57:23.496+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251126_155025.jpg", "hash": "3952c6702091b140169c939c6b2639ec", "send id": 1288, "chunk index": 1, "chunk count": 8}
2025-11-26T15:57:23.694+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251126_155025.jpg", "hash": "3952c6702091b140169c939c6b2639ec", "send id": 1288, "chunk index": 2, "chunk count": 8}
2025-11-26T15:57:23.835+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251126_155025.jpg", "hash": "3952c6702091b140169c939c6b2639ec", "send id": 1288, "chunk index": 3, "chunk count": 8}
2025-11-26T15:57:24.054+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251126_155025.jpg", "hash": "3952c6702091b140169c939c6b2639ec", "send id": 1288, "chunk index": 4, "chunk count": 8}
2025-11-26T15:57:24.206+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251126_155025.jpg", "hash": "3952c6702091b140169c939c6b2639ec", "send id": 1288, "chunk index": 5, "chunk count": 8}
2025-11-26T15:57:24.362+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251126_155025.jpg", "hash": "3952c6702091b140169c939c6b2639ec", "send id": 1288, "chunk index": 6, "chunk count": 8}
2025-11-26T15:57:24.498+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251126_155025.jpg", "hash": "3952c6702091b140169c939c6b2639ec", "send id": 1288, "chunk index": 7, "chunk count": 8}
2025-11-26T15:57:24.615+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1288) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913699953401008128, userId: 10001, fromId: 10001, toId: 10006, tm: 1764143843963 (time: 2025-11-26 15:57:23), devId: \"47FCC883FB83DD2D\", sendId: 1288, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/zf0mwyax01tl.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/zf0mwyax01tl.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T15:57:24.624+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T15:57:24.625+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-26T15:57:40.774+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_102437.jpg", "hash": "057a499416f3e60a833ca449b3d5a046", "send id": 1289, "chunk index": 0, "chunk count": 10}
2025-11-26T15:57:40.949+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_102437.jpg", "hash": "057a499416f3e60a833ca449b3d5a046", "send id": 1289, "chunk index": 1, "chunk count": 10}
2025-11-26T15:57:41.102+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_102437.jpg", "hash": "057a499416f3e60a833ca449b3d5a046", "send id": 1289, "chunk index": 2, "chunk count": 10}
2025-11-26T15:57:41.270+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_102437.jpg", "hash": "057a499416f3e60a833ca449b3d5a046", "send id": 1289, "chunk index": 3, "chunk count": 10}
2025-11-26T15:57:41.420+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_102437.jpg", "hash": "057a499416f3e60a833ca449b3d5a046", "send id": 1289, "chunk index": 4, "chunk count": 10}
2025-11-26T15:57:41.574+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_102437.jpg", "hash": "057a499416f3e60a833ca449b3d5a046", "send id": 1289, "chunk index": 5, "chunk count": 10}
2025-11-26T15:57:41.733+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_102437.jpg", "hash": "057a499416f3e60a833ca449b3d5a046", "send id": 1289, "chunk index": 6, "chunk count": 10}
2025-11-26T15:57:41.913+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_102437.jpg", "hash": "057a499416f3e60a833ca449b3d5a046", "send id": 1289, "chunk index": 7, "chunk count": 10}
2025-11-26T15:57:42.092+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_102437.jpg", "hash": "057a499416f3e60a833ca449b3d5a046", "send id": 1289, "chunk index": 8, "chunk count": 10}
2025-11-26T15:57:42.260+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_102437.jpg", "hash": "057a499416f3e60a833ca449b3d5a046", "send id": 1289, "chunk index": 9, "chunk count": 10}
2025-11-26T15:57:42.322+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1289) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913700027669549056, userId: 10001, fromId: 10001, toId: 10006, tm: 1764143861669 (time: 2025-11-26 15:57:41), devId: \"47FCC883FB83DD2D\", sendId: 1289, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/5yv5qphht9fp.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/5yv5qphht9fp.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T15:57:42.336+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T15:57:42.336+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-26T16:08:18.063+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:-5357504718274850190  params:{key:\"checkTokenData\"  value:\"yoU/WYeaSGueEsmO29O5DKlW8EPMty1EjzmLqho=\"}"}
2025-11-26T16:08:18.066+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-26T16:08:18.066+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764144498066,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T16:08:18.115+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913702693275570176) MsgTFriendOpRet
2025-11-26T16:08:18.281+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-11-26T16:08:18.284+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913702693275570176) MsgTFriendOpRet
2025-11-26T16:08:18.311+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T16:08:18.312+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913702693275570176) MsgTFriendOpRet
2025-11-26T16:08:18.568+0800	[35mDEBUG[0m	core/chatmsghandler.go:490	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:913686339579416576  chatType:ChatTypeP2P"}
2025-11-26T16:08:18.594+0800	[35mDEBUG[0m	core/chatmsghandler.go:579	onQueryP2PChatData:	{"msg count:": 5}
2025-11-26T16:08:18.621+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913686339579416576  sendId:1285  recvOk:1764144497564  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:08:18.665+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913681679237910528) MsgTChatReply
2025-11-26T16:08:18.669+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913693873518284800  sendId:1286  recvOk:1764144497566  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:08:18.692+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913681679237910528) MsgTChatReply
2025-11-26T16:08:18.720+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913694957007671296  sendId:1287  recvOk:1764144497567  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:08:18.731+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913681679237910528) MsgTChatReply
2025-11-26T16:08:18.776+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913699953401008128  sendId:1288  recvOk:1764144497567  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:08:18.798+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913681679237910528) MsgTChatReply
2025-11-26T16:08:18.823+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913700027669549056  sendId:1289  recvOk:1764144497567  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:08:18.848+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913681679237910528) MsgTChatReply
2025-11-26T16:11:58.693+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(913681679237910528) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T16:11:58.695+0800	[34mINFO[0m	core/session.go:256	user(10001) session(913681679237910528)
2025-11-26T16:12:04.409+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"wuiq4IEWOJAnduLFkvouTEDQ/ioG1e94qL5hYl8=\"}"}
2025-11-26T16:12:04.422+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T16:12:04.422+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764144724422,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T16:12:04.478+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T16:12:04.479+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913703643063128064) MsgTFriendOpRet
2025-11-26T16:12:04.526+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T16:12:04.526+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913703643063128064) MsgTFriendOpRet
2025-11-26T16:12:04.774+0800	[35mDEBUG[0m	core/chatmsghandler.go:490	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:913700027669549056  chatType:ChatTypeP2P"}
2025-11-26T16:12:04.797+0800	[35mDEBUG[0m	core/chatmsghandler.go:579	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T16:15:08.170+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10006, "filename": "IMG_20220213_160332.jpg", "hash": "1c2be321ab89e0d9a4a911c4c79e41e8", "send id": 1281, "chunk index": 0, "chunk count": 4}
2025-11-26T16:15:08.498+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10006, "filename": "IMG_20220213_160332.jpg", "hash": "1c2be321ab89e0d9a4a911c4c79e41e8", "send id": 1281, "chunk index": 1, "chunk count": 4}
2025-11-26T16:15:08.777+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10006, "filename": "IMG_20220213_160332.jpg", "hash": "1c2be321ab89e0d9a4a911c4c79e41e8", "send id": 1281, "chunk index": 2, "chunk count": 4}
2025-11-26T16:15:09.002+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10006, "filename": "IMG_20220213_160332.jpg", "hash": "1c2be321ab89e0d9a4a911c4c79e41e8", "send id": 1281, "chunk index": 3, "chunk count": 4}
2025-11-26T16:15:09.075+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1281) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913704418069843968, userId: 10006, fromId: 10006, toId: 10001, tm: 1764144908016 (time: 2025-11-26 16:15:08), devId: \"BEF2A06F75075BC9\", sendId: 1281, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/3ba1j24gll0kc.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"IMG_20220213_160332.jpg\\\",\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/3ba1j24gll0kc.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T16:15:09.113+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T16:15:09.114+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913703643063128064) MsgTChatMsg
2025-11-26T16:15:09.191+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913704418069843968  sendId:1281  recvOk:1764144908500  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:15:09.255+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913702693275570176) MsgTChatReply
2025-11-26T16:15:39.131+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10006, "filename": "IMG_20220205_155835.jpg", "hash": "a6644b0f956f55506c008d85ed3735ae", "send id": 1282, "chunk index": 0, "chunk count": 4}
2025-11-26T16:15:39.394+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10006, "filename": "IMG_20220205_155835.jpg", "hash": "a6644b0f956f55506c008d85ed3735ae", "send id": 1282, "chunk index": 1, "chunk count": 4}
2025-11-26T16:15:39.640+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10006, "filename": "IMG_20220205_155835.jpg", "hash": "a6644b0f956f55506c008d85ed3735ae", "send id": 1282, "chunk index": 2, "chunk count": 4}
2025-11-26T16:15:39.908+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10006, "filename": "IMG_20220205_155835.jpg", "hash": "a6644b0f956f55506c008d85ed3735ae", "send id": 1282, "chunk index": 3, "chunk count": 4}
2025-11-26T16:15:40.065+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1282) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913704548051324928, userId: 10006, fromId: 10006, toId: 10001, tm: 1764144938967 (time: 2025-11-26 16:15:38), devId: \"BEF2A06F75075BC9\", sendId: 1282, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/17z9f5aq7pxgm.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"IMG_20220205_155835.jpg\\\",\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/17z9f5aq7pxgm.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T16:15:40.088+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T16:15:40.089+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913703643063128064) MsgTChatMsg
2025-11-26T16:15:40.243+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913704548051324928  sendId:1282  recvOk:1764144939544  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:15:40.261+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913702693275570176) MsgTChatReply
2025-11-26T16:16:27.970+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10006, "filename": "1761869304903.jpg", "hash": "25ca37dc0b230e4cb6b96aa120884138", "send id": 1283, "chunk index": 0, "chunk count": 1}
2025-11-26T16:16:27.974+0800	[35mDEBUG[0m	core/filemsghander.go:280	find same file	{"uniq_name": "15mxs6lr6i4o5.jpg", "file name": "1761869304903.jpg", "hash": "25ca37dc0b230e4cb6b96aa120884138", "tags": ["1761869304903.", "jpg"]}
2025-11-26T16:16:28.048+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1283) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913704749306613760, userId: 10006, fromId: 10006, toId: 10001, tm: 1764144986971 (time: 2025-11-26 16:16:26), devId: \"BEF2A06F75075BC9\", sendId: 1283, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/15mxs6lr6i4o5.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"1761869304903.jpg\\\",\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/15mxs6lr6i4o5.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T16:16:28.075+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T16:16:28.075+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913703643063128064) MsgTChatMsg
2025-11-26T16:16:28.243+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913704749306613760  sendId:1283  recvOk:1764144987566  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:16:28.259+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913702693275570176) MsgTChatReply
2025-11-26T16:17:44.233+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(913703643063128064) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T16:17:44.239+0800	[34mINFO[0m	core/session.go:256	user(10001) session(913703643063128064)
2025-11-26T16:17:50.819+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"YY+TiENFuqZXbbroCFaBJRUjbxA+07PVs/dZb4g=\"}"}
2025-11-26T16:17:50.821+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T16:17:50.821+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764145070821,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T16:17:50.942+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T16:17:50.942+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913705094481055744) MsgTFriendOpRet
2025-11-26T16:17:50.975+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T16:17:50.975+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913705094481055744) MsgTFriendOpRet
2025-11-26T16:17:52.380+0800	[35mDEBUG[0m	core/chatmsghandler.go:490	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:913704749306613760  chatType:ChatTypeP2P"}
2025-11-26T16:17:52.432+0800	[35mDEBUG[0m	core/chatmsghandler.go:579	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T16:17:52.539+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913704749306613760  sendId:1283  recvOk:1764145071850  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:17:52.572+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913702693275570176) MsgTChatReply
2025-11-26T16:18:00.054+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10006, "filename": "b-ssl.duitang.jpeg", "hash": "463debddb06b2170b8db9cbeda40921f", "send id": 1284, "chunk index": 0, "chunk count": 1}
2025-11-26T16:18:00.186+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1284) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913705135761395712, userId: 10006, fromId: 10006, toId: 10001, tm: 1764145079093 (time: 2025-11-26 16:17:59), devId: \"BEF2A06F75075BC9\", sendId: 1284, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/1pdxihdbzct3a.jpeg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"b-ssl.duitang.jpeg\\\",\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/1pdxihdbzct3a.jpeg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T16:18:00.219+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T16:18:00.220+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913705094481055744) MsgTChatMsg
2025-11-26T16:18:00.296+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913705135761395712  sendId:1284  recvOk:1764145079639  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:18:00.313+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913702693275570176) MsgTChatReply
2025-11-26T16:18:59.914+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(913705094481055744) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T16:18:59.916+0800	[34mINFO[0m	core/session.go:256	user(10001) session(913705094481055744)
2025-11-26T16:19:08.472+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"oHsbNxuWvtsYaW4Sz4Q4IhfcH6CL3PjJTlFZP2w=\"}"}
2025-11-26T16:19:08.473+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T16:19:08.473+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764145148473,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T16:19:08.542+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T16:19:08.543+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913705421783568384) MsgTFriendOpRet
2025-11-26T16:19:08.580+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T16:19:08.580+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913705421783568384) MsgTFriendOpRet
2025-11-26T16:19:08.779+0800	[35mDEBUG[0m	core/chatmsghandler.go:490	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:913705135761395712  chatType:ChatTypeP2P"}
2025-11-26T16:19:08.789+0800	[35mDEBUG[0m	core/chatmsghandler.go:579	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T16:19:08.815+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913705135761395712  sendId:1284  recvOk:1764145148167  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:19:08.831+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913702693275570176) MsgTChatReply
2025-11-26T16:21:57.881+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251126_162051.jpg", "hash": "47feae7c1ecee0d1567b2f6d612e2568", "send id": 1301, "chunk index": 0, "chunk count": 8}
2025-11-26T16:21:58.150+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251126_162051.jpg", "hash": "47feae7c1ecee0d1567b2f6d612e2568", "send id": 1301, "chunk index": 1, "chunk count": 8}
2025-11-26T16:21:58.384+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251126_162051.jpg", "hash": "47feae7c1ecee0d1567b2f6d612e2568", "send id": 1301, "chunk index": 2, "chunk count": 8}
2025-11-26T16:21:58.522+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251126_162051.jpg", "hash": "47feae7c1ecee0d1567b2f6d612e2568", "send id": 1301, "chunk index": 3, "chunk count": 8}
2025-11-26T16:21:58.695+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251126_162051.jpg", "hash": "47feae7c1ecee0d1567b2f6d612e2568", "send id": 1301, "chunk index": 4, "chunk count": 8}
2025-11-26T16:21:58.894+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251126_162051.jpg", "hash": "47feae7c1ecee0d1567b2f6d612e2568", "send id": 1301, "chunk index": 5, "chunk count": 8}
2025-11-26T16:21:59.046+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251126_162051.jpg", "hash": "47feae7c1ecee0d1567b2f6d612e2568", "send id": 1301, "chunk index": 6, "chunk count": 8}
2025-11-26T16:21:59.186+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251126_162051.jpg", "hash": "47feae7c1ecee0d1567b2f6d612e2568", "send id": 1301, "chunk index": 7, "chunk count": 8}
2025-11-26T16:21:59.299+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1301) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913706138674008064, userId: 10001, fromId: 10001, toId: 10006, tm: 1764145318656 (time: 2025-11-26 16:21:58), devId: \"47FCC883FB83DD2D\", sendId: 1301, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/36we7gdrfbvbb.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"IMG_20251126_162051.jpg\\\",\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/36we7gdrfbvbb.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T16:21:59.330+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T16:21:59.331+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913702693275570176) MsgTChatMsg
2025-11-26T16:21:59.407+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913706138674008064  sendId:1301  recvOk:1764145318316  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:21:59.433+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913705421783568384) MsgTChatReply
2025-11-26T16:27:25.560+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10006, "filename": "mmexport1657858728325.jpg", "hash": "a15e6de4e7d50238133ff9f9e3e3e7ac", "send id": 1285, "chunk index": 0, "chunk count": 1}
2025-11-26T16:27:25.673+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1285) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913707507585781760, userId: 10006, fromId: 10006, toId: 10001, tm: 1764145644988 (time: 2025-11-26 16:27:24), devId: \"BEF2A06F75075BC9\", sendId: 1285, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/unwaw56d49lt.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"mmexport1657858728325.jpg\\\",\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/unwaw56d49lt.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T16:27:25.693+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T16:27:25.694+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913705421783568384) MsgTChatMsg
2025-11-26T16:27:25.830+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913707507585781760  sendId:1285  recvOk:1764145645188  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:27:25.841+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913702693275570176) MsgTChatReply
2025-11-26T16:27:29.484+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913706138674008064  sendId:1301  recvOk:1764145648774  readOk:1764145648774  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:27:29.546+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913705421783568384) MsgTChatReply
2025-11-26T16:27:46.313+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10006, "filename": "mmexport1663165035516.png", "hash": "19df98a669e7213e471239e63c64ead6", "send id": 1286, "chunk index": 0, "chunk count": 1}
2025-11-26T16:27:46.339+0800	[35mDEBUG[0m	core/filemsghander.go:280	find same file	{"uniq_name": "y0jgfspndw61.png", "file name": "mmexport1663165035516.png", "hash": "19df98a669e7213e471239e63c64ead6", "tags": ["mmexport1663165035516", "png"]}
2025-11-26T16:27:46.461+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1286) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913707594776973312, userId: 10006, fromId: 10006, toId: 10001, tm: 1764145665791 (time: 2025-11-26 16:27:45), devId: \"BEF2A06F75075BC9\", sendId: 1286, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/y0jgfspndw61.png\\\",\\\"mime\\\":\\\"image/png\\\",\\\"width\\\":0,\\\"name\\\":\\\"mmexport1663165035516.png\\\",\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/y0jgfspndw61.png\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T16:27:46.476+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T16:27:46.477+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913705421783568384) MsgTChatMsg
2025-11-26T16:27:46.656+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913707594776973312  sendId:1286  recvOk:1764145665973  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:27:46.682+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913702693275570176) MsgTChatReply
2025-11-26T16:28:03.183+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10006, "filename": "Screenshot_2025-10-15-20-52-20-323_com.bird2fish.birdtalkclient.jpg", "hash": "713c5234e919b64c75f7320859c74e51", "send id": 1287, "chunk index": 0, "chunk count": 1}
2025-11-26T16:28:03.405+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1287) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913707665845260288, userId: 10006, fromId: 10006, toId: 10001, tm: 1764145682722 (time: 2025-11-26 16:28:02), devId: \"BEF2A06F75075BC9\", sendId: 1287, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/15zvaqx0rt2ep.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"Screenshot_2025-10-15-20-52-20-323_com.bird2fish.birdtalkclient.jpg\\\",\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/15zvaqx0rt2ep.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T16:28:03.438+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T16:28:03.439+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913705421783568384) MsgTChatMsg
2025-11-26T16:28:03.538+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913707665845260288  sendId:1287  recvOk:1764145682874  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:28:03.559+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913702693275570176) MsgTChatReply
2025-11-26T16:28:15.696+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10006, "filename": "XHS_1658458668835eaaf95d6-ea9f-36b2-b53f-8280e6cddb63.jpg", "hash": "b6a7b675914781f8f4e8515b6f0e49d5", "send id": 1288, "chunk index": 0, "chunk count": 1}
2025-11-26T16:28:15.836+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1288) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913707717984653312, userId: 10006, fromId: 10006, toId: 10001, tm: 1764145695152 (time: 2025-11-26 16:28:15), devId: \"BEF2A06F75075BC9\", sendId: 1288, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/3s1o9k2ve2md2.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"XHS_1658458668835eaaf95d6-ea9f-36b2-b53f-8280e6cddb63.jpg\\\",\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/3s1o9k2ve2md2.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T16:28:15.860+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T16:28:15.860+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913705421783568384) MsgTChatMsg
2025-11-26T16:28:15.959+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913707717984653312  sendId:1288  recvOk:1764145695265  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:28:15.982+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913702693275570176) MsgTChatReply
2025-11-26T16:28:24.825+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10006, "filename": "XHS_1644156554221510dd7b2-9030-36be-a2b0-9c57f319943f.jpg", "hash": "a1d8b0bf70d53ceec6b4fc9e352c77ac", "send id": 1289, "chunk index": 0, "chunk count": 1}
2025-11-26T16:28:24.923+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1289) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913707756098293760, userId: 10006, fromId: 10006, toId: 10001, tm: 1764145704234 (time: 2025-11-26 16:28:24), devId: \"BEF2A06F75075BC9\", sendId: 1289, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/3mfbhjz4djwkh.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"XHS_1644156554221510dd7b2-9030-36be-a2b0-9c57f319943f.jpg\\\",\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/3mfbhjz4djwkh.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T16:28:24.955+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T16:28:24.956+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913705421783568384) MsgTChatMsg
2025-11-26T16:28:25.018+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913707756098293760  sendId:1289  recvOk:1764145704379  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:28:25.033+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913702693275570176) MsgTChatReply
2025-11-26T16:28:38.062+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "mmexport1762685755391.jpg", "hash": "fe117baaf3d2dc5216bbd996eba3335b", "send id": 1302, "chunk index": 0, "chunk count": 1}
2025-11-26T16:28:38.179+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1302) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913707811697987584, userId: 10001, fromId: 10001, toId: 10006, tm: 1764145717501 (time: 2025-11-26 16:28:37), devId: \"47FCC883FB83DD2D\", sendId: 1302, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/19d3o0e5yaose.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"mmexport1762685755391.jpg\\\",\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/19d3o0e5yaose.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T16:28:38.206+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T16:28:38.206+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913702693275570176) MsgTChatMsg
2025-11-26T16:28:38.360+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913707811697987584  sendId:1302  recvOk:1764145717673  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:28:38.385+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913705421783568384) MsgTChatReply
2025-11-26T16:29:11.930+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_1040g34o31okhqiockq405pjg0aj7gsdcchao19o.jpg", "hash": "9574f96524530e336dbcb4ea8e3eca4b", "send id": 1303, "chunk index": 0, "chunk count": 1}
2025-11-26T16:29:12.082+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1303) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913707953897476096, userId: 10001, fromId: 10001, toId: 10006, tm: 1764145751414 (time: 2025-11-26 16:29:11), devId: \"47FCC883FB83DD2D\", sendId: 1303, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/ry8lsolhcdjp.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"Camera_1040g34o31okhqiockq405pjg0aj7gsdcchao19o.jpg\\\",\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/ry8lsolhcdjp.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T16:29:12.102+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T16:29:12.102+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913702693275570176) MsgTChatMsg
2025-11-26T16:29:12.263+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913707953897476096  sendId:1303  recvOk:1764145751569  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:29:12.276+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913705421783568384) MsgTChatReply
2025-11-26T16:29:18.905+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251101_145535488.jpg", "hash": "7be9231394a73f03f4ef6b33e78b0a42", "send id": 1304, "chunk index": 0, "chunk count": 14}
2025-11-26T16:29:19.147+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251101_145535488.jpg", "hash": "7be9231394a73f03f4ef6b33e78b0a42", "send id": 1304, "chunk index": 1, "chunk count": 14}
2025-11-26T16:29:19.332+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251101_145535488.jpg", "hash": "7be9231394a73f03f4ef6b33e78b0a42", "send id": 1304, "chunk index": 2, "chunk count": 14}
2025-11-26T16:29:19.513+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251101_145535488.jpg", "hash": "7be9231394a73f03f4ef6b33e78b0a42", "send id": 1304, "chunk index": 3, "chunk count": 14}
2025-11-26T16:29:19.519+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1304) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913707985090514944, userId: 10001, fromId: 10001, toId: 10006, tm: 1764145758836 (time: 2025-11-26 16:29:18), devId: \"47FCC883FB83DD2D\", sendId: 1304, msgType: IMAGE, data: []byte, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T16:29:19.539+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T16:29:19.540+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913702693275570176) MsgTChatMsg
2025-11-26T16:29:19.638+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913707985090514944  sendId:1304  recvOk:1764145758942  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:29:19.654+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913705421783568384) MsgTChatReply
2025-11-26T16:29:19.701+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251101_145535488.jpg", "hash": "7be9231394a73f03f4ef6b33e78b0a42", "send id": 1304, "chunk index": 4, "chunk count": 14}
2025-11-26T16:29:19.852+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251101_145535488.jpg", "hash": "7be9231394a73f03f4ef6b33e78b0a42", "send id": 1304, "chunk index": 5, "chunk count": 14}
2025-11-26T16:29:20.014+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251101_145535488.jpg", "hash": "7be9231394a73f03f4ef6b33e78b0a42", "send id": 1304, "chunk index": 6, "chunk count": 14}
2025-11-26T16:29:20.169+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251101_145535488.jpg", "hash": "7be9231394a73f03f4ef6b33e78b0a42", "send id": 1304, "chunk index": 7, "chunk count": 14}
2025-11-26T16:29:20.351+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251101_145535488.jpg", "hash": "7be9231394a73f03f4ef6b33e78b0a42", "send id": 1304, "chunk index": 8, "chunk count": 14}
2025-11-26T16:29:20.543+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251101_145535488.jpg", "hash": "7be9231394a73f03f4ef6b33e78b0a42", "send id": 1304, "chunk index": 9, "chunk count": 14}
2025-11-26T16:29:20.719+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251101_145535488.jpg", "hash": "7be9231394a73f03f4ef6b33e78b0a42", "send id": 1304, "chunk index": 10, "chunk count": 14}
2025-11-26T16:29:20.910+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251101_145535488.jpg", "hash": "7be9231394a73f03f4ef6b33e78b0a42", "send id": 1304, "chunk index": 11, "chunk count": 14}
2025-11-26T16:29:21.157+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251101_145535488.jpg", "hash": "7be9231394a73f03f4ef6b33e78b0a42", "send id": 1304, "chunk index": 12, "chunk count": 14}
2025-11-26T16:29:21.271+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251101_145535488.jpg", "hash": "7be9231394a73f03f4ef6b33e78b0a42", "send id": 1304, "chunk index": 13, "chunk count": 14}
2025-11-26T16:29:21.407+0800	[31mERROR[0m	core/chatmsghandler.go:110	msgId is not same as sendId	{"sendId": 1304, "msgId": 913707985090514944}
2025-11-26T16:29:26.728+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_1040g3k031op2j5di506g5oe2hbp41dqclc9q0ug.jpg", "hash": "3eca9663ae9efa51b7e9794c3389ea36", "send id": 1305, "chunk index": 0, "chunk count": 2}
2025-11-26T16:29:26.854+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_1040g3k031op2j5di506g5oe2hbp41dqclc9q0ug.jpg", "hash": "3eca9663ae9efa51b7e9794c3389ea36", "send id": 1305, "chunk index": 1, "chunk count": 2}
2025-11-26T16:29:26.952+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1305) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913708016266776576, userId: 10001, fromId: 10001, toId: 10006, tm: 1764145766269 (time: 2025-11-26 16:29:26), devId: \"47FCC883FB83DD2D\", sendId: 1305, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/18voql8otpvsu.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"Camera_1040g3k031op2j5di506g5oe2hbp41dqclc9q0ug.jpg\\\",\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/18voql8otpvsu.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T16:29:26.978+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T16:29:26.980+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913702693275570176) MsgTChatMsg
2025-11-26T16:29:27.091+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913708016266776576  sendId:1305  recvOk:1764145766416  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:29:27.106+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913705421783568384) MsgTChatReply
2025-11-26T16:29:38.203+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_1040g3k031olfc6d6mg005nuhril095be73i8uf8.jpg", "hash": "a89e55f75576a797ed3b9173f27d88a7", "send id": 1306, "chunk index": 0, "chunk count": 2}
2025-11-26T16:29:38.358+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_1040g3k031olfc6d6mg005nuhril095be73i8uf8.jpg", "hash": "a89e55f75576a797ed3b9173f27d88a7", "send id": 1306, "chunk index": 1, "chunk count": 2}
2025-11-26T16:29:38.450+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1306) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913708064488689664, userId: 10001, fromId: 10001, toId: 10006, tm: 1764145777777 (time: 2025-11-26 16:29:37), devId: \"47FCC883FB83DD2D\", sendId: 1306, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/2b0vtjop3ix0o.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"Camera_1040g3k031olfc6d6mg005nuhril095be73i8uf8.jpg\\\",\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/2b0vtjop3ix0o.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T16:29:38.473+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T16:29:38.473+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913702693275570176) MsgTChatMsg
2025-11-26T16:29:38.641+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913708064488689664  sendId:1306  recvOk:1764145777977  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:29:38.659+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913705421783568384) MsgTChatReply
2025-11-26T16:29:47.703+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_1040g3k031op2j5di504g5oe2hbp41dqc4b04jl0.jpg", "hash": "ad19b7954d38e54a2a2a8c39e589b8b3", "send id": 1307, "chunk index": 0, "chunk count": 1}
2025-11-26T16:29:47.799+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1307) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913708103705432064, userId: 10001, fromId: 10001, toId: 10006, tm: 1764145787141 (time: 2025-11-26 16:29:47), devId: \"47FCC883FB83DD2D\", sendId: 1307, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/1502vfcf2qbal.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"Camera_1040g3k031op2j5di504g5oe2hbp41dqc4b04jl0.jpg\\\",\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/1502vfcf2qbal.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T16:29:47.818+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T16:29:47.820+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913702693275570176) MsgTChatMsg
2025-11-26T16:29:47.881+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913708103705432064  sendId:1307  recvOk:1764145787215  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:29:47.899+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913705421783568384) MsgTChatReply
2025-11-26T16:29:58.659+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_135437755.jpg", "hash": "fda13a0edb5d2a4e5e9ce5d3e1d85d30", "send id": 1308, "chunk index": 0, "chunk count": 12}
2025-11-26T16:29:58.853+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_135437755.jpg", "hash": "fda13a0edb5d2a4e5e9ce5d3e1d85d30", "send id": 1308, "chunk index": 1, "chunk count": 12}
2025-11-26T16:29:59.016+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_135437755.jpg", "hash": "fda13a0edb5d2a4e5e9ce5d3e1d85d30", "send id": 1308, "chunk index": 2, "chunk count": 12}
2025-11-26T16:29:59.221+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_135437755.jpg", "hash": "fda13a0edb5d2a4e5e9ce5d3e1d85d30", "send id": 1308, "chunk index": 3, "chunk count": 12}
2025-11-26T16:29:59.378+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_135437755.jpg", "hash": "fda13a0edb5d2a4e5e9ce5d3e1d85d30", "send id": 1308, "chunk index": 4, "chunk count": 12}
2025-11-26T16:29:59.549+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_135437755.jpg", "hash": "fda13a0edb5d2a4e5e9ce5d3e1d85d30", "send id": 1308, "chunk index": 5, "chunk count": 12}
2025-11-26T16:29:59.754+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_135437755.jpg", "hash": "fda13a0edb5d2a4e5e9ce5d3e1d85d30", "send id": 1308, "chunk index": 6, "chunk count": 12}
2025-11-26T16:29:59.915+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_135437755.jpg", "hash": "fda13a0edb5d2a4e5e9ce5d3e1d85d30", "send id": 1308, "chunk index": 7, "chunk count": 12}
2025-11-26T16:30:00.119+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_135437755.jpg", "hash": "fda13a0edb5d2a4e5e9ce5d3e1d85d30", "send id": 1308, "chunk index": 8, "chunk count": 12}
2025-11-26T16:30:00.281+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_135437755.jpg", "hash": "fda13a0edb5d2a4e5e9ce5d3e1d85d30", "send id": 1308, "chunk index": 9, "chunk count": 12}
2025-11-26T16:30:00.382+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1308) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913708156482359296, userId: 10001, fromId: 10001, toId: 10006, tm: 1764145799726 (time: 2025-11-26 16:29:59), devId: \"47FCC883FB83DD2D\", sendId: 1308, msgType: IMAGE, data: []byte, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T16:30:00.403+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T16:30:00.404+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913702693275570176) MsgTChatMsg
2025-11-26T16:30:00.435+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913708156482359296  sendId:1308  recvOk:1764145799786  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:30:00.458+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913705421783568384) MsgTChatReply
2025-11-26T16:30:00.532+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_135437755.jpg", "hash": "fda13a0edb5d2a4e5e9ce5d3e1d85d30", "send id": 1308, "chunk index": 10, "chunk count": 12}
2025-11-26T16:30:00.673+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_135437755.jpg", "hash": "fda13a0edb5d2a4e5e9ce5d3e1d85d30", "send id": 1308, "chunk index": 11, "chunk count": 12}
2025-11-26T16:30:00.758+0800	[31mERROR[0m	core/chatmsghandler.go:110	msgId is not same as sendId	{"sendId": 1308, "msgId": 913708156482359296}
2025-11-26T16:32:22.152+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913708064488689664  sendId:1306  recvOk:1764145941460  readOk:1764145941460  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:32:22.166+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913705421783568384) MsgTChatReply
2025-11-26T16:32:22.302+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913708103705432064  sendId:1307  recvOk:1764145941462  readOk:1764145941462  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:32:22.322+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913705421783568384) MsgTChatReply
2025-11-26T16:35:27.935+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(913705421783568384) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T16:35:27.935+0800	[34mINFO[0m	core/session.go:256	user(10001) session(913705421783568384)
2025-11-26T16:35:29.340+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"hyf/ffHLOkh+Ny32RV6f2e6IKrY4GwxQ3kwtIyw=\"}"}
2025-11-26T16:35:29.341+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T16:35:29.341+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764146129341,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T16:35:29.401+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T16:35:29.403+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913709535691149312) MsgTFriendOpRet
2025-11-26T16:35:29.556+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T16:35:29.557+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913709535691149312) MsgTFriendOpRet
2025-11-26T16:35:29.689+0800	[35mDEBUG[0m	core/chatmsghandler.go:490	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:913708156482359296  chatType:ChatTypeP2P"}
2025-11-26T16:35:29.709+0800	[35mDEBUG[0m	core/chatmsghandler.go:579	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T16:35:48.293+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "mmexport1763013008216.jpg", "hash": "e81dec34b92b174624689be931cd5fef", "send id": 1321, "chunk index": 0, "chunk count": 8}
2025-11-26T16:35:48.523+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "mmexport1763013008216.jpg", "hash": "e81dec34b92b174624689be931cd5fef", "send id": 1321, "chunk index": 1, "chunk count": 8}
2025-11-26T16:35:48.827+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "mmexport1763013008216.jpg", "hash": "e81dec34b92b174624689be931cd5fef", "send id": 1321, "chunk index": 2, "chunk count": 8}
2025-11-26T16:35:49.046+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "mmexport1763013008216.jpg", "hash": "e81dec34b92b174624689be931cd5fef", "send id": 1321, "chunk index": 3, "chunk count": 8}
2025-11-26T16:35:49.220+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "mmexport1763013008216.jpg", "hash": "e81dec34b92b174624689be931cd5fef", "send id": 1321, "chunk index": 4, "chunk count": 8}
2025-11-26T16:35:49.411+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "mmexport1763013008216.jpg", "hash": "e81dec34b92b174624689be931cd5fef", "send id": 1321, "chunk index": 5, "chunk count": 8}
2025-11-26T16:35:49.581+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "mmexport1763013008216.jpg", "hash": "e81dec34b92b174624689be931cd5fef", "send id": 1321, "chunk index": 6, "chunk count": 8}
2025-11-26T16:35:49.727+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "mmexport1763013008216.jpg", "hash": "e81dec34b92b174624689be931cd5fef", "send id": 1321, "chunk index": 7, "chunk count": 8}
2025-11-26T16:35:49.821+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1321) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913709622135754752, userId: 10001, fromId: 10001, toId: 10006, tm: 1764146149182 (time: 2025-11-26 16:35:49), devId: \"47FCC883FB83DD2D\", sendId: 1321, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/12ddrtor59q7c.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"mmexport1763013008216.jpg\\\",\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/12ddrtor59q7c.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T16:35:49.830+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T16:35:49.830+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913702693275570176) MsgTChatMsg
2025-11-26T16:35:50.073+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913709622135754752  sendId:1321  recvOk:1764146149371  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:35:50.116+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913709535691149312) MsgTChatReply
2025-11-26T16:36:30.966+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_134623364.jpg", "hash": "87a2f3af8a1f537de55567e59936b1a6", "send id": 1322, "chunk index": 0, "chunk count": 11}
2025-11-26T16:36:31.181+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_134623364.jpg", "hash": "87a2f3af8a1f537de55567e59936b1a6", "send id": 1322, "chunk index": 1, "chunk count": 11}
2025-11-26T16:36:31.362+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_134623364.jpg", "hash": "87a2f3af8a1f537de55567e59936b1a6", "send id": 1322, "chunk index": 2, "chunk count": 11}
2025-11-26T16:36:31.536+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_134623364.jpg", "hash": "87a2f3af8a1f537de55567e59936b1a6", "send id": 1322, "chunk index": 3, "chunk count": 11}
2025-11-26T16:36:31.715+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_134623364.jpg", "hash": "87a2f3af8a1f537de55567e59936b1a6", "send id": 1322, "chunk index": 4, "chunk count": 11}
2025-11-26T16:36:31.860+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_134623364.jpg", "hash": "87a2f3af8a1f537de55567e59936b1a6", "send id": 1322, "chunk index": 5, "chunk count": 11}
2025-11-26T16:36:32.022+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_134623364.jpg", "hash": "87a2f3af8a1f537de55567e59936b1a6", "send id": 1322, "chunk index": 6, "chunk count": 11}
2025-11-26T16:36:32.192+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_134623364.jpg", "hash": "87a2f3af8a1f537de55567e59936b1a6", "send id": 1322, "chunk index": 7, "chunk count": 11}
2025-11-26T16:36:32.388+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_134623364.jpg", "hash": "87a2f3af8a1f537de55567e59936b1a6", "send id": 1322, "chunk index": 8, "chunk count": 11}
2025-11-26T16:36:32.562+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_134623364.jpg", "hash": "87a2f3af8a1f537de55567e59936b1a6", "send id": 1322, "chunk index": 9, "chunk count": 11}
2025-11-26T16:36:32.765+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_134623364.jpg", "hash": "87a2f3af8a1f537de55567e59936b1a6", "send id": 1322, "chunk index": 10, "chunk count": 11}
2025-11-26T16:36:32.859+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1322) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913709802650210304, userId: 10001, fromId: 10001, toId: 10006, tm: 1764146192195 (time: 2025-11-26 16:36:32), devId: \"47FCC883FB83DD2D\", sendId: 1322, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/1wlyv8myatrif.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"MEITU_20251113_134623364.jpg\\\",\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/1wlyv8myatrif.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T16:36:32.888+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T16:36:32.889+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913702693275570176) MsgTChatMsg
2025-11-26T16:36:33.084+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913709802650210304  sendId:1322  recvOk:1764146192386  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:36:33.095+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913709535691149312) MsgTChatReply
2025-11-26T16:36:41.569+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_134654709.jpg", "hash": "12e0f52e3717b1e634f21e5c4aa9b2a3", "send id": 1323, "chunk index": 0, "chunk count": 13}
2025-11-26T16:36:41.823+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_134654709.jpg", "hash": "12e0f52e3717b1e634f21e5c4aa9b2a3", "send id": 1323, "chunk index": 1, "chunk count": 13}
2025-11-26T16:36:42.025+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_134654709.jpg", "hash": "12e0f52e3717b1e634f21e5c4aa9b2a3", "send id": 1323, "chunk index": 2, "chunk count": 13}
2025-11-26T16:36:42.209+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_134654709.jpg", "hash": "12e0f52e3717b1e634f21e5c4aa9b2a3", "send id": 1323, "chunk index": 3, "chunk count": 13}
2025-11-26T16:36:42.404+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_134654709.jpg", "hash": "12e0f52e3717b1e634f21e5c4aa9b2a3", "send id": 1323, "chunk index": 4, "chunk count": 13}
2025-11-26T16:36:42.543+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_134654709.jpg", "hash": "12e0f52e3717b1e634f21e5c4aa9b2a3", "send id": 1323, "chunk index": 5, "chunk count": 13}
2025-11-26T16:36:42.738+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_134654709.jpg", "hash": "12e0f52e3717b1e634f21e5c4aa9b2a3", "send id": 1323, "chunk index": 6, "chunk count": 13}
2025-11-26T16:36:42.948+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_134654709.jpg", "hash": "12e0f52e3717b1e634f21e5c4aa9b2a3", "send id": 1323, "chunk index": 7, "chunk count": 13}
2025-11-26T16:36:43.150+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_134654709.jpg", "hash": "12e0f52e3717b1e634f21e5c4aa9b2a3", "send id": 1323, "chunk index": 8, "chunk count": 13}
2025-11-26T16:36:43.323+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_134654709.jpg", "hash": "12e0f52e3717b1e634f21e5c4aa9b2a3", "send id": 1323, "chunk index": 9, "chunk count": 13}
2025-11-26T16:36:43.514+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_134654709.jpg", "hash": "12e0f52e3717b1e634f21e5c4aa9b2a3", "send id": 1323, "chunk index": 10, "chunk count": 13}
2025-11-26T16:36:43.678+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_134654709.jpg", "hash": "12e0f52e3717b1e634f21e5c4aa9b2a3", "send id": 1323, "chunk index": 11, "chunk count": 13}
2025-11-26T16:36:43.805+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_134654709.jpg", "hash": "12e0f52e3717b1e634f21e5c4aa9b2a3", "send id": 1323, "chunk index": 12, "chunk count": 13}
2025-11-26T16:36:43.873+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1323) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913709848846274560, userId: 10001, fromId: 10001, toId: 10006, tm: 1764146203234 (time: 2025-11-26 16:36:43), devId: \"47FCC883FB83DD2D\", sendId: 1323, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/3ialmr81msavm.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"MEITU_20251113_134654709.jpg\\\",\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/3ialmr81msavm.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T16:36:43.886+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T16:36:43.886+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913702693275570176) MsgTChatMsg
2025-11-26T16:36:44.142+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913709848846274560  sendId:1323  recvOk:1764146203442  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:36:44.176+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913709535691149312) MsgTChatReply
2025-11-26T16:37:34.139+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(913702693275570176) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T16:37:34.140+0800	[34mINFO[0m	core/session.go:256	user(10006) session(913702693275570176)
2025-11-26T16:37:38.736+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:-5357504718274850190  params:{key:\"checkTokenData\"  value:\"Hn2YrvJbbv66uT5Zb5dah26iD8pNX5Q66YB0dvg=\"}"}
2025-11-26T16:37:38.740+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-26T16:37:38.740+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764146258740,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T16:37:38.786+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913710078182428672) MsgTFriendOpRet
2025-11-26T16:37:38.861+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-11-26T16:37:38.861+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913710078182428672) MsgTFriendOpRet
2025-11-26T16:37:38.907+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T16:37:38.907+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913710078182428672) MsgTFriendOpRet
2025-11-26T16:37:39.258+0800	[35mDEBUG[0m	core/chatmsghandler.go:490	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:913709848846274560  chatType:ChatTypeP2P"}
2025-11-26T16:37:39.279+0800	[35mDEBUG[0m	core/chatmsghandler.go:579	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T16:37:39.341+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913709848846274560  sendId:1323  recvOk:1764146258650  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:37:39.360+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913709535691149312) MsgTChatReply
2025-11-26T16:37:48.776+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913709802650210304  sendId:1322  recvOk:1764146268107  readOk:1764146268107  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:37:48.786+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913709535691149312) MsgTChatReply
2025-11-26T16:37:48.823+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913709848846274560  sendId:1323  recvOk:1764146268108  readOk:1764146268108  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:37:48.846+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913709535691149312) MsgTChatReply
2025-11-26T16:38:17.380+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913707665845260288  sendId:1287  recvOk:1764146296715  readOk:1764146296715  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:38:17.398+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913710078182428672) MsgTChatReply
2025-11-26T16:38:17.485+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913707717984653312  sendId:1288  recvOk:1764146296718  readOk:1764146296718  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:38:17.504+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913710078182428672) MsgTChatReply
2025-11-26T16:38:55.008+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913707594776973312  sendId:1286  recvOk:1764146334343  readOk:1764146334343  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:38:55.027+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913710078182428672) MsgTChatReply
2025-11-26T16:38:56.570+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913707507585781760  sendId:1285  recvOk:1764146335889  readOk:1764146335889  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:38:56.849+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913710078182428672) MsgTChatReply
2025-11-26T16:38:58.080+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913705135761395712  sendId:1284  recvOk:1764146337418  readOk:1764146337418  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:38:58.099+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913710078182428672) MsgTChatReply
2025-11-26T16:38:59.087+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913704548051324928  sendId:1282  recvOk:1764146338395  readOk:1764146338395  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:38:59.103+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913710078182428672) MsgTChatReply
2025-11-26T16:38:59.169+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913704749306613760  sendId:1283  recvOk:1764146338397  readOk:1764146338397  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:38:59.194+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913710078182428672) MsgTChatReply
2025-11-26T16:39:00.099+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913704418069843968  sendId:1281  recvOk:1764146339436  readOk:1764146339436  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:39:00.109+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913710078182428672) MsgTChatReply
