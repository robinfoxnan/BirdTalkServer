2025-11-08T09:59:59.593+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897009889547784192 sendId:3 recvOk:1762567199202 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T09:59:59.614+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T09:59:59.648+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897010158973095936 sendId:4 recvOk:1762567199202 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T09:59:59.675+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T09:59:59.718+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897010292779782144 sendId:5 recvOk:1762567199202 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T09:59:59.735+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T09:59:59.826+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897011739290374144 sendId:2 recvOk:1762567199203 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T09:59:59.842+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T09:59:59.843+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897014027253846016 sendId:2 recvOk:1762567199203 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T09:59:59.859+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T09:59:59.943+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897014054390992896 sendId:3 recvOk:1762567199203 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T09:59:59.953+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T09:59:59.954+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897014084724199424 sendId:4 recvOk:1762567199203 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T09:59:59.965+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T09:59:59.991+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897014305701105664 sendId:5 recvOk:1762567199203 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:00:00.002+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:00:00.036+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897014354891902976 sendId:6 recvOk:1762567199203 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:00:00.046+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:00:00.081+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897014454175272960 sendId:7 recvOk:1762567199203 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:00:00.103+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:00:00.128+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897015963411681280 sendId:2 recvOk:1762567199203 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:00:00.148+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:00:00.174+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897015990553022464 sendId:3 recvOk:1762567199203 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:00:00.194+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:00:00.221+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897017147501449216 sendId:2 recvOk:1762567199203 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:00:00.239+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:00:00.265+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897019540939083776 sendId:2 recvOk:1762567199203 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:00:00.275+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:00:00.311+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897020556275224576 sendId:2 recvOk:1762567199204 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:00:00.333+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:00:00.358+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897329779559239680 sendId:2 recvOk:1762567199204 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:00:00.368+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:00:00.407+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897337017262804992 sendId:2 recvOk:1762567199204 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:00:00.424+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:00:00.519+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897404904094699520 sendId:2 recvOk:1762567199204 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:00:00.532+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:00:00.532+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897408401091465216 sendId:2 recvOk:1762567199204 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:00:00.546+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:00:00.573+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897408412147650560 sendId:3 recvOk:1762567199204 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:00:00.594+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:00:00.627+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897408429243633664 sendId:4 recvOk:1762567199204 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:00:00.640+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:00:00.692+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897408441096736768 sendId:5 recvOk:1762567199204 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:00:00.723+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:00:00.773+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897408454845665280 sendId:6 recvOk:1762567199204 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:00:00.794+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:00:00.794+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897408484994322432 sendId:7 recvOk:1762567199204 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:00:00.810+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:00:00.819+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897410935155724288 sendId:2 recvOk:1762567199204 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:00:00.840+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:00:00.871+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897410947952545792 sendId:3 recvOk:1762567199205 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:00:00.889+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:00:00.982+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897410959256195072 sendId:4 recvOk:1762567199205 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:00:00.995+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:00:00.995+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897410972837351424 sendId:5 recvOk:1762567199205 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:00:01.006+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:00:01.038+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897410994643537920 sendId:6 recvOk:1762567199205 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:00:01.058+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:00:27.024+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1041) from 10001 -> 10006	{"msg": "MsgChat{msgId: 907087139932606464, userId: 10001, fromId: 10001, toId: 10006, tm: 1762567227072 (time: 2025-11-08 10:00:27), devId: \"47FCC883FB83DD2D\", sendId: 1041, msgType: TEXT, data: \"1\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-08T10:00:27.033+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-08T10:00:27.034+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:00:33.860+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1042) from 10001 -> 10006	{"msg": "MsgChat{msgId: 907087168604868608, userId: 10001, fromId: 10001, toId: 10006, tm: 1762567233924 (time: 2025-11-08 10:00:33), devId: \"47FCC883FB83DD2D\", sendId: 1042, msgType: TEXT, data: \"äºŒ\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-08T10:00:33.873+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-08T10:00:33.873+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:00:36.649+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1043) from 10001 -> 10006	{"msg": "MsgChat{msgId: 907087180302782464, userId: 10001, fromId: 10001, toId: 10006, tm: 1762567236702 (time: 2025-11-08 10:00:36), devId: \"47FCC883FB83DD2D\", sendId: 1043, msgType: TEXT, data: \"ä¸‰\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-08T10:00:36.658+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-08T10:00:36.659+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:00:39.979+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1044) from 10001 -> 10006	{"msg": "MsgChat{msgId: 907087194269814784, userId: 10001, fromId: 10001, toId: 10006, tm: 1762567240037 (time: 2025-11-08 10:00:40), devId: \"47FCC883FB83DD2D\", sendId: 1044, msgType: TEXT, data: \"å››\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-08T10:00:39.990+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-08T10:00:39.991+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:00:42.793+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1045) from 10001 -> 10006	{"msg": "MsgChat{msgId: 907087206072586240, userId: 10001, fromId: 10001, toId: 10006, tm: 1762567242770 (time: 2025-11-08 10:00:42), devId: \"47FCC883FB83DD2D\", sendId: 1045, msgType: TEXT, data: \"äº”\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-08T10:00:42.801+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-08T10:00:42.801+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:00:48.324+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(907087021468684288) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-08T10:00:48.327+0800	[34mINFO[0m	core/session.go:256	user(10001) session(907087021468684288)
2025-11-08T10:00:49.008+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"V4C0Pukb/NeZWa7NzDBAo85mxYjBJKp6xOIrZNI=\"}"}
2025-11-08T10:00:49.009+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-08T10:00:49.010+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762567249009,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T10:00:49.107+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T10:00:49.107+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907087231565565952) MsgTFriendOpRet
2025-11-08T10:00:49.153+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T10:00:49.153+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907087231565565952) MsgTFriendOpRet
2025-11-08T10:00:49.184+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:907087206072586241 chatType:ChatTypeP2P"}
2025-11-08T10:00:49.199+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 0}
2025-11-08T10:01:06.038+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:896655091929583616 recvOk:1762567266021 readOk:1762567266021 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:01:06.065+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:02:30.544+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "userId:10006 bigId:896647116074651648 synType:SynTypeBackward chatType:ChatTypeP2P"}
2025-11-08T10:02:30.584+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 1}
2025-11-08T10:02:30.632+0800	[35mDEBUG[0m	core/commonmsggen.go:38	search friend mode is not supported	{"user id": 10001, "err code": 14}
2025-11-08T10:02:32.669+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "userId:10006 bigId:896647116074651648 synType:SynTypeBackward chatType:ChatTypeP2P"}
2025-11-08T10:02:32.689+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 1}
2025-11-08T10:02:32.771+0800	[35mDEBUG[0m	core/commonmsggen.go:38	search friend mode is not supported	{"user id": 10001, "err code": 14}
2025-11-08T10:06:01.980+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(907087231565565952) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-08T10:06:01.981+0800	[34mINFO[0m	core/session.go:256	user(10001) session(907087231565565952)
2025-11-08T10:06:03.311+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"ensDiu/ZB7grw39zo8lmVOvn3HviJhhOLy+SAx4=\"}"}
2025-11-08T10:06:03.312+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-08T10:06:03.312+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762567563312,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T10:06:03.455+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T10:06:03.455+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907088549642375168) MsgTFriendOpRet
2025-11-08T10:06:03.502+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T10:06:03.502+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907088549642375168) MsgTFriendOpRet
2025-11-08T10:06:48.570+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(907088549642375168) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-08T10:06:48.571+0800	[34mINFO[0m	core/session.go:256	user(10001) session(907088549642375168)
2025-11-08T10:06:59.863+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"xF9C3ZZJMBxgefJcwuKImYFuirlYZ6cme1ZNNc0=\"}"}
2025-11-08T10:06:59.864+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-08T10:06:59.864+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762567619864,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T10:06:59.937+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T10:06:59.937+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907088787266473984) MsgTFriendOpRet
2025-11-08T10:06:59.967+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T10:06:59.968+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907088787266473984) MsgTFriendOpRet
2025-11-08T10:07:12.225+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(907088787266473984) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-08T10:07:12.227+0800	[34mINFO[0m	core/session.go:256	user(10001) session(907088787266473984)
2025-11-08T10:08:45.410+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"7ncdLChANM2LGgWFYu9wpmIaHf3AlRjTMIrjm3Q=\"}"}
2025-11-08T10:08:45.414+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-08T10:08:45.414+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762567725414,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T10:09:28.829+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(907089228561780736) close here, because ws:readLoop() error, err=read tcp 192.168.1.2:7817->192.168.1.31:42768: wsarecv: An existing connection was forcibly closed by the remote host.
2025-11-08T10:09:28.830+0800	[34mINFO[0m	core/session.go:256	user(10001) session(907089228561780736)
2025-11-08T10:11:18.344+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"K4r3Fw9gEYl+sFb9vjhvaY0mSJ3Qe/aZPBdgRRg=\"}"}
2025-11-08T10:11:18.346+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-08T10:11:18.347+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762567878346,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T10:11:18.500+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907089869786976256) MsgTFriendOpRet
2025-11-08T10:11:18.516+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T10:11:18.517+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907089869786976256) MsgTFriendOpRet
2025-11-08T10:11:18.600+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T10:11:18.600+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907089869786976256) MsgTFriendOpRet
2025-11-08T10:12:03.722+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(907089869786976256) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-08T10:12:03.723+0800	[34mINFO[0m	core/session.go:256	user(10001) session(907089869786976256)
2025-11-08T10:16:02.795+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"nC1HZEGx4HipYOtnp8aCmyliz4pBf83NkGKl9Xo=\"}"}
2025-11-08T10:16:02.798+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-08T10:16:02.800+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762568162798,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T10:16:02.885+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907091064429613056) MsgTFriendOpRet
2025-11-08T10:16:02.958+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T10:16:02.958+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907091064429613056) MsgTFriendOpRet
2025-11-08T10:16:03.012+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T10:16:03.013+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907091064429613056) MsgTFriendOpRet
2025-11-08T10:16:24.680+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1061) from 10001 -> 10006	{"msg": "MsgChat{msgId: 907091156632997888, userId: 10001, fromId: 10001, toId: 10006, tm: 1762568184661 (time: 2025-11-08 10:16:24), devId: \"47FCC883FB83DD2D\", sendId: 1061, msgType: TEXT, data: \"1\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-08T10:16:24.692+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-08T10:16:24.693+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:16:27.650+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1062) from 10001 -> 10006	{"msg": "MsgChat{msgId: 907091169090080768, userId: 10001, fromId: 10001, toId: 10006, tm: 1762568187662 (time: 2025-11-08 10:16:27), devId: \"47FCC883FB83DD2D\", sendId: 1062, msgType: TEXT, data: \"2\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-08T10:16:27.659+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-08T10:16:27.659+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:16:31.732+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1063) from 10001 -> 10006	{"msg": "MsgChat{msgId: 907091186211229696, userId: 10001, fromId: 10001, toId: 10006, tm: 1762568191810 (time: 2025-11-08 10:16:31), devId: \"47FCC883FB83DD2D\", sendId: 1063, msgType: TEXT, data: \"ä¸‰\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-08T10:16:31.742+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-08T10:16:31.742+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:16:38.095+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(907091064429613056) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-08T10:16:38.096+0800	[34mINFO[0m	core/session.go:256	user(10001) session(907091064429613056)
2025-11-08T10:16:41.576+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"pVc3VAWkxldw76M3o5rQdKTsrx9cgngnDu9CODM=\"}"}
2025-11-08T10:16:41.576+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-08T10:16:41.576+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762568201576,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T10:16:41.676+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907091226749177856) MsgTFriendOpRet
2025-11-08T10:16:41.742+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T10:16:41.742+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907091226749177856) MsgTFriendOpRet
2025-11-08T10:16:41.792+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T10:16:41.792+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907091226749177856) MsgTFriendOpRet
2025-11-08T10:16:52.842+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "userId:10006 bigId:907091156632997888 synType:SynTypeBackward chatType:ChatTypeP2P"}
2025-11-08T10:16:52.872+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 100}
2025-11-08T10:17:16.147+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:902373575649005568 sendId:1061 recvOk:1762568236172 readOk:1762568236172 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:17:16.170+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:17:16.196+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:902557361032531968 sendId:1081 recvOk:1762568236176 readOk:1762568236176 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:17:16.215+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:17:16.306+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:902559324713390080 sendId:1101 recvOk:1762568236178 readOk:1762568236178 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:17:16.321+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:17:16.321+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903825520163164160 sendId:1102 recvOk:1762568236179 readOk:1762568236179 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:17:16.336+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:17:16.460+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903826093239308288 sendId:1103 recvOk:1762568236181 readOk:1762568236181 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:17:16.476+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:17:16.477+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903826287804682240 sendId:1104 recvOk:1762568236183 readOk:1762568236183 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:17:16.492+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:17:16.493+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903853800874446848 sendId:1105 recvOk:1762568236184 readOk:1762568236184 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:17:16.507+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:17:16.563+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903856739869396992 sendId:1106 recvOk:1762568236186 readOk:1762568236186 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:17:16.583+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:17:16.583+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903861795268202496 sendId:1107 recvOk:1762568236187 readOk:1762568236187 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:17:16.599+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:17:17.666+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:902059986534928384 sendId:1001 recvOk:1762568237747 readOk:1762568237747 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:17:17.684+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:17:17.711+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:902064422581833728 sendId:1021 recvOk:1762568237750 readOk:1762568237750 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:17:17.734+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:17:17.761+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:902066718971662336 sendId:1041 recvOk:1762568237751 readOk:1762568237751 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:17:17.778+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:17:57.968+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(907091226749177856) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-08T10:17:57.969+0800	[34mINFO[0m	core/session.go:256	user(10001) session(907091226749177856)
2025-11-08T10:18:43.433+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"2REYLQh06+Cvjndm8cRyX4XdBNq4XRJ5ejcXhHA=\"}"}
2025-11-08T10:18:43.435+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-08T10:18:43.435+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762568323435,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T10:18:43.503+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907091737871257600) MsgTFriendOpRet
2025-11-08T10:18:43.577+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T10:18:43.578+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907091737871257600) MsgTFriendOpRet
2025-11-08T10:18:43.637+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T10:18:43.638+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907091737871257600) MsgTFriendOpRet
2025-11-08T10:19:25.046+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(907091737871257600) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-08T10:19:25.048+0800	[34mINFO[0m	core/session.go:256	user(10001) session(907091737871257600)
2025-11-08T10:25:31.492+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"rTjZhdxuKmvGXu/Rg91cVp7dOG1Vqx05gzR3Tsk=\"}"}
2025-11-08T10:25:31.495+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-08T10:25:31.495+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762568731495,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T10:25:31.577+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907093449658994688) MsgTFriendOpRet
2025-11-08T10:25:31.630+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T10:25:31.630+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907093449658994688) MsgTFriendOpRet
2025-11-08T10:25:31.692+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T10:25:31.693+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907093449658994688) MsgTFriendOpRet
2025-11-08T10:26:29.975+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(907093449658994688) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-08T10:26:29.977+0800	[34mINFO[0m	core/session.go:256	user(10001) session(907093449658994688)
2025-11-08T10:26:34.300+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"jfygdbus6CIjUitYBxAkYH0FZC6igOMRC0jj4H4=\"}"}
2025-11-08T10:26:34.301+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-08T10:26:34.301+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762568794301,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T10:26:34.338+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907093713208086528) MsgTFriendOpRet
2025-11-08T10:26:34.425+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T10:26:34.435+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907093713208086528) MsgTFriendOpRet
2025-11-08T10:26:34.515+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T10:26:34.515+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907093713208086528) MsgTFriendOpRet
2025-11-08T10:26:56.394+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(907093713208086528) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-08T10:26:56.395+0800	[34mINFO[0m	core/session.go:256	user(10001) session(907093713208086528)
2025-11-08T10:43:59.399+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"wwKMDZ4ls5mOnSVnMPQ02Y2VTXW/4DNA+WEYirs=\"}"}
2025-11-08T10:43:59.401+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-08T10:43:59.402+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762569839401,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T10:43:59.449+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907098096398372864) MsgTFriendOpRet
2025-11-08T10:43:59.511+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T10:43:59.511+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907098096398372864) MsgTFriendOpRet
2025-11-08T10:43:59.558+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T10:43:59.558+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907098096398372864) MsgTFriendOpRet
2025-11-08T10:44:57.855+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903861795268202496 sendId:1107 recvOk:1762569897848 readOk:1762569897848 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:44:57.892+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:45:08.299+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903856739869396992 sendId:1106 recvOk:1762569908342 readOk:1762569908342 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:45:08.320+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:45:08.369+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903853800874446848 sendId:1105 recvOk:1762569908348 readOk:1762569908348 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:45:08.383+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:45:08.384+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903826287804682240 sendId:1104 recvOk:1762569908349 readOk:1762569908349 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:45:08.396+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:45:08.473+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903826093239308288 sendId:1103 recvOk:1762569908351 readOk:1762569908351 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:45:08.488+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:45:08.489+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903825520163164160 sendId:1102 recvOk:1762569908353 readOk:1762569908353 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:45:08.506+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:45:08.708+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:902559324713390080 sendId:1101 recvOk:1762569908355 readOk:1762569908355 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:45:08.724+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:45:08.725+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:902557361032531968 sendId:1081 recvOk:1762569908356 readOk:1762569908356 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:45:08.737+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:45:08.737+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:902373575649005568 sendId:1061 recvOk:1762569908358 readOk:1762569908358 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:45:08.747+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:45:34.719+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(907098096398372864) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-08T10:45:34.720+0800	[34mINFO[0m	core/session.go:256	user(10001) session(907098096398372864)
2025-11-08T10:53:38.874+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"txwIOtWnLO/f62jvaIjZi89fN5KhvhrezyEyFus=\"}"}
2025-11-08T10:53:38.876+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-08T10:53:38.876+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762570418876,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T10:53:38.916+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907100526980763648) MsgTFriendOpRet
2025-11-08T10:53:38.999+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T10:53:39.008+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907100526980763648) MsgTFriendOpRet
2025-11-08T10:53:39.036+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T10:53:39.037+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907100526980763648) MsgTFriendOpRet
2025-11-08T10:54:02.117+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:902066718971662336 sendId:1041 recvOk:1762570442067 readOk:1762570442067 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:54:02.133+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:54:02.229+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:902064422581833728 sendId:1021 recvOk:1762570442070 readOk:1762570442070 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:54:02.248+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:54:02.248+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:902059986534928384 sendId:1001 recvOk:1762570442071 readOk:1762570442071 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T10:54:02.273+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T10:54:38.674+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(907100526980763648) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-08T10:54:38.675+0800	[34mINFO[0m	core/session.go:256	user(10001) session(907100526980763648)
2025-11-08T11:01:41.489+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"vqDbn7g/LheWuDXqCwBhoRRq3XL7xIG2uIngnvw=\"}"}
2025-11-08T11:01:41.492+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-08T11:01:41.492+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762570901492,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T11:01:41.704+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907102549079887872) MsgTFriendOpRet
2025-11-08T11:01:41.768+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T11:01:41.769+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907102549079887872) MsgTFriendOpRet
2025-11-08T11:01:41.841+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T11:01:41.841+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907102549079887872) MsgTFriendOpRet
2025-11-08T11:01:52.766+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "userId:10006 bigId:9223372036854775807 synType:SynTypeBackward chatType:ChatTypeP2P"}
2025-11-08T11:01:52.793+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 100}
2025-11-08T11:02:52.804+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(907102549079887872) close here, because ws:readLoop() error, err=read tcp 192.168.1.2:7817->192.168.1.31:43800: i/o timeout
2025-11-08T11:02:52.806+0800	[34mINFO[0m	core/session.go:256	user(10001) session(907102549079887872)
2025-11-08T11:03:21.228+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"iB/kD2dmudvxXaBq1tYUEBEC7EkwPli+rB8mkN4=\"}"}
2025-11-08T11:03:21.231+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-08T11:03:21.232+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762571001231,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T11:03:38.308+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(907102969001021440) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-08T11:03:38.310+0800	[34mINFO[0m	core/session.go:256	user(10006) session(907102969001021440)
2025-11-08T11:03:39.599+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"XA7XifeLqwSH8FSmRa/f3BzC5G7X+abLb+p/oW0=\"}"}
2025-11-08T11:03:39.601+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-08T11:03:39.601+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762571019601,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T11:04:05.492+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(907103046675337216) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-08T11:04:05.494+0800	[34mINFO[0m	core/session.go:256	user(10006) session(907103046675337216)
2025-11-08T11:04:34.690+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"9E/4O5Ojpqro4hulBMzCSrhDE5sTPdmpDcew5OE=\"}"}
2025-11-08T11:04:34.694+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-08T11:04:34.694+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762571074694,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T11:04:34.761+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-11-08T11:04:34.762+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTFriendOpRet
2025-11-08T11:04:34.806+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T11:04:34.807+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTFriendOpRet
2025-11-08T11:04:34.994+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:906095393224396801 chatType:ChatTypeP2P"}
2025-11-08T11:04:35.028+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 25}
2025-11-08T11:04:35.095+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:906935062765899776 sendId:1821 recvOk:1762571074138 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:35.120+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:35.146+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:906935063101444096 sendId:1821 recvOk:1762571074141 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:35.160+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:35.207+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:906935075977957376 sendId:1822 recvOk:1762571074141 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:35.226+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:35.263+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:906935104155291648 sendId:1823 recvOk:1762571074141 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:35.284+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:35.307+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:906935139639103488 sendId:1824 recvOk:1762571074141 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:35.330+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:35.353+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:906935174988697600 sendId:1825 recvOk:1762571074141 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:35.365+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:35.400+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:906936356209561600 sendId:1841 recvOk:1762571074141 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:35.422+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:35.451+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:906936369367093248 sendId:1842 recvOk:1762571074141 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:35.467+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:35.505+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:906936403726831616 sendId:1843 recvOk:1762571074141 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:35.529+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:35.553+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:906936460354129920 sendId:1844 recvOk:1762571074141 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:35.574+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:35.604+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:906937146055725056 sendId:1001 recvOk:1762571074142 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:35.621+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:35.659+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:906937159301337088 sendId:1002 recvOk:1762571074142 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:35.681+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:35.706+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:907086212244836352 sendId:1021 recvOk:1762571074142 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:35.716+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:35.757+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:907086224664170496 sendId:1022 recvOk:1762571074142 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:35.773+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:35.813+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:907086237603598336 sendId:1023 recvOk:1762571074142 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:35.840+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:35.859+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:907086249574141952 sendId:1024 recvOk:1762571074142 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:35.881+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:35.910+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:907086274551222272 sendId:1025 recvOk:1762571074142 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:35.930+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:35.965+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:907087139932606464 sendId:1041 recvOk:1762571074142 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:35.993+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:36.015+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:907087168604868608 sendId:1042 recvOk:1762571074142 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:36.035+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:36.072+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:907087180302782464 sendId:1043 recvOk:1762571074143 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:36.096+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:36.117+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:907087194269814784 sendId:1044 recvOk:1762571074143 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:36.141+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:36.164+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:907087206072586240 sendId:1045 recvOk:1762571074143 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:36.185+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:36.215+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:907091156632997888 sendId:1061 recvOk:1762571074143 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:36.232+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:36.279+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:907091169090080768 sendId:1062 recvOk:1762571074143 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:36.296+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:36.333+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:907091186211229696 sendId:1063 recvOk:1762571074143 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:36.360+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:44.048+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:907086224664170496 sendId:1022 recvOk:1762571083117 readOk:1762571083117 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:44.081+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:44.097+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:907086237603598336 sendId:1023 recvOk:1762571083118 readOk:1762571083118 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:44.119+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:44.182+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:907086249574141952 sendId:1024 recvOk:1762571083119 readOk:1762571083119 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:44.203+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:44.262+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:907086274551222272 sendId:1025 recvOk:1762571083120 readOk:1762571083120 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:44.280+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:44.284+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:907087139932606464 sendId:1041 recvOk:1762571083120 readOk:1762571083120 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:44.299+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:44.334+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:907087168604868608 sendId:1042 recvOk:1762571083121 readOk:1762571083121 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:44.346+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:44.384+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:907087180302782464 sendId:1043 recvOk:1762571083122 readOk:1762571083122 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:44.407+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:44.431+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:907087194269814784 sendId:1044 recvOk:1762571083123 readOk:1762571083123 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:44.453+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:44.477+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:907087206072586240 sendId:1045 recvOk:1762571083124 readOk:1762571083124 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:44.499+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:44.523+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:907091156632997888 sendId:1061 recvOk:1762571083125 readOk:1762571083125 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:44.547+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:44.570+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:907091169090080768 sendId:1062 recvOk:1762571083126 readOk:1762571083126 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:44.591+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:44.619+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:907091186211229696 sendId:1063 recvOk:1762571083127 readOk:1762571083127 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:44.637+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:51.546+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:906936460354129920 sendId:1844 recvOk:1762571090570 readOk:1762571090570 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:51.563+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:51.602+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:906937146055725056 sendId:1001 recvOk:1762571090571 readOk:1762571090571 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:51.627+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:51.650+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:906937159301337088 sendId:1002 recvOk:1762571090572 readOk:1762571090572 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:51.669+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:51.709+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:907086212244836352 sendId:1021 recvOk:1762571090573 readOk:1762571090573 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:51.734+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:52.672+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:906935139639103488 sendId:1824 recvOk:1762571091721 readOk:1762571091721 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:52.693+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:52.716+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:906935174988697600 sendId:1825 recvOk:1762571091723 readOk:1762571091723 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:52.727+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:52.772+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:906936356209561600 sendId:1841 recvOk:1762571091730 readOk:1762571091730 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:52.803+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:52.826+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:906936369367093248 sendId:1842 recvOk:1762571091732 readOk:1762571091732 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:52.844+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:53.901+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:906935075977957376 sendId:1822 recvOk:1762571092918 readOk:1762571092918 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:53.914+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:04:53.954+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:906935104155291648 sendId:1823 recvOk:1762571092925 readOk:1762571092925 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:04:53.978+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-08T11:05:16.430+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"ul3Uct77Y3ZniD57hySd+HS/9NVCvK2BcpqnVok=\"}"}
2025-11-08T11:05:16.432+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-08T11:05:16.433+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762571116432,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T11:05:16.634+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907103450809110528) MsgTFriendOpRet
2025-11-08T11:05:16.677+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T11:05:16.678+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907103450809110528) MsgTFriendOpRet
2025-11-08T11:05:16.722+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T11:05:16.723+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907103450809110528) MsgTFriendOpRet
2025-11-08T11:05:16.746+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:1 chatType:ChatTypeP2P"}
2025-11-08T11:05:16.777+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 100}
2025-11-08T11:05:16.953+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:896655091929583616 recvOk:1762571117029 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:16.970+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:17.006+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:896775304339656704 sendId:2 recvOk:1762571117032 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:17.032+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:17.078+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:896775629100421120 sendId:2 recvOk:1762571117033 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:17.098+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:17.183+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:896796741351903232 sendId:2 recvOk:1762571117034 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:17.194+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:17.195+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:896986908285079552 sendId:2 recvOk:1762571117035 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:17.205+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:17.290+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:896999188573851648 sendId:2 recvOk:1762571117036 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:17.310+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:17.310+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:896999203929198592 sendId:3 recvOk:1762571117036 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:17.325+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:17.339+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897009627089211392 sendId:2 recvOk:1762571117037 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:17.356+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:17.449+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897009792986517504 sendId:2 recvOk:1762571117038 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:17.462+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:17.554+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897009889547784192 sendId:3 recvOk:1762571117039 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:17.567+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:17.568+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897010158973095936 sendId:4 recvOk:1762571117040 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:17.584+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:17.664+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897010292779782144 sendId:5 recvOk:1762571117041 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:17.691+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:17.692+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897011739290374144 sendId:2 recvOk:1762571117042 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:17.706+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:17.716+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897014027253846016 sendId:2 recvOk:1762571117043 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:17.738+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:17.772+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897014054390992896 sendId:3 recvOk:1762571117044 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:17.783+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:17.870+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897014084724199424 sendId:4 recvOk:1762571117045 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:17.891+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:17.892+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897014305701105664 sendId:5 recvOk:1762571117046 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:17.907+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:17.919+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897014354891902976 sendId:6 recvOk:1762571117047 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:17.937+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:18.027+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897014454175272960 sendId:7 recvOk:1762571117048 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:18.043+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:18.044+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897015963411681280 sendId:2 recvOk:1762571117049 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:18.058+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:18.132+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897015990553022464 sendId:3 recvOk:1762571117050 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:18.152+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:18.153+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897017147501449216 sendId:2 recvOk:1762571117051 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:18.167+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:18.186+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897019540939083776 sendId:2 recvOk:1762571117052 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:18.198+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:18.291+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897020556275224576 sendId:2 recvOk:1762571117053 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:18.304+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:18.396+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897329779559239680 sendId:2 recvOk:1762571117054 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:18.410+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:18.411+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897337017262804992 sendId:2 recvOk:1762571117055 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:18.427+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:18.506+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897404904094699520 sendId:2 recvOk:1762571117055 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:18.518+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:18.518+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897408401091465216 sendId:2 recvOk:1762571117056 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:18.529+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:18.612+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897408412147650560 sendId:3 recvOk:1762571117057 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:18.624+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:18.624+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897408429243633664 sendId:4 recvOk:1762571117058 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:18.640+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:18.667+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897408441096736768 sendId:5 recvOk:1762571117059 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:18.686+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:18.756+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897408454845665280 sendId:6 recvOk:1762571117059 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:18.777+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:18.777+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897408484994322432 sendId:7 recvOk:1762571117060 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:18.793+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:18.801+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897410935155724288 sendId:2 recvOk:1762571117061 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:18.823+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:18.854+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897410947952545792 sendId:3 recvOk:1762571117062 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:18.869+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:18.957+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897410959256195072 sendId:4 recvOk:1762571117063 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:18.977+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:19.001+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897410972837351424 sendId:5 recvOk:1762571117063 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:19.012+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:05:19.048+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897410994643537920 sendId:6 recvOk:1762571117064 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:05:19.069+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:06:06.913+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897408454845665280 sendId:6 recvOk:1762571166924 readOk:1762571166924 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:06:06.938+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:06:06.974+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:897408484994322432 sendId:7 recvOk:1762571166931 readOk:1762571166931 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T11:06:07.005+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907103277303336960) MsgTChatReply
2025-11-08T11:06:14.340+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(907103450809110528) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-08T11:06:14.341+0800	[34mINFO[0m	core/session.go:256	user(10001) session(907103450809110528)
2025-11-08T11:07:48.828+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"klTldxvPE+pFS/5PW/sUJJWo3HdlU27RX6F6zLo=\"}"}
2025-11-08T11:07:48.829+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-08T11:07:48.829+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762571268829,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T11:07:49.006+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907104090469830656) MsgTFriendOpRet
2025-11-08T11:07:49.069+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T11:07:49.069+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907104090469830656) MsgTFriendOpRet
2025-11-08T11:07:49.082+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T11:07:49.082+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907104090469830656) MsgTFriendOpRet
2025-11-08T11:08:12.252+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(907104090469830656) close here, because ws:readLoop() error, err=read tcp 192.168.1.2:7817->192.168.1.31:44064: wsarecv: An existing connection was forcibly closed by the remote host.
2025-11-08T11:08:12.255+0800	[34mINFO[0m	core/session.go:256	user(10001) session(907104090469830656)
2025-11-08T11:08:53.008+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"v1PWbY/Kd3hky4vOZ1wasu0DGgTcjFqNA+UAPx4=\"}"}
2025-11-08T11:08:53.010+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-08T11:08:53.010+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762571333010,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T11:08:53.113+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907104359341494272) MsgTFriendOpRet
2025-11-08T11:08:53.163+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T11:08:53.163+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907104359341494272) MsgTFriendOpRet
2025-11-08T11:08:53.244+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T11:08:53.245+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907104359341494272) MsgTFriendOpRet
2025-11-08T11:09:42.652+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(907104359341494272) close here, because ws:readLoop() error, err=read tcp 192.168.1.2:7817->192.168.1.31:44130: wsarecv: An existing connection was forcibly closed by the remote host.
2025-11-08T11:09:42.653+0800	[34mINFO[0m	core/session.go:256	user(10001) session(907104359341494272)
2025-11-08T11:11:38.897+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"JtgvpcfMjoWjddjfcRjFoD8sv1BRMPr1sOo95FU=\"}"}
2025-11-08T11:11:38.900+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-08T11:11:38.901+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762571498900,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T11:11:39.001+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907105055465934848) MsgTFriendOpRet
2025-11-08T11:11:39.060+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T11:11:39.060+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907105055465934848) MsgTFriendOpRet
2025-11-08T11:11:39.120+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T11:11:39.120+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907105055465934848) MsgTFriendOpRet
2025-11-08T11:11:49.240+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(907105055465934848) close here, because ws:readLoop() error, err=read tcp 192.168.1.2:7817->192.168.1.31:44214: wsarecv: An existing connection was forcibly closed by the remote host.
2025-11-08T11:11:49.241+0800	[34mINFO[0m	core/session.go:256	user(10001) session(907105055465934848)
2025-11-08T11:30:24.636+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(907103277303336960) close here, because ws:readLoop() error, err=read tcp 192.168.1.2:7817->192.168.1.14:38618: i/o timeout
2025-11-08T11:30:25.150+0800	[34mINFO[0m	core/session.go:256	user(10006) session(907103277303336960)
2025-11-08T11:32:14.295+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"mjUCm3B4Yry2gJgbW4nAc6pfPe2mrhDBMhei2Yw=\"}"}
2025-11-08T11:32:14.296+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-08T11:32:14.297+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762572734296,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T11:32:14.403+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-11-08T11:32:14.403+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907110238837149696) MsgTFriendOpRet
2025-11-08T11:32:14.466+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T11:32:14.466+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907110238837149696) MsgTFriendOpRet
2025-11-08T11:33:12.776+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"22nBYNLmlm/d2JqhUCspmh6vMonE8qa4YoiN18M=\"}"}
2025-11-08T11:33:12.778+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-08T11:33:12.779+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762572792778,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T11:33:12.928+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907110482052255744) MsgTFriendOpRet
2025-11-08T11:33:13.009+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T11:33:13.010+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907110482052255744) MsgTFriendOpRet
2025-11-08T11:33:13.057+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T11:33:13.057+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907110482052255744) MsgTFriendOpRet
2025-11-08T11:33:20.358+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 synType:SynTypeBackward chatType:ChatTypeP2P"}
2025-11-08T11:33:20.401+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 100}
2025-11-08T11:33:52.537+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(907110482052255744) close here, because ws:readLoop() error, err=read tcp 192.168.1.2:7817->192.168.1.24:37876: wsarecv: An existing connection was forcibly closed by the remote host.
2025-11-08T11:33:52.538+0800	[34mINFO[0m	core/session.go:256	user(10001) session(907110482052255744)
2025-11-08T13:07:39.673+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(907110238837149696) close here, because ws:readLoop() error, err=read tcp 192.168.1.2:7817->192.168.1.14:38688: i/o timeout
2025-11-08T13:07:40.363+0800	[34mINFO[0m	core/session.go:256	user(10006) session(907110238837149696)
2025-11-08T13:07:43.978+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"LCn7IGD6OjMIWLViVSlRrXlnti368B4aJF9z/mM=\"}"}
2025-11-08T13:07:43.980+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-08T13:07:43.980+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762578463980,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T13:07:44.079+0800	[31mERROR[0m	core/friendhandler.go:692	handleFriendList() query scylladb error	{"error": "gocql: no hosts available in the pool"}
2025-11-08T13:07:44.088+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": null}
2025-11-08T13:07:44.088+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907134270659760128) MsgTFriendOpRet
2025-11-08T13:07:44.138+0800	[31mERROR[0m	core/friendhandler.go:692	handleFriendList() query scylladb error	{"error": "gocql: no hosts available in the pool"}
2025-11-08T13:07:44.139+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": null}
2025-11-08T13:07:44.139+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907134270659760128) MsgTFriendOpRet
2025-11-08T14:06:13.672+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(907134270659760128) close here, because ws:readLoop() error, err=read tcp 192.168.1.2:7817->192.168.1.14:38898: i/o timeout
2025-11-08T14:06:13.925+0800	[34mINFO[0m	core/session.go:256	user(10006) session(907134270659760128)
2025-11-08T14:07:09.255+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"QncfgmsFip2cBQ4jMqv4C7CDbcFlXwmvxe/5dkE=\"}"}
2025-11-08T14:07:09.256+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-08T14:07:09.256+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762582029256,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T14:07:09.421+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907149222938284032) MsgTFriendOpRet
2025-11-08T14:07:09.486+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T14:07:09.486+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907149222938284032) MsgTFriendOpRet
2025-11-08T14:07:18.409+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T14:07:18.409+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907149222938284032) MsgTFriendOpRet
2025-11-08T14:07:23.577+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 synType:SynTypeBackward chatType:ChatTypeP2P"}
2025-11-08T14:07:23.621+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 100}
2025-11-08T14:07:49.273+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:902373575649005568 sendId:1061 recvOk:1762582068767 readOk:1762582068767 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:07:49.317+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T14:07:49.362+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:902557361032531968 sendId:1081 recvOk:1762582068775 readOk:1762582068775 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:07:49.386+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T14:07:49.459+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:902559324713390080 sendId:1101 recvOk:1762582068779 readOk:1762582068779 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:07:49.478+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T14:07:49.478+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903825520163164160 sendId:1102 recvOk:1762582068782 readOk:1762582068782 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:07:49.496+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T14:07:49.560+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903826093239308288 sendId:1103 recvOk:1762582068785 readOk:1762582068785 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:07:49.583+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T14:07:49.645+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903826287804682240 sendId:1104 recvOk:1762582068788 readOk:1762582068788 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:07:49.661+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T14:07:49.738+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903853800874446848 sendId:1105 recvOk:1762582068791 readOk:1762582068791 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:07:49.753+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T14:07:49.753+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903856739869396992 sendId:1106 recvOk:1762582068794 readOk:1762582068794 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:07:49.768+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T14:07:49.823+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903861795268202496 sendId:1107 recvOk:1762582068797 readOk:1762582068797 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:07:49.846+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T14:08:10.010+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:902059986534928384 sendId:1001 recvOk:1762582089529 readOk:1762582089529 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:08:10.033+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T14:08:10.094+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:902064422581833728 sendId:1021 recvOk:1762582089535 readOk:1762582089535 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:08:10.110+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T14:08:10.177+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:902066718971662336 sendId:1041 recvOk:1762582089538 readOk:1762582089538 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:08:10.188+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T14:08:10.262+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:902059986534928384 sendId:1001 recvOk:1762582089767 readOk:1762582089767 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:08:10.279+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-08T14:08:19.584+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(907149222938284032) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-08T14:08:19.585+0800	[34mINFO[0m	core/session.go:256	user(10001) session(907149222938284032)
2025-11-08T14:09:14.049+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"aetRyvnLblv9RViwRV6VtFA7+kVVJReu1h/ikGU=\"}"}
2025-11-08T14:09:14.051+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-08T14:09:14.051+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762582154051,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T14:09:14.181+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907149746018324480) MsgTFriendOpRet
2025-11-08T14:09:14.260+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T14:09:14.260+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907149746018324480) MsgTFriendOpRet
2025-11-08T14:09:30.990+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T14:09:30.991+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907149746018324480) MsgTFriendOpRet
2025-11-08T14:09:37.502+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 synType:SynTypeBackward chatType:ChatTypeP2P"}
2025-11-08T14:09:37.534+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 100}
2025-11-08T14:09:40.124+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(907149746018324480) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-08T14:09:40.124+0800	[34mINFO[0m	core/session.go:256	user(10001) session(907149746018324480)
2025-11-08T14:12:16.537+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"Y3zJVDhb/ewp31AEU6yaf9Nohun6WW1GsUjRl+A=\"}"}
2025-11-08T14:12:16.539+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-08T14:12:16.540+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762582336539,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T14:12:16.660+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-11-08T14:12:16.660+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907150513676619776) MsgTFriendOpRet
2025-11-08T14:12:16.705+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T14:12:16.705+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907150513676619776) MsgTFriendOpRet
2025-11-08T14:14:11.493+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"YoU1CYDlxb3+ZVw6LBX3pkzrtPBo/M3Qe2T04HI=\"}"}
2025-11-08T14:14:11.494+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-08T14:14:11.494+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762582451494,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T14:14:11.549+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907150995656675328) MsgTFriendOpRet
2025-11-08T14:14:11.593+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T14:14:11.594+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907150995656675328) MsgTFriendOpRet
2025-11-08T14:14:11.656+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T14:14:11.656+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907150995656675328) MsgTFriendOpRet
2025-11-08T14:14:11.687+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 synType:SynTypeBackward chatType:ChatTypeP2P"}
2025-11-08T14:14:11.703+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 100}
2025-11-08T14:14:20.961+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(907150995656675328) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-08T14:14:20.962+0800	[34mINFO[0m	core/session.go:256	user(10001) session(907150995656675328)
2025-11-08T14:14:47.455+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"TyHuHkDCVWA5Jm1zjQcqRQvgRXyaL8WgZy/rINw=\"}"}
2025-11-08T14:14:47.456+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-08T14:14:47.456+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762582487456,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T14:14:59.928+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(907151144697073664) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-08T14:14:59.929+0800	[34mINFO[0m	core/session.go:256	user(10001) session(907151144697073664)
2025-11-08T14:18:46.994+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"wQ8AR12q0wh0kx/mgD6vEyjUHCsnkZbrsIqbKQY=\"}"}
2025-11-08T14:18:46.996+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-08T14:18:46.996+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762582726996,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T14:18:47.142+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907152149304184832) MsgTFriendOpRet
2025-11-08T14:18:47.226+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T14:18:47.227+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907152149304184832) MsgTFriendOpRet
2025-11-08T14:18:47.303+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T14:18:47.303+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907152149304184832) MsgTFriendOpRet
2025-11-08T14:18:47.309+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 synType:SynTypeBackward chatType:ChatTypeP2P"}
2025-11-08T14:18:47.320+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 100}
2025-11-08T14:19:39.827+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(907152149304184832) close here, because ws:readLoop() error, err=read tcp 192.168.1.2:7817->192.168.1.24:39770: wsarecv: An existing connection was forcibly closed by the remote host.
2025-11-08T14:19:39.827+0800	[34mINFO[0m	core/session.go:256	user(10001) session(907152149304184832)
2025-11-08T14:21:34.935+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"p8+C1M9C3P4bwtV6El3Ij57Nwy4b2IAoemcUt9c=\"}"}
2025-11-08T14:21:34.938+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-08T14:21:34.938+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762582894938,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T14:21:35.166+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T14:21:35.167+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907152853687209984) MsgTFriendOpRet
2025-11-08T14:21:35.212+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T14:21:35.214+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907152853687209984) MsgTFriendOpRet
2025-11-08T14:21:35.278+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 synType:SynTypeBackward chatType:ChatTypeP2P"}
2025-11-08T14:21:35.296+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 100}
2025-11-08T14:22:29.733+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:902373575649005568 sendId:1061 recvOk:1762582949229 readOk:1762582949229 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:22:29.746+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907150513676619776) MsgTChatReply
2025-11-08T14:22:29.801+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:902557361032531968 sendId:1081 recvOk:1762582949242 readOk:1762582949242 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:22:29.822+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907150513676619776) MsgTChatReply
2025-11-08T14:22:29.903+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:902559324713390080 sendId:1101 recvOk:1762582949246 readOk:1762582949246 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:22:29.915+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907150513676619776) MsgTChatReply
2025-11-08T14:22:29.916+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903825520163164160 sendId:1102 recvOk:1762582949250 readOk:1762582949250 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:22:29.930+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907150513676619776) MsgTChatReply
2025-11-08T14:22:30.004+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903826093239308288 sendId:1103 recvOk:1762582949254 readOk:1762582949254 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:22:30.022+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907150513676619776) MsgTChatReply
2025-11-08T14:22:30.108+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903826287804682240 sendId:1104 recvOk:1762582949259 readOk:1762582949259 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:22:30.130+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907150513676619776) MsgTChatReply
2025-11-08T14:22:30.130+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903853800874446848 sendId:1105 recvOk:1762582949263 readOk:1762582949263 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:22:30.145+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907150513676619776) MsgTChatReply
2025-11-08T14:22:30.192+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903856739869396992 sendId:1106 recvOk:1762582949266 readOk:1762582949266 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:22:30.206+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907150513676619776) MsgTChatReply
2025-11-08T14:22:30.280+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903861795268202496 sendId:1107 recvOk:1762582949270 readOk:1762582949270 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:22:30.300+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907150513676619776) MsgTChatReply
2025-11-08T14:22:50.207+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "userId:10006 bigId:902046582910881792 synType:SynTypeBackward chatType:ChatTypeP2P"}
2025-11-08T14:22:50.380+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 100}
2025-11-08T14:23:57.014+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:898588993963298816 sendId:3 recvOk:1762583036510 readOk:1762583036510 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:23:57.034+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907150513676619776) MsgTChatReply
2025-11-08T14:23:57.154+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:898589149664251904 sendId:2 recvOk:1762583036516 readOk:1762583036516 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:23:57.178+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907150513676619776) MsgTChatReply
2025-11-08T14:23:57.178+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:898589170145038336 sendId:3 recvOk:1762583036520 readOk:1762583036520 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:23:57.188+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907150513676619776) MsgTChatReply
2025-11-08T14:23:57.359+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:898589755317555200 sendId:4 recvOk:1762583036524 readOk:1762583036524 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:23:57.376+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907150513676619776) MsgTChatReply
2025-11-08T14:23:57.377+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:898590385713057792 sendId:2 recvOk:1762583036528 readOk:1762583036528 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:23:57.388+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907150513676619776) MsgTChatReply
2025-11-08T14:24:02.809+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:898960351268311040 sendId:2 recvOk:1762583042336 readOk:1762583042336 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:24:02.832+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907150513676619776) MsgTChatReply
2025-11-08T14:24:02.883+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:898960762125553664 sendId:3 recvOk:1762583042342 readOk:1762583042342 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:24:02.908+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907150513676619776) MsgTChatReply
2025-11-08T14:24:06.521+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:899327130133991424 sendId:4 recvOk:1762583046015 readOk:1762583046015 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:24:06.548+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907150513676619776) MsgTChatReply
2025-11-08T14:24:23.209+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:898588971678961664 sendId:2 recvOk:1762583062729 readOk:1762583062729 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:24:23.229+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907150513676619776) MsgTChatReply
2025-11-08T14:24:57.365+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(907152853687209984) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-08T14:24:57.366+0800	[34mINFO[0m	core/session.go:256	user(10001) session(907152853687209984)
2025-11-08T14:25:16.630+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"x/JpK0av4v/KK6MOIypcr7aocrpu/lHH3+5qlcA=\"}"}
2025-11-08T14:25:16.630+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-08T14:25:16.630+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762583116630,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T14:25:16.687+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T14:25:16.687+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907153785447649280) MsgTFriendOpRet
2025-11-08T14:25:16.738+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T14:25:16.738+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907153785447649280) MsgTFriendOpRet
2025-11-08T14:25:16.770+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:907091186211229696 chatType:ChatTypeP2P"}
2025-11-08T14:25:16.799+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 1}
2025-11-08T14:25:52.753+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:906072643608907776 sendId:1801 recvOk:1762583151473 readOk:1762583151473 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:25:52.777+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907153785447649280) MsgTChatReply
2025-11-08T14:25:52.800+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:906072675405926400 sendId:1802 recvOk:1762583151478 readOk:1762583151478 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:25:52.822+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907153785447649280) MsgTChatReply
2025-11-08T14:25:52.845+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:906935062765899776 sendId:1821 recvOk:1762583151479 readOk:1762583151479 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:25:52.867+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907153785447649280) MsgTChatReply
2025-11-08T14:25:55.143+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "userId:10001 bigId:902154183434702848 synType:SynTypeBackward chatType:ChatTypeP2P"}
2025-11-08T14:25:55.163+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 100}
2025-11-08T14:25:55.696+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907150513676619776) MsgTFriendOpRet
2025-11-08T14:25:55.891+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:898597399063302144 sendId:2 recvOk:1762583154641 readOk:1762583154641 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:25:55.911+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907153785447649280) MsgTChatReply
2025-11-08T14:25:55.942+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:898597834847293440 sendId:2 recvOk:1762583154642 readOk:1762583154642 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:25:55.963+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907153785447649280) MsgTChatReply
2025-11-08T14:25:55.993+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:898597867294429184 sendId:3 recvOk:1762583154643 readOk:1762583154643 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:25:56.011+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907153785447649280) MsgTChatReply
2025-11-08T14:25:56.050+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:898599118757302272 sendId:2 recvOk:1762583154644 readOk:1762583154644 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:25:56.060+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907153785447649280) MsgTChatReply
2025-11-08T14:25:56.097+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:898599139657519104 sendId:3 recvOk:1762583154644 readOk:1762583154644 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:25:56.119+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907153785447649280) MsgTChatReply
2025-11-08T14:25:56.148+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:898599802332385280 sendId:4 recvOk:1762583154645 readOk:1762583154645 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:25:56.164+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907153785447649280) MsgTChatReply
2025-11-08T14:25:56.204+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:898599845546299392 sendId:5 recvOk:1762583154646 readOk:1762583154646 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:25:56.232+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907153785447649280) MsgTChatReply
2025-11-08T14:25:56.260+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:898595225411391488 sendId:2 recvOk:1762583154889 readOk:1762583154889 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:25:56.270+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907153785447649280) MsgTChatReply
2025-11-08T14:25:56.312+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:898595488134205440 sendId:2 recvOk:1762583154890 readOk:1762583154890 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:25:56.332+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907153785447649280) MsgTChatReply
2025-11-08T14:25:56.369+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:898595652907438080 sendId:2 recvOk:1762583154891 readOk:1762583154891 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:25:56.394+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907153785447649280) MsgTChatReply
2025-11-08T14:26:01.309+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:899292704146591744 sendId:1141 recvOk:1762583160037 readOk:1762583160037 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:26:01.369+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907153785447649280) MsgTChatReply
2025-11-08T14:26:01.426+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:899292870417190912 sendId:1142 recvOk:1762583160038 readOk:1762583160038 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:26:01.454+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907153785447649280) MsgTChatReply
2025-11-08T14:26:01.455+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:899295484399718400 sendId:1161 recvOk:1762583160038 readOk:1762583160038 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:26:01.469+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907153785447649280) MsgTChatReply
2025-11-08T14:26:01.544+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:899298476310007808 sendId:1181 recvOk:1762583160039 readOk:1762583160039 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:26:01.562+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907153785447649280) MsgTChatReply
2025-11-08T14:26:02.434+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:899298525744074752 sendId:1182 recvOk:1762583161173 readOk:1762583161173 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:26:02.458+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907153785447649280) MsgTChatReply
2025-11-08T14:26:02.483+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:899298808142368768 sendId:1183 recvOk:1762583161174 readOk:1762583161174 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:26:02.508+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907153785447649280) MsgTChatReply
2025-11-08T14:26:02.529+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:899300531271503872 sendId:1201 recvOk:1762583161175 readOk:1762583161175 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:26:02.550+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907153785447649280) MsgTChatReply
2025-11-08T14:26:02.575+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:899327080200802304 sendId:1221 recvOk:1762583161176 readOk:1762583161176 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:26:02.596+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907153785447649280) MsgTChatReply
2025-11-08T14:26:02.619+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:900203510459666432 sendId:1241 recvOk:1762583161176 readOk:1762583161176 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:26:02.640+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907153785447649280) MsgTChatReply
2025-11-08T14:26:15.902+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(907150513676619776) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-08T14:26:15.903+0800	[34mINFO[0m	core/session.go:256	user(10006) session(907150513676619776)
2025-11-08T14:26:21.060+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"n/uq0+Pg0vwouJ6CJ4sbB8MuiCcw3IkqT3wypPE=\"}"}
2025-11-08T14:26:21.063+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-08T14:26:21.063+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762583181062,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T14:26:21.110+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907154055137202176) MsgTFriendOpRet
2025-11-08T14:26:21.183+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-11-08T14:26:21.184+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907154055137202176) MsgTFriendOpRet
2025-11-08T14:26:21.228+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T14:26:21.229+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(907154055137202176) MsgTFriendOpRet
2025-11-08T14:26:21.364+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:907091186211229696 chatType:ChatTypeP2P"}
2025-11-08T14:26:21.382+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 1}
2025-11-08T14:26:21.415+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:907091186211229696 sendId:1063 recvOk:1762583180164 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-08T14:26:21.446+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907153785447649280) MsgTChatReply
2025-11-08T14:41:29.174+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(907153785447649280) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-08T14:41:29.178+0800	[34mINFO[0m	core/session.go:256	user(10001) session(907153785447649280)
2025-11-08T14:41:36.248+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(907154055137202176) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-08T14:41:36.253+0800	[34mINFO[0m	core/session.go:256	user(10006) session(907154055137202176)
2025-11-08T15:48:45.350+0800	[34mINFO[0m	server/main.go:92	server started here...
2025-11-08T15:51:47.536+0800	[34mINFO[0m	server/main.go:92	server started here...
2025-11-08T15:53:45.482+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"hAYMp8mS6zYnhhMD0268LUERQzpb4e6MZQfLY5c=\"}"}
2025-11-08T15:53:45.629+0800	[35mDEBUG[0m	core/commonhelper.go:421	Load user permission list	{"user": 10001, "count": 0}
2025-11-08T15:53:45.631+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-08T15:53:45.632+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762588425631,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T15:53:45.962+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"nickName":"robin","email":"*","phone":"*"},{"userId":10004,"nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*"},{"userId":10005,"nickName":"robin","email":"*","phone":"*"},{"userId":10006,"nickName":"robin fox","email":"*","phone":"*"},{"userId":10007,"nickName":"yoyo","email":"*","phone":"*"}]}
2025-11-08T15:53:45.963+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907176052235833344) MsgTFriendOpRet
2025-11-08T15:53:45.977+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T15:53:45.977+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907176052235833344) MsgTFriendOpRet
2025-11-08T15:53:45.977+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:907091186211229696 chatType:ChatTypeP2P"}
2025-11-08T15:53:46.002+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 1}
2025-11-08T16:06:28.045+0800	[34mINFO[0m	server/main.go:92	server started here...
2025-11-08T16:10:58.823+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"LKjTXNkzn3l6Fv6rdNVkDdNGGm6TsD1iRdllwok=\"}"}
2025-11-08T16:10:58.991+0800	[35mDEBUG[0m	core/commonhelper.go:421	Load user permission list	{"user": 10001, "count": 0}
2025-11-08T16:10:58.991+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-08T16:10:58.992+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1762589458991,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-08T16:10:59.116+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"nickName":"robin","email":"*","phone":"*"},{"userId":10004,"nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*"},{"userId":10005,"nickName":"robin","email":"*","phone":"*"},{"userId":10006,"nickName":"robin fox","email":"*","phone":"*"},{"userId":10007,"nickName":"yoyo","email":"*","phone":"*"}]}
2025-11-08T16:10:59.117+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907180386516340736) MsgTFriendOpRet
2025-11-08T16:10:59.157+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-08T16:10:59.157+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(907180386516340736) MsgTFriendOpRet
2025-11-26T10:30:02.148+0800	[34mINFO[0m	server/main.go:92	server started here...
2025-11-26T10:33:01.269+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"dddi+7HfjHXP+WxZRkpPyeyAv4ml1+mLnfyJDoo=\"}"}
2025-11-26T10:33:01.508+0800	[35mDEBUG[0m	core/commonhelper.go:421	Load user permission list	{"user": 10006, "count": 0}
2025-11-26T10:33:01.559+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-26T10:33:01.560+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764124381559,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T10:33:01.817+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTFriendOpRet
2025-11-26T10:33:01.902+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*"},{"userId":10002,"nickName":"robin","email":"*","phone":"*"}]}
2025-11-26T10:33:01.903+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTFriendOpRet
2025-11-26T10:33:01.937+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"nickName":"yoyo","email":"*","phone":"*"}]}
2025-11-26T10:33:01.937+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTFriendOpRet
2025-11-26T10:33:02.136+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:907091186211229696 chatType:ChatTypeP2P"}
2025-11-26T10:33:02.164+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T10:33:02.224+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:907091186211229696 sendId:1063 recvOk:1764124382206 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:33:02.254+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-26T10:33:28.202+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"ymx3QtDyctB0QfhGLk6G/+52sRD7XP9BN4Et4P4=\"}"}
2025-11-26T10:33:28.204+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T10:33:28.204+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764124408204,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T10:33:28.246+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":1,"nickName":"John","email":"*","phone":"*"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*"},{"userId":10005,"nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T10:33:28.248+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913618430832283648) MsgTFriendOpRet
2025-11-26T10:33:28.294+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T10:33:28.295+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913618430832283648) MsgTFriendOpRet
2025-11-26T10:33:28.693+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:898576317606400000 sendId:3 recvOk:1764124408604 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:33:28.725+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:33:28.772+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:898588971678961664 sendId:2 recvOk:1764124408607 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:33:28.795+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:33:28.870+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:898588993963298816 sendId:3 recvOk:1764124408608 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:33:28.886+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:33:28.886+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:898589149664251904 sendId:2 recvOk:1764124408609 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:33:28.903+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:33:28.954+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:898589170145038336 sendId:3 recvOk:1764124408610 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:33:28.977+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:33:28.977+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:898589755317555200 sendId:4 recvOk:1764124408610 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:33:28.992+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:33:29.039+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:898590385713057792 sendId:2 recvOk:1764124408611 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:33:29.054+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:33:29.054+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:898960351268311040 sendId:2 recvOk:1764124408611 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:33:29.075+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:33:29.124+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:898960762125553664 sendId:3 recvOk:1764124408612 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:33:29.138+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:33:29.208+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:899327130133991424 sendId:4 recvOk:1764124408613 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:33:29.224+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:33:29.224+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:902059986534928384 sendId:1001 recvOk:1764124408613 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:33:29.241+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:33:29.279+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:902064422581833728 sendId:1021 recvOk:1764124408614 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:33:29.301+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:33:29.393+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:902066718971662336 sendId:1041 recvOk:1764124408615 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:33:29.420+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:33:29.421+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:902373575649005568 sendId:1061 recvOk:1764124408615 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:33:29.439+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:33:29.446+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:902557361032531968 sendId:1081 recvOk:1764124408616 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:33:29.470+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:33:29.470+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:902559324713390080 sendId:1101 recvOk:1764124408616 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:33:29.484+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:33:29.530+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903825520163164160 sendId:1102 recvOk:1764124408617 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:33:29.545+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:33:29.686+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903826093239308288 sendId:1103 recvOk:1764124408618 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:33:29.700+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:33:29.700+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903826287804682240 sendId:1104 recvOk:1764124408618 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:33:29.710+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:33:29.711+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903853800874446848 sendId:1105 recvOk:1764124408619 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:33:29.729+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:33:29.780+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903856739869396992 sendId:1106 recvOk:1764124408619 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:33:29.811+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:33:29.811+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:903861795268202496 sendId:1107 recvOk:1764124408620 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:33:29.823+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:33:29.851+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "userId:10001 bigId:9223372036854775807 littleId:907091186211229697 chatType:ChatTypeP2P"}
2025-11-26T10:33:29.884+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 0}
2025-11-26T10:33:51.664+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1081) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913618529549422592, userId: 10001, fromId: 10001, toId: 10006, tm: 1764124431547 (time: 2025-11-26 10:33:51), devId: \"47FCC883FB83DD2D\", sendId: 1081, msgType: TEXT, data: \"æ˜¨å¤©\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T10:33:51.703+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-26T10:33:51.704+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatMsg
2025-11-26T10:33:51.851+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913618529549422592 sendId:1081 recvOk:1764124431853 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:33:51.882+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913618430832283648) MsgTChatReply
2025-11-26T10:34:09.006+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:907091186211229696 sendId:1063 recvOk:1764124448989 readOk:1764124448989 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:34:09.047+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913618430832283648) MsgTChatReply
2025-11-26T10:34:09.057+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913618529549422592 sendId:1081 recvOk:1764124448994 readOk:1764124448994 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:34:09.077+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913618430832283648) MsgTChatReply
2025-11-26T10:34:19.661+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1082) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913618646998323200, userId: 10001, fromId: 10001, toId: 10006, tm: 1764124459580 (time: 2025-11-26 10:34:19), devId: \"47FCC883FB83DD2D\", sendId: 1082, msgType: TEXT, data: \"2\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T10:34:19.683+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-26T10:34:19.683+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatMsg
2025-11-26T10:34:19.806+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913618646998323200 sendId:1082 recvOk:1764124459811 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:34:19.816+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913618430832283648) MsgTChatReply
2025-11-26T10:34:32.980+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1141) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913618702874841088, userId: 10006, fromId: 10006, toId: 10001, tm: 1764124472923 (time: 2025-11-26 10:34:32), devId: \"BEF2A06F75075BC9\", sendId: 1141, msgType: TEXT, data: \"å¤©æ¶¯\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T10:34:33.089+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-26T10:34:33.091+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913618430832283648) MsgTChatMsg
2025-11-26T10:34:33.092+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1141) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913618703344603136, userId: 10006, fromId: 10006, toId: 10001, tm: 1764124472934 (time: 2025-11-26 10:34:32), devId: \"BEF2A06F75075BC9\", sendId: 1141, msgType: TEXT, data: \"å¤©æ¶¯\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T10:34:33.136+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-26T10:34:33.137+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913618430832283648) MsgTChatMsg
2025-11-26T10:34:33.246+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913618702874841088 sendId:1141 recvOk:1764124473163 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:34:33.261+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:34:33.383+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913618703344603136 sendId:1141 recvOk:1764124473190 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:34:33.394+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:34:33.818+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913618646998323200 sendId:1082 recvOk:1764124473835 readOk:1764124473835 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:34:33.833+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913618430832283648) MsgTChatReply
2025-11-26T10:35:01.993+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"RsvCXoMPEHU1QI3Jw+pp+OBE685Z7OTbSZ/V3fo=\"}"}
2025-11-26T10:35:01.999+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T10:35:01.999+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764124501999,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T10:35:02.107+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T10:35:02.108+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913618430832283648) MsgTFriendOpRet
2025-11-26T10:35:02.108+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913618823964397568) MsgTFriendOpRet
2025-11-26T10:35:02.132+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(913618430832283648) close here, because ws:readLoop() error, err=read tcp 192.168.1.2:7817->192.168.1.24:46102: wsarecv: An existing connection was forcibly closed by the remote host.
2025-11-26T10:35:02.136+0800	[34mINFO[0m	core/session.go:256	user(10001) session(913618430832283648)
2025-11-26T10:35:02.142+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T10:35:02.142+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913618823964397568) MsgTFriendOpRet
2025-11-26T10:35:02.203+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:913618703344603136 chatType:ChatTypeP2P"}
2025-11-26T10:35:02.217+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T10:35:02.290+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913618703344603136 sendId:1141 recvOk:1764124502190 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:35:02.310+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:35:19.824+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1142) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913618899352817664, userId: 10006, fromId: 10006, toId: 10001, tm: 1764124519824 (time: 2025-11-26 10:35:19), devId: \"BEF2A06F75075BC9\", sendId: 1142, msgType: TEXT, data: \"ä¸€\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T10:35:19.847+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-26T10:35:19.848+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913618823964397568) MsgTChatMsg
2025-11-26T10:35:19.938+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913618899352817664 sendId:1142 recvOk:1764124519843 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:35:19.959+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:35:24.329+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1143) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913618918248157184, userId: 10006, fromId: 10006, toId: 10001, tm: 1764124524334 (time: 2025-11-26 10:35:24), devId: \"BEF2A06F75075BC9\", sendId: 1143, msgType: TEXT, data: \"äºŒ\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T10:35:24.347+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-26T10:35:24.347+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913618823964397568) MsgTChatMsg
2025-11-26T10:35:24.442+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913618918248157184 sendId:1143 recvOk:1764124524357 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:35:24.458+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:35:29.913+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1144) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913618941669150720, userId: 10006, fromId: 10006, toId: 10001, tm: 1764124529904 (time: 2025-11-26 10:35:29), devId: \"BEF2A06F75075BC9\", sendId: 1144, msgType: TEXT, data: \"ä¸‰\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T10:35:29.921+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-26T10:35:29.921+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913618823964397568) MsgTChatMsg
2025-11-26T10:35:30.070+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913618941669150720 sendId:1144 recvOk:1764124529990 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:35:30.086+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:35:40.088+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1101) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913618984346193920, userId: 10001, fromId: 10001, toId: 10006, tm: 1764124539984 (time: 2025-11-26 10:35:39), devId: \"47FCC883FB83DD2D\", sendId: 1101, msgType: TEXT, data: \"å››\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T10:35:40.110+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-26T10:35:40.110+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatMsg
2025-11-26T10:35:40.273+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913618984346193920 sendId:1101 recvOk:1764124540253 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:35:40.291+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913618823964397568) MsgTChatReply
2025-11-26T10:35:40.512+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913618984346193920 sendId:1101 recvOk:1764124540538 readOk:1764124540538 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:35:40.524+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913618823964397568) MsgTChatReply
2025-11-26T10:35:40.697+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913618702874841088 sendId:1141 recvOk:1764124540617 readOk:1764124540617 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:35:40.711+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:35:40.864+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913618703344603136 sendId:1141 recvOk:1764124540620 readOk:1764124540620 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:35:40.884+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:35:40.884+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913618899352817664 sendId:1142 recvOk:1764124540622 readOk:1764124540622 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:35:40.898+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:35:40.898+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913618918248157184 sendId:1143 recvOk:1764124540623 readOk:1764124540623 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:35:40.909+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:35:40.948+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913618941669150720 sendId:1144 recvOk:1764124540624 readOk:1764124540624 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:35:40.961+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:35:46.977+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1102) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913619013240754176, userId: 10001, fromId: 10001, toId: 10006, tm: 1764124546903 (time: 2025-11-26 10:35:46), devId: \"47FCC883FB83DD2D\", sendId: 1102, msgType: TEXT, data: \"äº”\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T10:35:46.988+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-26T10:35:46.988+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatMsg
2025-11-26T10:35:47.066+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913619013240754176 sendId:1102 recvOk:1764124547061 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:35:47.083+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913618823964397568) MsgTChatReply
2025-11-26T10:35:47.321+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913619013240754176 sendId:1102 recvOk:1764124547335 readOk:1764124547335 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:35:47.346+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913618823964397568) MsgTChatReply
2025-11-26T10:36:05.589+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1103) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913619091305140224, userId: 10001, fromId: 10001, toId: 10006, tm: 1764124565514 (time: 2025-11-26 10:36:05), devId: \"47FCC883FB83DD2D\", sendId: 1103, msgType: TEXT, data: \"å…­\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T10:36:05.599+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-26T10:36:05.599+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatMsg
2025-11-26T10:36:05.716+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913619091305140224 sendId:1103 recvOk:1764124565697 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:36:05.727+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913618823964397568) MsgTChatReply
2025-11-26T10:36:05.990+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913619091305140224 sendId:1103 recvOk:1764124565986 readOk:1764124565986 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:36:06.002+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913618823964397568) MsgTChatReply
2025-11-26T10:36:13.630+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1104) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913619125031538688, userId: 10001, fromId: 10001, toId: 10006, tm: 1764124573545 (time: 2025-11-26 10:36:13), devId: \"47FCC883FB83DD2D\", sendId: 1104, msgType: TEXT, data: \"ä¸ƒ\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T10:36:13.640+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-26T10:36:13.640+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatMsg
2025-11-26T10:36:13.784+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913619125031538688 sendId:1104 recvOk:1764124573795 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:36:13.794+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913618823964397568) MsgTChatReply
2025-11-26T10:36:14.105+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913619125031538688 sendId:1104 recvOk:1764124574103 readOk:1764124574103 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:36:14.122+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913618823964397568) MsgTChatReply
2025-11-26T10:36:21.697+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1145) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913619158866989056, userId: 10006, fromId: 10006, toId: 10001, tm: 1764124581703 (time: 2025-11-26 10:36:21), devId: \"BEF2A06F75075BC9\", sendId: 1145, msgType: TEXT, data: \"æ•…äº‹\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T10:36:21.708+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-26T10:36:21.708+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913618823964397568) MsgTChatMsg
2025-11-26T10:36:21.776+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913619158866989056 sendId:1145 recvOk:1764124581699 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:36:21.799+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:36:22.135+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913619158866989056 sendId:1145 recvOk:1764124582040 readOk:1764124582040 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:36:22.154+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:36:53.937+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(913618823964397568) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T10:36:53.940+0800	[34mINFO[0m	core/session.go:256	user(10001) session(913618823964397568)
2025-11-26T10:38:55.736+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"5Xg2KSdeDwdtZ7fW4HQEl7t4Nc5J8fgkf/SDhPo=\"}"}
2025-11-26T10:38:55.739+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T10:38:55.739+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764124735739,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T10:38:55.798+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T10:38:55.799+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913619804638810112) MsgTFriendOpRet
2025-11-26T10:38:55.866+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T10:38:55.866+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913619804638810112) MsgTFriendOpRet
2025-11-26T10:38:55.888+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:913619158866989056 chatType:ChatTypeP2P"}
2025-11-26T10:38:55.897+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T10:38:55.949+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913619158866989056 sendId:1145 recvOk:1764124735862 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:38:55.960+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:39:02.210+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1121) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913619832107307008, userId: 10001, fromId: 10001, toId: 10006, tm: 1764124742139 (time: 2025-11-26 10:39:02), devId: \"47FCC883FB83DD2D\", sendId: 1121, msgType: TEXT, data: \"å…«\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T10:39:02.231+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-26T10:39:02.231+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatMsg
2025-11-26T10:39:02.337+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913619832107307008 sendId:1121 recvOk:1764124742334 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:39:02.347+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913619804638810112) MsgTChatReply
2025-11-26T10:39:02.660+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913619832107307008 sendId:1121 recvOk:1764124742647 readOk:1764124742647 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:39:02.685+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913619804638810112) MsgTChatReply
2025-11-26T10:52:01.594+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1146) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913623101072347136, userId: 10006, fromId: 10006, toId: 10001, tm: 1764125521589 (time: 2025-11-26 10:52:01), devId: \"BEF2A06F75075BC9\", sendId: 1146, msgType: TEXT, data: \"ä¹\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T10:52:01.613+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-26T10:52:01.613+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913619804638810112) MsgTChatMsg
2025-11-26T10:52:01.673+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913623101072347136 sendId:1146 recvOk:1764125521598 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:52:01.685+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:52:17.786+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(913619804638810112) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T10:52:17.788+0800	[34mINFO[0m	core/session.go:256	user(10001) session(913619804638810112)
2025-11-26T10:52:19.883+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"vv1fPDPqLYa7yaUrR0dX27hWdEUrE7Xi1Nt0gQ0=\"}"}
2025-11-26T10:52:19.884+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T10:52:19.884+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764125539884,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T10:52:19.930+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T10:52:19.931+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913623177391902720) MsgTFriendOpRet
2025-11-26T10:52:20.007+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T10:52:20.007+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913623177391902720) MsgTFriendOpRet
2025-11-26T10:52:20.024+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:913623101072347136 chatType:ChatTypeP2P"}
2025-11-26T10:52:20.035+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T10:52:20.074+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913623101072347136 sendId:1146 recvOk:1764125540001 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:52:20.101+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:52:30.538+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1147) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913623222480670720, userId: 10006, fromId: 10006, toId: 10001, tm: 1764125550553 (time: 2025-11-26 10:52:30), devId: \"BEF2A06F75075BC9\", sendId: 1147, msgType: TEXT, data: \"å\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T10:52:30.544+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-26T10:52:30.544+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913623177391902720) MsgTChatMsg
2025-11-26T10:52:30.709+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913623222480670720 sendId:1147 recvOk:1764125550612 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:52:30.720+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:52:37.844+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913619158866989056 sendId:1145 recvOk:1764125557780 readOk:1764125557780 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:52:37.854+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:52:37.937+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913623101072347136 sendId:1146 recvOk:1764125557783 readOk:1764125557783 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:52:37.959+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:52:38.117+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913623222480670720 sendId:1147 recvOk:1764125557784 readOk:1764125557784 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:52:38.131+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:53:59.806+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(913623177391902720) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T10:53:59.806+0800	[34mINFO[0m	core/session.go:256	user(10001) session(913623177391902720)
2025-11-26T10:54:27.872+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"fbimaSPA6p9ePzdY4h7zYyzDVaL84g12h6/vjZw=\"}"}
2025-11-26T10:54:27.874+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T10:54:27.874+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764125667874,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T10:54:27.922+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T10:54:27.922+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913623714157957120) MsgTFriendOpRet
2025-11-26T10:54:27.982+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T10:54:27.982+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913623714157957120) MsgTFriendOpRet
2025-11-26T10:54:28.012+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 synType:SynTypeBackward chatType:ChatTypeP2P"}
2025-11-26T10:54:28.051+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 100}
2025-11-26T10:54:35.310+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913618702874841088 sendId:1141 recvOk:1764125675220 readOk:1764125675220 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:54:35.330+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:54:35.469+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913618703344603136 sendId:1141 recvOk:1764125675223 readOk:1764125675223 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:54:35.485+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:54:35.486+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913618899352817664 sendId:1142 recvOk:1764125675224 readOk:1764125675224 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:54:35.502+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:54:35.502+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913618918248157184 sendId:1143 recvOk:1764125675225 readOk:1764125675225 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:54:35.512+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:54:35.674+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913618941669150720 sendId:1144 recvOk:1764125675226 readOk:1764125675226 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:54:35.686+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:54:35.687+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913619158866989056 sendId:1145 recvOk:1764125675227 readOk:1764125675227 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:54:35.702+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:54:35.703+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913623101072347136 sendId:1146 recvOk:1764125675228 readOk:1764125675228 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:54:35.717+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:54:35.878+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913623222480670720 sendId:1147 recvOk:1764125675229 readOk:1764125675229 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:54:35.902+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:55:13.389+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(913623714157957120) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T10:55:13.391+0800	[34mINFO[0m	core/session.go:256	user(10001) session(913623714157957120)
2025-11-26T10:55:54.486+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"pbO2Bzg77B0FtJjWpVOFigxwlswSEb3xxKxpRxU=\"}"}
2025-11-26T10:55:54.487+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T10:55:54.487+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764125754487,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T10:55:54.594+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T10:55:54.594+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913624077141413888) MsgTFriendOpRet
2025-11-26T10:55:54.658+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T10:55:54.659+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913624077141413888) MsgTFriendOpRet
2025-11-26T10:55:54.685+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 synType:SynTypeBackward chatType:ChatTypeP2P"}
2025-11-26T10:55:54.714+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 100}
2025-11-26T10:55:58.779+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913618702874841088 sendId:1141 recvOk:1764125758703 readOk:1764125758703 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:55:58.794+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:55:58.866+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913618703344603136 sendId:1141 recvOk:1764125758706 readOk:1764125758706 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:55:58.888+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:55:58.927+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913618899352817664 sendId:1142 recvOk:1764125758707 readOk:1764125758707 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:55:58.936+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:55:59.015+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913618918248157184 sendId:1143 recvOk:1764125758708 readOk:1764125758708 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:55:59.027+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:55:59.027+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913618941669150720 sendId:1144 recvOk:1764125758709 readOk:1764125758709 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:55:59.042+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:55:59.096+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913619158866989056 sendId:1145 recvOk:1764125758710 readOk:1764125758710 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:55:59.121+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:55:59.188+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913623101072347136 sendId:1146 recvOk:1764125758711 readOk:1764125758711 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:55:59.216+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:55:59.216+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913623222480670720 sendId:1147 recvOk:1764125758712 readOk:1764125758712 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:55:59.226+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:56:29.480+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(913624077141413888) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T10:56:29.482+0800	[34mINFO[0m	core/session.go:256	user(10001) session(913624077141413888)
2025-11-26T10:56:30.458+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"cuuCO03hu1i3TPR4jrZt7J6Hvr6N2CxShFTwWSo=\"}"}
2025-11-26T10:56:30.458+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T10:56:30.459+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764125790458,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T10:56:30.540+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T10:56:30.540+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913624228392210432) MsgTFriendOpRet
2025-11-26T10:56:30.573+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T10:56:30.573+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913624228392210432) MsgTFriendOpRet
2025-11-26T10:56:30.624+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913623222480670720 sendId:1147 recvOk:1764125790442 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:56:30.634+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:56:30.708+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913623101072347136 sendId:1146 recvOk:1764125790443 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:56:30.727+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:56:30.771+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913619158866989056 sendId:1145 recvOk:1764125790444 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:56:30.789+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:56:30.789+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913618941669150720 sendId:1144 recvOk:1764125790444 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:56:30.798+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:56:30.856+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913618918248157184 sendId:1143 recvOk:1764125790445 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:56:30.886+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T10:56:30.940+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:913623222480670720 chatType:ChatTypeP2P"}
2025-11-26T10:56:30.955+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T10:56:30.972+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913623222480670720 sendId:1147 recvOk:1764125790921 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T10:56:30.988+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913618317669961728) MsgTChatReply
2025-11-26T11:00:15.578+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(913618317669961728) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T11:00:15.578+0800	[34mINFO[0m	core/session.go:256	user(10006) session(913618317669961728)
2025-11-26T11:00:22.162+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"OtEXPk97FLWR9sGi5dc3c8cpl6qiiAvP5obU4HE=\"}"}
2025-11-26T11:00:22.168+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-26T11:00:22.168+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764126022168,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T11:00:22.209+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913625199793016832) MsgTFriendOpRet
2025-11-26T11:00:22.275+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-11-26T11:00:22.276+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913625199793016832) MsgTFriendOpRet
2025-11-26T11:00:22.320+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T11:00:22.320+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913625199793016832) MsgTFriendOpRet
2025-11-26T11:00:22.512+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:913623222480670720 chatType:ChatTypeP2P"}
2025-11-26T11:00:22.537+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T11:00:32.222+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1161) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913625242809798656, userId: 10006, fromId: 10006, toId: 10001, tm: 1764126032214 (time: 2025-11-26 11:00:32), devId: \"BEF2A06F75075BC9\", sendId: 1161, msgType: TEXT, data: \"ä¸€\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T11:00:32.243+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-26T11:00:32.243+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913624228392210432) MsgTChatMsg
2025-11-26T11:00:32.413+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913625242809798656 sendId:1161 recvOk:1764126032316 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:00:32.430+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913625199793016832) MsgTChatReply
2025-11-26T11:00:35.567+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1162) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913625256839745536, userId: 10006, fromId: 10006, toId: 10001, tm: 1764126035552 (time: 2025-11-26 11:00:35), devId: \"BEF2A06F75075BC9\", sendId: 1162, msgType: TEXT, data: \"äºŒ\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T11:00:35.578+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-26T11:00:35.578+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913624228392210432) MsgTChatMsg
2025-11-26T11:00:35.641+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913625256839745536 sendId:1162 recvOk:1764126035591 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:00:35.650+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913625199793016832) MsgTChatReply
2025-11-26T11:00:38.989+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1163) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913625271192653824, userId: 10006, fromId: 10006, toId: 10001, tm: 1764126038957 (time: 2025-11-26 11:00:38), devId: \"BEF2A06F75075BC9\", sendId: 1163, msgType: TEXT, data: \"ä¸‰\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T11:00:39.006+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-26T11:00:39.006+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913624228392210432) MsgTChatMsg
2025-11-26T11:00:39.142+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913625271192653824 sendId:1163 recvOk:1764126039074 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:00:39.153+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913625199793016832) MsgTChatReply
2025-11-26T11:14:49.045+0800	[34mINFO[0m	server/main.go:92	server started here...
2025-11-26T11:14:52.937+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"UPXDDxzKTfa8otYpRAEahVMAurilRbBkhfjqa6E=\"}"}
2025-11-26T11:14:53.100+0800	[35mDEBUG[0m	core/commonhelper.go:421	Load user permission list	{"user": 10001, "count": 0}
2025-11-26T11:14:53.106+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T11:14:53.109+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764126893106,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T11:14:53.316+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"nickName":"robin","email":"*","phone":"*"},{"userId":10004,"nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*"},{"userId":10005,"nickName":"robin","email":"*","phone":"*"},{"userId":10006,"nickName":"robin fox","email":"*","phone":"*"},{"userId":10007,"nickName":"yoyo","email":"*","phone":"*"}]}
2025-11-26T11:14:53.317+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913628852629147648) MsgTFriendOpRet
2025-11-26T11:14:53.363+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T11:14:53.364+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913628852629147648) MsgTFriendOpRet
2025-11-26T11:19:47.047+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"dazfEB/MKyS6uHjpPI/4eXtAVwgIPiQ24W1ObjE=\"}"}
2025-11-26T11:19:47.049+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-26T11:19:47.049+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764127187049,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T11:19:47.157+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-11-26T11:19:47.158+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913630086186536960) MsgTFriendOpRet
2025-11-26T11:19:47.218+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T11:19:47.219+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913630086186536960) MsgTFriendOpRet
2025-11-26T11:21:20.170+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(913628852629147648) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T11:21:20.180+0800	[34mINFO[0m	core/session.go:256	user(10001) session(913628852629147648)
2025-11-26T11:21:21.333+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"wXl46/wPAuWryVf7T3PE4CYVZP7Mt3DsoRIv8AQ=\"}"}
2025-11-26T11:21:21.347+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T11:21:21.349+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764127281347,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T11:21:21.494+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T11:21:21.494+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913630481482911744) MsgTFriendOpRet
2025-11-26T11:21:21.525+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T11:21:21.525+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913630481482911744) MsgTFriendOpRet
2025-11-26T11:21:21.577+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:913625271192653824 chatType:ChatTypeP2P"}
2025-11-26T11:21:21.601+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T11:21:21.617+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913625271192653824 sendId:1163 recvOk:1764127280952 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:21:21.635+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913630086186536960) MsgTChatReply
2025-11-26T11:21:28.110+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1164) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913630510255837184, userId: 10006, fromId: 10006, toId: 10001, tm: 1764127287119 (time: 2025-11-26 11:21:27), devId: \"BEF2A06F75075BC9\", sendId: 1164, msgType: TEXT, data: \"å››\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T11:21:28.193+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-26T11:21:28.194+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913630481482911744) MsgTChatMsg
2025-11-26T11:21:28.336+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913630510255837184 sendId:1164 recvOk:1764127287650 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:21:28.353+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913630086186536960) MsgTChatReply
2025-11-26T11:21:35.875+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1165) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913630542954631168, userId: 10006, fromId: 10006, toId: 10001, tm: 1764127294925 (time: 2025-11-26 11:21:34), devId: \"BEF2A06F75075BC9\", sendId: 1165, msgType: TEXT, data: \"äº”\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T11:21:35.906+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-26T11:21:35.908+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913630481482911744) MsgTChatMsg
2025-11-26T11:21:36.044+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913630542954631168 sendId:1165 recvOk:1764127295323 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:21:36.074+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913630086186536960) MsgTChatReply
2025-11-26T11:21:55.247+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(913630481482911744) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T11:21:55.248+0800	[34mINFO[0m	core/session.go:256	user(10001) session(913630481482911744)
2025-11-26T11:23:05.816+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1166) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913630920186138624, userId: 10006, fromId: 10006, toId: 10001, tm: 1764127384878 (time: 2025-11-26 11:23:04), devId: \"BEF2A06F75075BC9\", sendId: 1166, msgType: TEXT, data: \"å…­\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T11:23:05.828+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-26T11:23:05.828+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-26T11:23:12.671+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1167) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913630948946481152, userId: 10006, fromId: 10006, toId: 10001, tm: 1764127391723 (time: 2025-11-26 11:23:11), devId: \"BEF2A06F75075BC9\", sendId: 1167, msgType: TEXT, data: \"ä¸ƒ\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T11:23:12.691+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-26T11:23:12.691+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-26T11:23:19.636+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"PyE3g6b064BW5XyvA1K5tBtuyvQGkKPAecu5OLU=\"}"}
2025-11-26T11:23:19.639+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T11:23:19.640+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764127399639,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T11:23:19.760+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T11:23:19.770+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913630977354502144) MsgTFriendOpRet
2025-11-26T11:23:19.920+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T11:23:19.921+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913630977354502144) MsgTFriendOpRet
2025-11-26T11:23:19.921+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:913630542954631168 chatType:ChatTypeP2P"}
2025-11-26T11:23:19.939+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 3}
2025-11-26T11:23:19.988+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913630542954631168 sendId:1165 recvOk:1764127399289 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:23:20.004+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913630086186536960) MsgTChatReply
2025-11-26T11:23:20.071+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913630920186138624 sendId:1166 recvOk:1764127399289 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:23:20.096+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913630086186536960) MsgTChatReply
2025-11-26T11:23:20.155+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913630948946481152 sendId:1167 recvOk:1764127399289 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:23:20.173+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913630086186536960) MsgTChatReply
2025-11-26T11:23:28.352+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1168) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913631014713167872, userId: 10006, fromId: 10006, toId: 10001, tm: 1764127407401 (time: 2025-11-26 11:23:27), devId: \"BEF2A06F75075BC9\", sendId: 1168, msgType: TEXT, data: \"å…«\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T11:23:28.360+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-26T11:23:28.360+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913630977354502144) MsgTChatMsg
2025-11-26T11:23:28.459+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913631014713167872 sendId:1168 recvOk:1764127407764 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:23:28.475+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913630086186536960) MsgTChatReply
2025-11-26T11:23:34.284+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1169) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913631039597973504, userId: 10006, fromId: 10006, toId: 10001, tm: 1764127413341 (time: 2025-11-26 11:23:33), devId: \"BEF2A06F75075BC9\", sendId: 1169, msgType: TEXT, data: \"ä¹\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T11:23:34.297+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-26T11:23:34.298+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913630977354502144) MsgTChatMsg
2025-11-26T11:23:34.377+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913631039597973504 sendId:1169 recvOk:1764127413702 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:23:34.394+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913630086186536960) MsgTChatReply
2025-11-26T11:23:34.839+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913623222480670720 sendId:1147 recvOk:1764127414143 readOk:1764127414143 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:23:34.876+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913630086186536960) MsgTChatReply
2025-11-26T11:23:34.973+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913625242809798656 sendId:1161 recvOk:1764127414149 readOk:1764127414149 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:23:34.999+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913630086186536960) MsgTChatReply
2025-11-26T11:23:35.003+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913625256839745536 sendId:1162 recvOk:1764127414152 readOk:1764127414152 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:23:35.015+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913630086186536960) MsgTChatReply
2025-11-26T11:23:35.049+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913625271192653824 sendId:1163 recvOk:1764127414153 readOk:1764127414153 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:23:35.060+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913630086186536960) MsgTChatReply
2025-11-26T11:23:35.135+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913630510255837184 sendId:1164 recvOk:1764127414155 readOk:1764127414155 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:23:35.153+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913630086186536960) MsgTChatReply
2025-11-26T11:23:35.153+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913630542954631168 sendId:1165 recvOk:1764127414157 readOk:1764127414157 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:23:35.163+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913630086186536960) MsgTChatReply
2025-11-26T11:23:35.219+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913630920186138624 sendId:1166 recvOk:1764127414159 readOk:1764127414159 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:23:35.231+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913630086186536960) MsgTChatReply
2025-11-26T11:23:35.232+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913630948946481152 sendId:1167 recvOk:1764127414161 readOk:1764127414161 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:23:35.249+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913630086186536960) MsgTChatReply
2025-11-26T11:23:35.303+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913631014713167872 sendId:1168 recvOk:1764127414164 readOk:1764127414164 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:23:35.319+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913630086186536960) MsgTChatReply
2025-11-26T11:23:35.389+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913631039597973504 sendId:1169 recvOk:1764127414166 readOk:1764127414166 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:23:35.411+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913630086186536960) MsgTChatReply
2025-11-26T11:23:39.895+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1170) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913631063132213248, userId: 10006, fromId: 10006, toId: 10001, tm: 1764127418927 (time: 2025-11-26 11:23:38), devId: \"BEF2A06F75075BC9\", sendId: 1170, msgType: TEXT, data: \"å\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T11:23:39.915+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-26T11:23:39.918+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913630977354502144) MsgTChatMsg
2025-11-26T11:23:39.980+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(913631063132213248) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913631063488729088, userId: 10006, fromId: 10006, toId: 10001, tm: 1764127419022 (time: 2025-11-26 11:23:39), devId: \"BEF2A06F75075BC9\", sendId: 913631063132213248, msgType: TEXT, data: \"å\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T11:23:39.998+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-26T11:23:39.999+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913630977354502144) MsgTChatMsg
2025-11-26T11:23:40.054+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913631063132213248 sendId:1170 recvOk:1764127419334 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:23:40.079+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913630086186536960) MsgTChatReply
2025-11-26T11:23:40.175+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913631063488729088 sendId:913631063132213248 recvOk:1764127419412 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:23:40.187+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913630086186536960) MsgTChatReply
2025-11-26T11:23:40.567+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913631063132213248 sendId:1170 recvOk:1764127419859 readOk:1764127419859 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:23:40.586+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913630086186536960) MsgTChatReply
2025-11-26T11:23:41.030+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913631063488729088 sendId:913631063132213248 recvOk:1764127420308 readOk:1764127420308 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:23:41.051+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913630086186536960) MsgTChatReply
2025-11-26T11:36:14.876+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(913630977354502144) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T11:36:14.876+0800	[34mINFO[0m	core/session.go:256	user(10001) session(913630977354502144)
2025-11-26T11:36:21.234+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"m8VGBWzXT+7FZwUgNQKiNNxuSgnB9aSlGYrHlAA=\"}"}
2025-11-26T11:36:21.235+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T11:36:21.235+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764128181235,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T11:36:21.416+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T11:36:21.416+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913634254255165440) MsgTFriendOpRet
2025-11-26T11:36:21.484+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T11:36:21.484+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913634254255165440) MsgTFriendOpRet
2025-11-26T11:36:21.489+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:913631063488729088 chatType:ChatTypeP2P"}
2025-11-26T11:36:21.500+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T11:36:21.601+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913631063488729088 sendId:913631063132213248 recvOk:1764128180896 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:36:21.627+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913630086186536960) MsgTChatReply
2025-11-26T11:36:29.134+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1141) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913634289554427904, userId: 10001, fromId: 10001, toId: 10006, tm: 1764128188391 (time: 2025-11-26 11:36:28), devId: \"47FCC883FB83DD2D\", sendId: 1141, msgType: TEXT, data: \"1\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T11:36:29.161+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-26T11:36:29.162+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913630086186536960) MsgTChatMsg
2025-11-26T11:36:29.348+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913634289554427904 sendId:1141 recvOk:1764128188396 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:36:29.365+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913634254255165440) MsgTChatReply
2025-11-26T11:36:29.562+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913634289554427904 sendId:1141 recvOk:1764128188611 readOk:1764128188611 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:36:29.582+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913634254255165440) MsgTChatReply
2025-11-26T11:37:58.741+0800	[35mDEBUG[0m	core/chatmsghandler.go:115	receive chat msg(1142) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913634665393426432, userId: 10001, fromId: 10001, toId: 10006, tm: 1764128278018 (time: 2025-11-26 11:37:58), devId: \"47FCC883FB83DD2D\", sendId: 1142, msgType: TEXT, data: \"2\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T11:37:58.764+0800	[35mDEBUG[0m	core/chatmsghandler.go:240	send back reply 'save data ok'
2025-11-26T11:37:58.765+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913630086186536960) MsgTChatMsg
2025-11-26T11:37:58.952+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913634665393426432 sendId:1142 recvOk:1764128277993 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:37:58.979+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913634254255165440) MsgTChatReply
2025-11-26T11:37:59.159+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913634665393426432 sendId:1142 recvOk:1764128278248 readOk:1764128278248 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:37:59.174+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913634254255165440) MsgTChatReply
2025-11-26T11:40:37.976+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(913630086186536960) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T11:40:37.977+0800	[34mINFO[0m	core/session.go:256	user(10006) session(913630086186536960)
2025-11-26T11:40:41.963+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"6esNnVDRUKFBIIzYiCUZkqFHGADHrjP4zr4QDGE=\"}"}
2025-11-26T11:40:41.966+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-26T11:40:41.966+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764128441966,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T11:40:42.013+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913635349182418944) MsgTFriendOpRet
2025-11-26T11:40:42.072+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-11-26T11:40:42.073+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913635349182418944) MsgTFriendOpRet
2025-11-26T11:40:42.132+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T11:40:42.133+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913635349182418944) MsgTFriendOpRet
2025-11-26T11:40:42.266+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:913634665393426432 chatType:ChatTypeP2P"}
2025-11-26T11:40:42.286+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T11:40:42.317+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913634665393426432 sendId:1142 recvOk:1764128441393 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:40:42.335+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913634254255165440) MsgTChatReply
2025-11-26T11:41:13.696+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(913635349182418944) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T11:41:13.697+0800	[34mINFO[0m	core/session.go:256	user(10006) session(913635349182418944)
2025-11-26T11:43:57.526+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"QpoeX7Ra27d04C/42MCowCyB9kz3NZ1+7xkNLjI=\"}"}
2025-11-26T11:43:57.530+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-26T11:43:57.530+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764128637530,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T11:43:57.871+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913636167914754048) MsgTFriendOpRet
2025-11-26T11:43:57.951+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-11-26T11:43:57.951+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913636167914754048) MsgTFriendOpRet
2025-11-26T11:43:58.028+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T11:43:58.028+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913636167914754048) MsgTFriendOpRet
2025-11-26T11:43:58.861+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:913634665393426432 chatType:ChatTypeP2P"}
2025-11-26T11:43:58.883+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T11:43:58.942+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913634665393426432 sendId:1142 recvOk:1764128637992 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:43:58.952+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913634254255165440) MsgTChatReply
2025-11-26T11:44:21.141+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(913636167914754048) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T11:44:21.144+0800	[34mINFO[0m	core/session.go:256	user(10006) session(913636167914754048)
2025-11-26T11:44:26.260+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"Y9lJrAzFB4SwoZ0GWwDvH5OsuQgZZbXJeXQZKBk=\"}"}
2025-11-26T11:44:26.261+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-26T11:44:26.262+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764128666261,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T11:44:26.452+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913636288698126336) MsgTFriendOpRet
2025-11-26T11:44:26.526+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-11-26T11:44:26.526+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913636288698126336) MsgTFriendOpRet
2025-11-26T11:44:26.574+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T11:44:26.576+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913636288698126336) MsgTFriendOpRet
2025-11-26T11:44:27.391+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:913634665393426432 chatType:ChatTypeP2P"}
2025-11-26T11:44:27.401+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T11:44:27.431+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913634665393426432 sendId:1142 recvOk:1764128666505 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:44:27.448+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913634254255165440) MsgTChatReply
2025-11-26T11:44:50.761+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(913636288698126336) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T11:44:50.766+0800	[34mINFO[0m	core/session.go:256	user(10006) session(913636288698126336)
2025-11-26T11:45:30.601+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"28EUbDBD7hBTIHIu6qQJwPfDZf1pVGokGuwaAjM=\"}"}
2025-11-26T11:45:30.602+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-26T11:45:30.602+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764128730602,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T11:45:30.739+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913636558589005824) MsgTFriendOpRet
2025-11-26T11:45:30.815+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-11-26T11:45:30.816+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913636558589005824) MsgTFriendOpRet
2025-11-26T11:45:30.862+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T11:45:30.863+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913636558589005824) MsgTFriendOpRet
2025-11-26T11:45:31.675+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:913634665393426432 chatType:ChatTypeP2P"}
2025-11-26T11:45:31.686+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T11:45:31.765+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913634665393426432 sendId:1142 recvOk:1764128730816 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:45:31.782+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913634254255165440) MsgTChatReply
2025-11-26T11:45:40.261+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(913636558589005824) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T11:45:40.263+0800	[34mINFO[0m	core/session.go:256	user(10006) session(913636558589005824)
2025-11-26T11:45:45.270+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"i11EZ+cMCIpNsKnJ2VaMwgWhziuFIMJl0pB1Xdo=\"}"}
2025-11-26T11:45:45.271+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-26T11:45:45.271+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764128745271,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T11:45:45.410+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913636620111056896) MsgTFriendOpRet
2025-11-26T11:45:45.477+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-11-26T11:45:45.478+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913636620111056896) MsgTFriendOpRet
2025-11-26T11:45:45.523+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T11:45:45.523+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913636620111056896) MsgTFriendOpRet
2025-11-26T11:45:46.335+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:913634665393426432 chatType:ChatTypeP2P"}
2025-11-26T11:45:46.358+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T11:45:46.375+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913634665393426432 sendId:1142 recvOk:1764128745464 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:45:46.392+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913634254255165440) MsgTChatReply
2025-11-26T11:46:22.498+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(913636620111056896) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T11:46:22.499+0800	[34mINFO[0m	core/session.go:256	user(10006) session(913636620111056896)
2025-11-26T11:46:29.865+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"UtqxpJUdGQOa5exchPM7F+ME83Q6i1tSV1MOJZo=\"}"}
2025-11-26T11:46:29.871+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-26T11:46:29.871+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764128789871,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T11:46:30.040+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913636807055380480) MsgTFriendOpRet
2025-11-26T11:46:30.098+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-11-26T11:46:30.100+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913636807055380480) MsgTFriendOpRet
2025-11-26T11:46:30.169+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T11:46:30.170+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913636807055380480) MsgTFriendOpRet
2025-11-26T11:46:30.979+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:913634665393426432 chatType:ChatTypeP2P"}
2025-11-26T11:46:31.000+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T11:46:31.065+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913634665393426432 sendId:1142 recvOk:1764128790107 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:46:31.089+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913634254255165440) MsgTChatReply
2025-11-26T11:47:21.174+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(913636807055380480) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T11:47:21.175+0800	[34mINFO[0m	core/session.go:256	user(10006) session(913636807055380480)
2025-11-26T11:47:27.928+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"KWW/mrdQIYRmNGinvNrU9BIcRS4UFfp5x8nJo7s=\"}"}
2025-11-26T11:47:27.935+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-26T11:47:27.935+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764128847935,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T11:47:28.124+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913637050559893504) MsgTFriendOpRet
2025-11-26T11:47:28.185+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-11-26T11:47:28.186+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913637050559893504) MsgTFriendOpRet
2025-11-26T11:47:28.246+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T11:47:28.246+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913637050559893504) MsgTFriendOpRet
2025-11-26T11:47:29.051+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:913634665393426432 chatType:ChatTypeP2P"}
2025-11-26T11:47:29.067+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T11:47:29.090+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913634665393426432 sendId:1142 recvOk:1764128848172 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:47:29.115+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913634254255165440) MsgTChatReply
2025-11-26T11:48:04.237+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(913637050559893504) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T11:48:04.239+0800	[34mINFO[0m	core/session.go:256	user(10006) session(913637050559893504)
2025-11-26T11:48:23.047+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"4BG9oPxYhiql4Dabc2828hcMKEloVJbNTaUBGco=\"}"}
2025-11-26T11:48:23.049+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-26T11:48:23.051+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764128903049,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T11:48:23.195+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913637281871564800) MsgTFriendOpRet
2025-11-26T11:48:23.262+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-11-26T11:48:23.263+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913637281871564800) MsgTFriendOpRet
2025-11-26T11:48:23.308+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T11:48:23.308+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913637281871564800) MsgTFriendOpRet
2025-11-26T11:48:24.110+0800	[35mDEBUG[0m	core/chatmsghandler.go:481	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:913634665393426432 chatType:ChatTypeP2P"}
2025-11-26T11:48:24.131+0800	[35mDEBUG[0m	core/chatmsghandler.go:570	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T11:48:24.163+0800	[35mDEBUG[0m	core/chatmsghandler.go:361	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913634665393426432 sendId:1142 recvOk:1764128903239 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T11:48:24.179+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913634254255165440) MsgTChatReply
2025-11-26T11:48:37.704+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(913634254255165440) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T11:48:37.705+0800	[34mINFO[0m	core/session.go:256	user(10001) session(913634254255165440)
2025-11-26T11:48:44.102+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"I7U7Tgukh7g56ePp8OiJVYIlc1NfbWrYVGL+Jao=\"}"}
2025-11-26T11:48:44.104+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T11:48:44.105+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764128924104,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T11:48:55.772+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T11:48:55.773+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913637370274910208) MsgTFriendOpRet
2025-11-26T11:48:55.802+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T11:48:55.802+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913637370274910208) MsgTFriendOpRet
2025-11-26T11:49:55.816+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(913637370274910208) close here, because ws:readLoop() error, err=read tcp 192.168.1.2:7817->192.168.1.24:47216: i/o timeout
2025-11-26T11:49:55.818+0800	[34mINFO[0m	core/session.go:256	user(10001) session(913637370274910208)
2025-11-26T12:13:24.271+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(913637281871564800) close here, because ws:readLoop() error, err=read tcp 192.168.1.2:7817->192.168.1.14:37959: wsarecv: A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond.
2025-11-26T12:13:24.272+0800	[34mINFO[0m	core/session.go:256	user(10006) session(913637281871564800)
2025-11-26T12:37:24.262+0800	[34mINFO[0m	server/main.go:92	server started here...
2025-11-26T12:37:55.460+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"neKcDqZpgWjC1TWSYRy9DiIRDrmWxM4cEVx3Ak0=\"}"}
2025-11-26T12:37:55.669+0800	[35mDEBUG[0m	core/commonhelper.go:421	Load user permission list	{"user": 10006, "count": 0}
2025-11-26T12:37:55.671+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-26T12:37:55.671+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764131875671,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T12:37:55.760+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913649750241316864) MsgTFriendOpRet
2025-11-26T12:37:55.835+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*"},{"userId":10002,"nickName":"robin","email":"*","phone":"*"}]}
2025-11-26T12:37:55.838+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913649750241316864) MsgTFriendOpRet
2025-11-26T12:37:55.901+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"nickName":"yoyo","email":"*","phone":"*"}]}
2025-11-26T12:37:55.901+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913649750241316864) MsgTFriendOpRet
2025-11-26T12:37:56.018+0800	[35mDEBUG[0m	core/chatmsghandler.go:489	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:913634665393426432 chatType:ChatTypeP2P"}
2025-11-26T12:37:56.059+0800	[35mDEBUG[0m	core/chatmsghandler.go:578	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T12:37:56.126+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913634665393426432 sendId:1142 recvOk:1764131875425 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:37:56.181+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-11-26T12:38:10.496+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"vfg+nfFqEE5gykDqgwZeWdzJTBBTOPf5EMU+iy0=\"}"}
2025-11-26T12:38:10.498+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T12:38:10.498+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764131890498,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T12:38:10.575+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*"},{"userId":10005,"nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T12:38:10.575+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913649813709524992) MsgTFriendOpRet
2025-11-26T12:38:10.611+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T12:38:10.612+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913649813709524992) MsgTFriendOpRet
2025-11-26T12:38:10.648+0800	[35mDEBUG[0m	core/chatmsghandler.go:489	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:913634665393426432 chatType:ChatTypeP2P"}
2025-11-26T12:38:10.665+0800	[35mDEBUG[0m	core/chatmsghandler.go:578	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T12:38:20.723+0800	[35mDEBUG[0m	core/chatmsghandler.go:123	receive chat msg(1181) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913649857087016960, userId: 10006, fromId: 10006, toId: 10001, tm: 1764131899998 (time: 2025-11-26 12:38:19), devId: \"BEF2A06F75075BC9\", sendId: 1181, msgType: TEXT, data: \"3\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T12:38:20.782+0800	[35mDEBUG[0m	core/chatmsghandler.go:248	send back reply 'save data ok'
2025-11-26T12:38:20.782+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913649813709524992) MsgTChatMsg
2025-11-26T12:38:20.915+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913649857087016960 sendId:1181 recvOk:1764131900207 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:38:20.943+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913649750241316864) MsgTChatReply
2025-11-26T12:38:21.004+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913634665393426432 sendId:1142 recvOk:1764131900350 readOk:1764131900350 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:38:21.037+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913649813709524992) MsgTChatReply
2025-11-26T12:38:24.090+0800	[35mDEBUG[0m	core/chatmsghandler.go:123	receive chat msg(1182) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913649871209238528, userId: 10006, fromId: 10006, toId: 10001, tm: 1764131903400 (time: 2025-11-26 12:38:23), devId: \"BEF2A06F75075BC9\", sendId: 1182, msgType: TEXT, data: \"4\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T12:38:24.110+0800	[35mDEBUG[0m	core/chatmsghandler.go:248	send back reply 'save data ok'
2025-11-26T12:38:24.111+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913649813709524992) MsgTChatMsg
2025-11-26T12:38:24.247+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913649871209238528 sendId:1182 recvOk:1764131903585 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:38:24.266+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913649750241316864) MsgTChatReply
2025-11-26T12:38:27.967+0800	[35mDEBUG[0m	core/chatmsghandler.go:123	receive chat msg(1183) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913649887470555136, userId: 10006, fromId: 10006, toId: 10001, tm: 1764131907275 (time: 2025-11-26 12:38:27), devId: \"BEF2A06F75075BC9\", sendId: 1183, msgType: TEXT, data: \"5\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T12:38:27.982+0800	[35mDEBUG[0m	core/chatmsghandler.go:248	send back reply 'save data ok'
2025-11-26T12:38:27.983+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913649813709524992) MsgTChatMsg
2025-11-26T12:38:28.048+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913649887470555136 sendId:1183 recvOk:1764131907372 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:38:28.066+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913649750241316864) MsgTChatReply
2025-11-26T12:38:47.395+0800	[35mDEBUG[0m	core/chatmsghandler.go:123	receive chat msg(1184) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913649968957493248, userId: 10006, fromId: 10006, toId: 10001, tm: 1764131926711 (time: 2025-11-26 12:38:46), devId: \"BEF2A06F75075BC9\", sendId: 1184, msgType: TEXT, data: \"6\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T12:38:47.402+0800	[35mDEBUG[0m	core/chatmsghandler.go:248	send back reply 'save data ok'
2025-11-26T12:38:47.403+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913649813709524992) MsgTChatMsg
2025-11-26T12:38:47.546+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913649968957493248 sendId:1184 recvOk:1764131926834 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:38:47.569+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913649750241316864) MsgTChatReply
2025-11-26T12:38:47.999+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913631063488729088 sendId:913631063132213248 recvOk:1764131927332 readOk:1764131927332 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:38:48.018+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913649750241316864) MsgTChatReply
2025-11-26T12:38:48.069+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913649857087016960 sendId:1181 recvOk:1764131927336 readOk:1764131927336 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:38:48.096+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913649750241316864) MsgTChatReply
2025-11-26T12:38:48.173+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913649871209238528 sendId:1182 recvOk:1764131927338 readOk:1764131927338 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:38:48.195+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913649750241316864) MsgTChatReply
2025-11-26T12:38:48.207+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913649887470555136 sendId:1183 recvOk:1764131927340 readOk:1764131927340 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:38:48.226+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913649750241316864) MsgTChatReply
2025-11-26T12:38:48.266+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913649968957493248 sendId:1184 recvOk:1764131927342 readOk:1764131927342 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:38:48.297+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913649750241316864) MsgTChatReply
2025-11-26T12:38:52.690+0800	[35mDEBUG[0m	core/chatmsghandler.go:123	receive chat msg(1185) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913649991162138624, userId: 10006, fromId: 10006, toId: 10001, tm: 1764131932026 (time: 2025-11-26 12:38:52), devId: \"BEF2A06F75075BC9\", sendId: 1185, msgType: TEXT, data: \"7\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T12:38:52.717+0800	[35mDEBUG[0m	core/chatmsghandler.go:248	send back reply 'save data ok'
2025-11-26T12:38:52.718+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913649813709524992) MsgTChatMsg
2025-11-26T12:38:52.807+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913649991162138624 sendId:1185 recvOk:1764131932144 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:38:52.823+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913649750241316864) MsgTChatReply
2025-11-26T12:38:53.373+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913649991162138624 sendId:1185 recvOk:1764131932650 readOk:1764131932650 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:38:53.419+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913649750241316864) MsgTChatReply
2025-11-26T12:38:55.856+0800	[35mDEBUG[0m	core/chatmsghandler.go:123	receive chat msg(1186) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913650004445499392, userId: 10006, fromId: 10006, toId: 10001, tm: 1764131935185 (time: 2025-11-26 12:38:55), devId: \"BEF2A06F75075BC9\", sendId: 1186, msgType: TEXT, data: \"8\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T12:38:55.870+0800	[35mDEBUG[0m	core/chatmsghandler.go:248	send back reply 'save data ok'
2025-11-26T12:38:55.870+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913649813709524992) MsgTChatMsg
2025-11-26T12:38:56.005+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913650004445499392 sendId:1186 recvOk:1764131935329 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:38:56.020+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913649750241316864) MsgTChatReply
2025-11-26T12:38:56.518+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913650004445499392 sendId:1186 recvOk:1764131935849 readOk:1764131935849 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:38:56.547+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913649750241316864) MsgTChatReply
2025-11-26T12:38:59.087+0800	[35mDEBUG[0m	core/chatmsghandler.go:123	receive chat msg(1187) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913650017997295616, userId: 10006, fromId: 10006, toId: 10001, tm: 1764131938378 (time: 2025-11-26 12:38:58), devId: \"BEF2A06F75075BC9\", sendId: 1187, msgType: TEXT, data: \"9\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T12:38:59.099+0800	[35mDEBUG[0m	core/chatmsghandler.go:248	send back reply 'save data ok'
2025-11-26T12:38:59.099+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913649813709524992) MsgTChatMsg
2025-11-26T12:38:59.194+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913650017997295616 sendId:1187 recvOk:1764131938501 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:38:59.211+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913649750241316864) MsgTChatReply
2025-11-26T12:38:59.718+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913650017997295616 sendId:1187 recvOk:1764131939000 readOk:1764131939000 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:38:59.758+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913649750241316864) MsgTChatReply
2025-11-26T12:40:07.351+0800	[35mDEBUG[0m	core/chatmsghandler.go:123	receive chat msg(1188) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913650304317263872, userId: 10006, fromId: 10006, toId: 10001, tm: 1764132006643 (time: 2025-11-26 12:40:06), devId: \"BEF2A06F75075BC9\", sendId: 1188, msgType: TEXT, data: \"10\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T12:40:07.373+0800	[35mDEBUG[0m	core/chatmsghandler.go:248	send back reply 'save data ok'
2025-11-26T12:40:07.374+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913649813709524992) MsgTChatMsg
2025-11-26T12:40:07.502+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913650304317263872 sendId:1188 recvOk:1764132006807 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:40:07.519+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913649750241316864) MsgTChatReply
2025-11-26T12:40:17.376+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913650304317263872 sendId:1188 recvOk:1764132016716 readOk:1764132016716 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:40:17.401+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913649750241316864) MsgTChatReply
2025-11-26T12:40:26.576+0800	[35mDEBUG[0m	core/chatmsghandler.go:123	receive chat msg(1189) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913650384952758272, userId: 10006, fromId: 10006, toId: 10001, tm: 1764132025859 (time: 2025-11-26 12:40:25), devId: \"BEF2A06F75075BC9\", sendId: 1189, msgType: TEXT, data: \"11\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T12:40:26.600+0800	[35mDEBUG[0m	core/chatmsghandler.go:248	send back reply 'save data ok'
2025-11-26T12:40:26.601+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913649813709524992) MsgTChatMsg
2025-11-26T12:40:26.741+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913650384952758272 sendId:1189 recvOk:1764132026061 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:40:26.765+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913649750241316864) MsgTChatReply
2025-11-26T12:40:27.255+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913650384952758272 sendId:1189 recvOk:1764132026546 readOk:1764132026546 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:40:27.300+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913649750241316864) MsgTChatReply
2025-11-26T12:40:29.869+0800	[35mDEBUG[0m	core/chatmsghandler.go:123	receive chat msg(1190) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913650398764601344, userId: 10006, fromId: 10006, toId: 10001, tm: 1764132029188 (time: 2025-11-26 12:40:29), devId: \"BEF2A06F75075BC9\", sendId: 1190, msgType: TEXT, data: \"12\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T12:40:29.892+0800	[35mDEBUG[0m	core/chatmsghandler.go:248	send back reply 'save data ok'
2025-11-26T12:40:29.894+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913649813709524992) MsgTChatMsg
2025-11-26T12:40:30.044+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913650398764601344 sendId:1190 recvOk:1764132029332 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:40:30.071+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913649750241316864) MsgTChatReply
2025-11-26T12:40:30.552+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913650398764601344 sendId:1190 recvOk:1764132029847 readOk:1764132029847 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:40:30.572+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913649750241316864) MsgTChatReply
2025-11-26T12:46:16.960+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(913649750241316864) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T12:46:16.962+0800	[34mINFO[0m	core/session.go:256	user(10006) session(913649750241316864)
2025-11-26T12:46:21.400+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"Jfg5fqLP32BIT53reNMfX0Ew+CN3OpbVdB8Uv6Q=\"}"}
2025-11-26T12:46:21.402+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-26T12:46:21.404+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764132381402,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T12:46:21.450+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913651872370397184) MsgTFriendOpRet
2025-11-26T12:46:21.515+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-11-26T12:46:21.515+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913651872370397184) MsgTFriendOpRet
2025-11-26T12:46:21.560+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T12:46:21.560+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913651872370397184) MsgTFriendOpRet
2025-11-26T12:46:21.704+0800	[35mDEBUG[0m	core/chatmsghandler.go:489	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:913650398764601344 chatType:ChatTypeP2P"}
2025-11-26T12:46:21.718+0800	[35mDEBUG[0m	core/chatmsghandler.go:578	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T12:46:32.914+0800	[35mDEBUG[0m	core/chatmsghandler.go:123	receive chat msg(1201) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913651921485697024, userId: 10006, fromId: 10006, toId: 10001, tm: 1764132392209 (time: 2025-11-26 12:46:32), devId: \"BEF2A06F75075BC9\", sendId: 1201, msgType: TEXT, data: \"13\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T12:46:32.935+0800	[35mDEBUG[0m	core/chatmsghandler.go:248	send back reply 'save data ok'
2025-11-26T12:46:32.936+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913649813709524992) MsgTChatMsg
2025-11-26T12:46:33.028+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913651921485697024 sendId:1201 recvOk:1764132392345 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:46:33.046+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913651872370397184) MsgTChatReply
2025-11-26T12:47:05.289+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(913651872370397184) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T12:47:05.290+0800	[34mINFO[0m	core/session.go:256	user(10006) session(913651872370397184)
2025-11-26T12:49:07.609+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"HGNS5/9zningLEYE+kWTRkbltF9jvoIBGbAkHxY=\"}"}
2025-11-26T12:49:07.614+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-26T12:49:07.615+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764132547613,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T12:49:07.659+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913652569472110592) MsgTFriendOpRet
2025-11-26T12:49:07.718+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-11-26T12:49:07.718+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913652569472110592) MsgTFriendOpRet
2025-11-26T12:49:07.782+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T12:49:07.789+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913652569472110592) MsgTFriendOpRet
2025-11-26T12:49:07.914+0800	[35mDEBUG[0m	core/chatmsghandler.go:489	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:913651921485697024 chatType:ChatTypeP2P"}
2025-11-26T12:49:07.939+0800	[35mDEBUG[0m	core/chatmsghandler.go:578	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T12:49:17.267+0800	[35mDEBUG[0m	core/chatmsghandler.go:123	receive chat msg(1221) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913652610832142336, userId: 10006, fromId: 10006, toId: 10001, tm: 1764132555992 (time: 2025-11-26 12:49:15), devId: \"BEF2A06F75075BC9\", sendId: 1221, msgType: TEXT, data: \"14\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T12:49:17.277+0800	[35mDEBUG[0m	core/chatmsghandler.go:248	send back reply 'save data ok'
2025-11-26T12:49:17.278+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913649813709524992) MsgTChatMsg
2025-11-26T12:49:17.407+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913652610832142336 sendId:1221 recvOk:1764132556701 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:49:17.422+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913652569472110592) MsgTChatReply
2025-11-26T12:49:20.507+0800	[35mDEBUG[0m	core/chatmsghandler.go:123	receive chat msg(1222) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913652624421687296, userId: 10006, fromId: 10006, toId: 10001, tm: 1764132559214 (time: 2025-11-26 12:49:19), devId: \"BEF2A06F75075BC9\", sendId: 1222, msgType: TEXT, data: \"15\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T12:49:20.521+0800	[35mDEBUG[0m	core/chatmsghandler.go:248	send back reply 'save data ok'
2025-11-26T12:49:20.521+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913649813709524992) MsgTChatMsg
2025-11-26T12:49:20.629+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913652624421687296 sendId:1222 recvOk:1764132559974 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:49:20.649+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913652569472110592) MsgTChatReply
2025-11-26T12:49:26.027+0800	[35mDEBUG[0m	core/chatmsghandler.go:123	receive chat msg(1223) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913652647574245376, userId: 10006, fromId: 10006, toId: 10001, tm: 1764132564754 (time: 2025-11-26 12:49:24), devId: \"BEF2A06F75075BC9\", sendId: 1223, msgType: TEXT, data: \"16\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T12:49:26.048+0800	[35mDEBUG[0m	core/chatmsghandler.go:248	send back reply 'save data ok'
2025-11-26T12:49:26.048+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913649813709524992) MsgTChatMsg
2025-11-26T12:49:26.183+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913652647574245376 sendId:1223 recvOk:1764132565508 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:49:26.205+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913652569472110592) MsgTChatReply
2025-11-26T12:49:29.128+0800	[35mDEBUG[0m	core/chatmsghandler.go:123	receive chat msg(1224) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913652660580782080, userId: 10006, fromId: 10006, toId: 10001, tm: 1764132567851 (time: 2025-11-26 12:49:27), devId: \"BEF2A06F75075BC9\", sendId: 1224, msgType: TEXT, data: \"17\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T12:49:29.155+0800	[35mDEBUG[0m	core/chatmsghandler.go:248	send back reply 'save data ok'
2025-11-26T12:49:29.157+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913649813709524992) MsgTChatMsg
2025-11-26T12:49:29.266+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913652660580782080 sendId:1224 recvOk:1764132568578 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:49:29.299+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913652569472110592) MsgTChatReply
2025-11-26T12:49:32.398+0800	[35mDEBUG[0m	core/chatmsghandler.go:123	receive chat msg(1225) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913652674296156160, userId: 10006, fromId: 10006, toId: 10001, tm: 1764132571126 (time: 2025-11-26 12:49:31), devId: \"BEF2A06F75075BC9\", sendId: 1225, msgType: TEXT, data: \"18\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T12:49:32.419+0800	[35mDEBUG[0m	core/chatmsghandler.go:248	send back reply 'save data ok'
2025-11-26T12:49:32.420+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913649813709524992) MsgTChatMsg
2025-11-26T12:49:32.529+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913652674296156160 sendId:1225 recvOk:1764132571854 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:49:32.545+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913652569472110592) MsgTChatReply
2025-11-26T12:49:35.781+0800	[35mDEBUG[0m	core/chatmsghandler.go:123	receive chat msg(1226) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913652688485486592, userId: 10006, fromId: 10006, toId: 10001, tm: 1764132574485 (time: 2025-11-26 12:49:34), devId: \"BEF2A06F75075BC9\", sendId: 1226, msgType: TEXT, data: \"19\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T12:49:35.804+0800	[35mDEBUG[0m	core/chatmsghandler.go:248	send back reply 'save data ok'
2025-11-26T12:49:35.805+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913649813709524992) MsgTChatMsg
2025-11-26T12:49:35.921+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913652688485486592 sendId:1226 recvOk:1764132575232 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:49:35.941+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913652569472110592) MsgTChatReply
2025-11-26T12:49:40.672+0800	[35mDEBUG[0m	core/chatmsghandler.go:123	receive chat msg(1227) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913652708999827456, userId: 10006, fromId: 10006, toId: 10001, tm: 1764132579367 (time: 2025-11-26 12:49:39), devId: \"BEF2A06F75075BC9\", sendId: 1227, msgType: TEXT, data: \"20\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T12:49:40.688+0800	[35mDEBUG[0m	core/chatmsghandler.go:248	send back reply 'save data ok'
2025-11-26T12:49:40.689+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913649813709524992) MsgTChatMsg
2025-11-26T12:49:40.802+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913652708999827456 sendId:1227 recvOk:1764132580151 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:49:40.815+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913652569472110592) MsgTChatReply
2025-11-26T12:50:14.151+0800	[35mDEBUG[0m	core/chatmsghandler.go:123	receive chat msg(1228) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913652849420931072, userId: 10006, fromId: 10006, toId: 10001, tm: 1764132612884 (time: 2025-11-26 12:50:12), devId: \"BEF2A06F75075BC9\", sendId: 1228, msgType: TEXT, data: \"21\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T12:50:14.177+0800	[35mDEBUG[0m	core/chatmsghandler.go:248	send back reply 'save data ok'
2025-11-26T12:50:14.178+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913649813709524992) MsgTChatMsg
2025-11-26T12:50:14.322+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913652849420931072 sendId:1228 recvOk:1764132613640 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:50:14.345+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913652569472110592) MsgTChatReply
2025-11-26T12:50:17.080+0800	[35mDEBUG[0m	core/chatmsghandler.go:123	receive chat msg(1229) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913652861706047488, userId: 10006, fromId: 10006, toId: 10001, tm: 1764132615804 (time: 2025-11-26 12:50:15), devId: \"BEF2A06F75075BC9\", sendId: 1229, msgType: TEXT, data: \"22\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T12:50:17.107+0800	[35mDEBUG[0m	core/chatmsghandler.go:248	send back reply 'save data ok'
2025-11-26T12:50:17.109+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913649813709524992) MsgTChatMsg
2025-11-26T12:50:17.199+0800	[35mDEBUG[0m	core/chatmsghandler.go:369	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913652861706047488 sendId:1229 recvOk:1764132616499 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:50:17.232+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913652569472110592) MsgTChatReply
2025-11-26T12:50:29.587+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(913652569472110592) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T12:50:29.591+0800	[34mINFO[0m	core/session.go:256	user(10006) session(913652569472110592)
2025-11-26T12:52:17.281+0800	[34mINFO[0m	server/main.go:92	server started here...
2025-11-26T12:52:18.221+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"cm8cqdokqVjtxTXeTbkP7rC9u1C5TYlemX9DOwE=\"}"}
2025-11-26T12:52:18.383+0800	[35mDEBUG[0m	core/commonhelper.go:421	Load user permission list	{"user": 10001, "count": 0}
2025-11-26T12:52:18.383+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T12:52:18.383+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764132738383,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T12:52:18.508+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"nickName":"robin","email":"*","phone":"*"},{"userId":10004,"nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*"},{"userId":10005,"nickName":"robin","email":"*","phone":"*"},{"userId":10006,"nickName":"robin fox","email":"*","phone":"*"},{"userId":10007,"nickName":"yoyo","email":"*","phone":"*"}]}
2025-11-26T12:52:18.508+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913653369510432768) MsgTFriendOpRet
2025-11-26T12:52:18.583+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T12:52:18.584+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913653369510432768) MsgTFriendOpRet
2025-11-26T12:53:14.719+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913651921485697024 sendId:1201 recvOk:1764132794055 readOk:1764132794055 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:53:14.749+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-26T12:53:14.773+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913652610832142336 sendId:1221 recvOk:1764132794058 readOk:1764132794058 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:53:14.793+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-26T12:53:14.857+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913652624421687296 sendId:1222 recvOk:1764132794059 readOk:1764132794059 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:53:14.869+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-26T12:53:14.942+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913652647574245376 sendId:1223 recvOk:1764132794060 readOk:1764132794060 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:53:14.961+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-26T12:53:14.962+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913652660580782080 sendId:1224 recvOk:1764132794062 readOk:1764132794062 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:53:14.976+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-26T12:53:15.017+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913652674296156160 sendId:1225 recvOk:1764132794063 readOk:1764132794063 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:53:15.037+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-26T12:53:15.038+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913652688485486592 sendId:1226 recvOk:1764132794064 readOk:1764132794064 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:53:15.052+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-26T12:53:15.098+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913652708999827456 sendId:1227 recvOk:1764132794065 readOk:1764132794065 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:53:15.113+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-26T12:53:15.161+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913652849420931072 sendId:1228 recvOk:1764132794066 readOk:1764132794066 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:53:15.179+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-26T12:53:15.247+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913652861706047488 sendId:1229 recvOk:1764132794066 readOk:1764132794066 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:53:15.267+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-26T12:53:21.711+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(913653369510432768) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T12:53:21.712+0800	[34mINFO[0m	core/session.go:256	user(10001) session(913653369510432768)
2025-11-26T12:53:22.906+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"D1HSY7/QSWqU78vMiHzNDy/RbbA/7t2YVzd545s=\"}"}
2025-11-26T12:53:22.908+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T12:53:22.908+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764132802908,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T12:53:22.952+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T12:53:22.953+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913653640781238272) MsgTFriendOpRet
2025-11-26T12:53:23.014+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T12:53:23.016+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913653640781238272) MsgTFriendOpRet
2025-11-26T12:53:23.047+0800	[35mDEBUG[0m	core/chatmsghandler.go:490	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:913652861706047488 chatType:ChatTypeP2P"}
2025-11-26T12:53:23.077+0800	[35mDEBUG[0m	core/chatmsghandler.go:579	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T12:53:23.099+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913652861706047488 sendId:1229 recvOk:1764132802440 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:53:23.140+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-26T12:53:48.074+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1161) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913653746679025664, userId: 10001, fromId: 10001, toId: 10006, tm: 1764132827397 (time: 2025-11-26 12:53:47), devId: \"47FCC883FB83DD2D\", sendId: 1161, msgType: TEXT, data: \"23\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T12:53:48.138+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T12:53:48.138+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-26T12:53:58.027+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"c3dnnhhF5XTexi228kI3+SkurlPJpUoAb4uHy7I=\"}"}
2025-11-26T12:53:58.029+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-26T12:53:58.029+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764132838029,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T12:53:58.078+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913653787955171328) MsgTFriendOpRet
2025-11-26T12:53:58.151+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-11-26T12:53:58.152+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913653787955171328) MsgTFriendOpRet
2025-11-26T12:53:58.199+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T12:53:58.200+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913653787955171328) MsgTFriendOpRet
2025-11-26T12:53:58.229+0800	[35mDEBUG[0m	core/chatmsghandler.go:490	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:913652861706047488 chatType:ChatTypeP2P"}
2025-11-26T12:53:58.246+0800	[35mDEBUG[0m	core/chatmsghandler.go:579	onQueryP2PChatData:	{"msg count:": 2}
2025-11-26T12:53:58.281+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913653746679025664 sendId:1161 recvOk:1764132837003 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:53:58.295+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913653640781238272) MsgTChatReply
2025-11-26T12:54:18.563+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1162) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913653874559160320, userId: 10001, fromId: 10001, toId: 10006, tm: 1764132857895 (time: 2025-11-26 12:54:17), devId: \"47FCC883FB83DD2D\", sendId: 1162, msgType: TEXT, data: \"24\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T12:54:18.575+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T12:54:18.576+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913653787955171328) MsgTChatMsg
2025-11-26T12:54:18.747+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913653874559160320 sendId:1162 recvOk:1764132857441 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:54:18.765+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913653640781238272) MsgTChatReply
2025-11-26T12:54:19.006+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913653746679025664 sendId:1161 recvOk:1764132857737 readOk:1764132857737 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:54:19.027+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913653640781238272) MsgTChatReply
2025-11-26T12:54:19.051+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913653874559160320 sendId:1162 recvOk:1764132857738 readOk:1764132857738 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:54:19.073+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913653640781238272) MsgTChatReply
2025-11-26T12:54:23.180+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1163) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913653893924261888, userId: 10001, fromId: 10001, toId: 10006, tm: 1764132862476 (time: 2025-11-26 12:54:22), devId: \"47FCC883FB83DD2D\", sendId: 1163, msgType: TEXT, data: \"25\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T12:54:23.199+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T12:54:23.199+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913653787955171328) MsgTChatMsg
2025-11-26T12:54:23.339+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913653893924261888 sendId:1163 recvOk:1764132862065 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:54:23.359+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913653640781238272) MsgTChatReply
2025-11-26T12:54:23.590+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913653893924261888 sendId:1163 recvOk:1764132862322 readOk:1764132862322 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:54:23.604+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913653640781238272) MsgTChatReply
2025-11-26T12:54:29.089+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1164) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913653918708404224, userId: 10001, fromId: 10001, toId: 10006, tm: 1764132868418 (time: 2025-11-26 12:54:28), devId: \"47FCC883FB83DD2D\", sendId: 1164, msgType: TEXT, data: \"26\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T12:54:29.099+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T12:54:29.099+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913653787955171328) MsgTChatMsg
2025-11-26T12:54:29.208+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913653918708404224 sendId:1164 recvOk:1764132867904 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:54:29.225+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913653640781238272) MsgTChatReply
2025-11-26T12:54:29.461+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913653918708404224 sendId:1164 recvOk:1764132868189 readOk:1764132868189 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:54:29.477+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913653640781238272) MsgTChatReply
2025-11-26T12:55:14.373+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1165) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913654108643266560, userId: 10001, fromId: 10001, toId: 10006, tm: 1764132913693 (time: 2025-11-26 12:55:13), devId: \"47FCC883FB83DD2D\", sendId: 1165, msgType: TEXT, data: \"27\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T12:55:14.383+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T12:55:14.383+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913653787955171328) MsgTChatMsg
2025-11-26T12:55:14.556+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913654108643266560 sendId:1165 recvOk:1764132913262 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:55:14.572+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913653640781238272) MsgTChatReply
2025-11-26T12:55:14.917+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913654108643266560 sendId:1165 recvOk:1764132913647 readOk:1764132913647 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:55:14.931+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913653640781238272) MsgTChatReply
2025-11-26T12:55:18.381+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1166) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913654125454036992, userId: 10001, fromId: 10001, toId: 10006, tm: 1764132917691 (time: 2025-11-26 12:55:17), devId: \"47FCC883FB83DD2D\", sendId: 1166, msgType: TEXT, data: \"28\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T12:55:18.399+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T12:55:18.399+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913653787955171328) MsgTChatMsg
2025-11-26T12:55:18.527+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913654125454036992 sendId:1166 recvOk:1764132917261 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:55:18.540+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913653640781238272) MsgTChatReply
2025-11-26T12:55:18.849+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913654125454036992 sendId:1166 recvOk:1764132917583 readOk:1764132917583 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:55:18.870+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913653640781238272) MsgTChatReply
2025-11-26T12:55:22.070+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1167) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913654140926824448, userId: 10001, fromId: 10001, toId: 10006, tm: 1764132921355 (time: 2025-11-26 12:55:21), devId: \"47FCC883FB83DD2D\", sendId: 1167, msgType: TEXT, data: \"29\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T12:55:22.080+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T12:55:22.080+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913653787955171328) MsgTChatMsg
2025-11-26T12:55:22.202+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913654140926824448 sendId:1167 recvOk:1764132920945 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:55:22.214+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913653640781238272) MsgTChatReply
2025-11-26T12:55:22.511+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913654140926824448 sendId:1167 recvOk:1764132921256 readOk:1764132921256 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:55:22.524+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913653640781238272) MsgTChatReply
2025-11-26T12:55:25.404+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1168) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913654154910633984, userId: 10001, fromId: 10001, toId: 10006, tm: 1764132924728 (time: 2025-11-26 12:55:24), devId: \"47FCC883FB83DD2D\", sendId: 1168, msgType: TEXT, data: \"30\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T12:55:25.415+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T12:55:25.416+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913653787955171328) MsgTChatMsg
2025-11-26T12:55:25.489+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913654154910633984 sendId:1168 recvOk:1764132924219 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:55:25.513+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913653640781238272) MsgTChatReply
2025-11-26T12:55:25.967+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913654154910633984 sendId:1168 recvOk:1764132924673 readOk:1764132924673 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T12:55:25.991+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913653640781238272) MsgTChatReply
2025-11-26T13:14:37.353+0800	[34mINFO[0m	server/main.go:92	server started here...
2025-11-26T13:14:43.858+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"Ow50CGqmWFtgMgaxWPYgznx5q3B92u2LcJr6EeA=\"}"}
2025-11-26T13:14:44.025+0800	[35mDEBUG[0m	core/commonhelper.go:421	Load user permission list	{"user": 10001, "count": 0}
2025-11-26T13:14:44.026+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T13:14:44.027+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764134084026,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T13:14:44.149+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"nickName":"robin","email":"*","phone":"*"},{"userId":10004,"nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*"},{"userId":10005,"nickName":"robin","email":"*","phone":"*"},{"userId":10006,"nickName":"robin fox","email":"*","phone":"*"},{"userId":10007,"nickName":"yoyo","email":"*","phone":"*"}]}
2025-11-26T13:14:44.149+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913659013416226816) MsgTFriendOpRet
2025-11-26T13:14:44.257+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T13:14:44.257+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913659013416226816) MsgTFriendOpRet
2025-11-26T13:22:03.911+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"WNj+K8e4m38fKf+koShAyfLEYei2pt4cx0g87NY=\"}"}
2025-11-26T13:22:03.911+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-26T13:22:03.911+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764134523911,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T13:22:04.032+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-11-26T13:22:04.033+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913660859295862784) MsgTFriendOpRet
2025-11-26T13:22:04.079+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T13:22:04.079+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913660859295862784) MsgTFriendOpRet
2025-11-26T13:25:28.632+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "mmexport1764073105556.jpg", "hash": "b2eefc4b89f94707ad0da823743342f7", "send id": 1169}
2025-11-26T13:25:28.687+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "mmexport1764073105556.jpg", "hash": "b2eefc4b89f94707ad0da823743342f7", "send id": 1169}
2025-11-26T13:25:28.705+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "mmexport1764073105556.jpg", "hash": "b2eefc4b89f94707ad0da823743342f7", "send id": 1169}
2025-11-26T13:25:28.888+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "mmexport1764073105556.jpg", "hash": "", "send id": 1169}
2025-11-26T13:25:28.888+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:25:28.920+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "mmexport1764073105556.jpg", "hash": "", "send id": 1169}
2025-11-26T13:25:28.920+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:25:29.000+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1169) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913661719740551168, userId: 10001, fromId: 10001, toId: 10006, tm: 1764134728318 (time: 2025-11-26 13:25:28), devId: \"47FCC883FB83DD2D\", sendId: 1169, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/3zi18u3l5inm.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/3zi18u3l5inm.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T13:25:29.052+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T13:25:29.052+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913660859295862784) MsgTChatMsg
2025-11-26T13:25:29.103+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1169) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913661720172564480, userId: 10001, fromId: 10001, toId: 10006, tm: 1764134728433 (time: 2025-11-26 13:25:28), devId: \"47FCC883FB83DD2D\", sendId: 1169, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/3zi18u3l5inm.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/3zi18u3l5inm.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T13:25:29.117+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T13:25:29.117+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913660859295862784) MsgTChatMsg
2025-11-26T13:25:29.188+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913661719740551168 sendId:1169 recvOk:1764134727914 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:25:29.217+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913659013416226816) MsgTChatReply
2025-11-26T13:25:29.342+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913661720172564480 sendId:1169 recvOk:1764134728075 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:25:29.367+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913659013416226816) MsgTChatReply
2025-11-26T13:25:29.952+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913661719740551168 sendId:1169 recvOk:1764134728672 readOk:1764134728672 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:25:29.982+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913659013416226816) MsgTChatReply
2025-11-26T13:25:30.006+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913661720172564480 sendId:1169 recvOk:1764134728673 readOk:1764134728673 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:25:30.027+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913659013416226816) MsgTChatReply
2025-11-26T13:28:38.393+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(913659013416226816) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T13:28:38.395+0800	[34mINFO[0m	core/session.go:256	user(10001) session(913659013416226816)
2025-11-26T13:28:39.756+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"MUtpVEFQEzyvmn6WsS6ToLfhp3Tz4cbxUX+Nv/c=\"}"}
2025-11-26T13:28:39.759+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T13:28:39.759+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764134919759,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T13:28:39.811+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T13:28:39.811+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913662519485272064) MsgTFriendOpRet
2025-11-26T13:28:39.859+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T13:28:39.859+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913662519485272064) MsgTFriendOpRet
2025-11-26T13:28:39.915+0800	[35mDEBUG[0m	core/chatmsghandler.go:490	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:913661719740551168 chatType:ChatTypeP2P"}
2025-11-26T13:28:39.943+0800	[35mDEBUG[0m	core/chatmsghandler.go:579	onQueryP2PChatData:	{"msg count:": 2}
2025-11-26T13:28:48.050+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1181}
2025-11-26T13:28:48.116+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1181}
2025-11-26T13:28:48.188+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1181}
2025-11-26T13:28:48.264+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1181}
2025-11-26T13:28:48.347+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1181}
2025-11-26T13:28:48.444+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1181}
2025-11-26T13:28:48.551+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1181}
2025-11-26T13:28:48.632+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1181}
2025-11-26T13:28:48.700+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1181}
2025-11-26T13:28:48.770+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1181}
2025-11-26T13:28:48.826+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1181}
2025-11-26T13:28:48.887+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1181}
2025-11-26T13:28:48.953+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1181}
2025-11-26T13:28:49.008+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1181}
2025-11-26T13:28:49.058+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1181}
2025-11-26T13:28:49.111+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1181}
2025-11-26T13:28:49.123+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1181}
2025-11-26T13:28:49.174+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "", "send id": 1181}
2025-11-26T13:28:49.175+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:28:49.218+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "", "send id": 1181}
2025-11-26T13:28:49.218+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:28:49.273+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "", "send id": 1181}
2025-11-26T13:28:49.274+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:28:49.317+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "", "send id": 1181}
2025-11-26T13:28:49.319+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:28:49.362+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "", "send id": 1181}
2025-11-26T13:28:49.363+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:28:49.406+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "", "send id": 1181}
2025-11-26T13:28:49.407+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:28:49.457+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "", "send id": 1181}
2025-11-26T13:28:49.463+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:28:49.501+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "", "send id": 1181}
2025-11-26T13:28:49.504+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:28:49.531+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "", "send id": 1181}
2025-11-26T13:28:49.534+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:28:49.573+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "", "send id": 1181}
2025-11-26T13:28:49.573+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:28:49.625+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "", "send id": 1181}
2025-11-26T13:28:49.625+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:28:49.682+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "", "send id": 1181}
2025-11-26T13:28:49.682+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:28:49.733+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "", "send id": 1181}
2025-11-26T13:28:49.733+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:28:49.778+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "", "send id": 1181}
2025-11-26T13:28:49.778+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:28:49.833+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "", "send id": 1181}
2025-11-26T13:28:49.833+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:28:49.841+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "", "send id": 1181}
2025-11-26T13:28:49.841+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:28:49.842+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1181) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913662562132955136, userId: 10001, fromId: 10001, toId: 10006, tm: 1764134928967 (time: 2025-11-26 13:28:48), devId: \"47FCC883FB83DD2D\", sendId: 1181, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/r04d2ugv00no.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/r04d2ugv00no.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T13:28:49.863+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T13:28:49.865+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913660859295862784) MsgTChatMsg
2025-11-26T13:28:49.865+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1181) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913662562229424128, userId: 10001, fromId: 10001, toId: 10006, tm: 1764134929178 (time: 2025-11-26 13:28:49), devId: \"47FCC883FB83DD2D\", sendId: 1181, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/r04d2ugv00no.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/r04d2ugv00no.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T13:28:49.877+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T13:28:49.877+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913660859295862784) MsgTChatMsg
2025-11-26T13:28:50.093+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913662562132955136 sendId:1181 recvOk:1764134928807 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:28:50.117+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913662519485272064) MsgTChatReply
2025-11-26T13:28:50.296+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913662562229424128 sendId:1181 recvOk:1764134929017 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:28:50.312+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913662519485272064) MsgTChatReply
2025-11-26T13:28:51.086+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913662562132955136 sendId:1181 recvOk:1764134929759 readOk:1764134929759 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:28:51.103+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913662519485272064) MsgTChatReply
2025-11-26T13:28:51.685+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913662562229424128 sendId:1181 recvOk:1764134930407 readOk:1764134930407 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:28:51.725+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913662519485272064) MsgTChatReply
2025-11-26T13:30:17.184+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(913662519485272064) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T13:30:17.185+0800	[34mINFO[0m	core/session.go:256	user(10001) session(913662519485272064)
2025-11-26T13:38:41.937+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"N+FFEoLUl11yrY14LrNjttp4BhsUrn+XtjBMZ8A=\"}"}
2025-11-26T13:38:41.939+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T13:38:41.939+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764135521939,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T13:38:42.022+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T13:38:42.022+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913665045156728832) MsgTFriendOpRet
2025-11-26T13:38:42.061+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T13:38:42.061+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913665045156728832) MsgTFriendOpRet
2025-11-26T13:38:42.088+0800	[35mDEBUG[0m	core/chatmsghandler.go:490	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:913662562132955136 chatType:ChatTypeP2P"}
2025-11-26T13:38:42.102+0800	[35mDEBUG[0m	core/chatmsghandler.go:579	onQueryP2PChatData:	{"msg count:": 2}
2025-11-26T13:38:53.300+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251124_103558.jpg", "hash": "9ea37ecffb02c730b7f7c06262040ead", "send id": 1201}
2025-11-26T13:38:53.390+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251124_103558.jpg", "hash": "9ea37ecffb02c730b7f7c06262040ead", "send id": 1201}
2025-11-26T13:38:53.433+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251124_103558.jpg", "hash": "9ea37ecffb02c730b7f7c06262040ead", "send id": 1201}
2025-11-26T13:38:53.484+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251124_103558.jpg", "hash": "9ea37ecffb02c730b7f7c06262040ead", "send id": 1201}
2025-11-26T13:38:53.560+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251124_103558.jpg", "hash": "9ea37ecffb02c730b7f7c06262040ead", "send id": 1201}
2025-11-26T13:38:53.593+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251124_103558.jpg", "hash": "9ea37ecffb02c730b7f7c06262040ead", "send id": 1201}
2025-11-26T13:38:53.638+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251124_103558.jpg", "hash": "9ea37ecffb02c730b7f7c06262040ead", "send id": 1201}
2025-11-26T13:38:53.684+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251124_103558.jpg", "hash": "9ea37ecffb02c730b7f7c06262040ead", "send id": 1201}
2025-11-26T13:38:53.692+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251124_103558.jpg", "hash": "9ea37ecffb02c730b7f7c06262040ead", "send id": 1201}
2025-11-26T13:38:53.745+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251124_103558.jpg", "hash": "", "send id": 1201}
2025-11-26T13:38:53.745+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:38:53.781+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251124_103558.jpg", "hash": "", "send id": 1201}
2025-11-26T13:38:53.782+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:38:53.832+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251124_103558.jpg", "hash": "", "send id": 1201}
2025-11-26T13:38:53.832+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:38:53.879+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251124_103558.jpg", "hash": "", "send id": 1201}
2025-11-26T13:38:53.879+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:38:53.928+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251124_103558.jpg", "hash": "", "send id": 1201}
2025-11-26T13:38:53.928+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:38:53.979+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251124_103558.jpg", "hash": "", "send id": 1201}
2025-11-26T13:38:53.979+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:38:54.048+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251124_103558.jpg", "hash": "", "send id": 1201}
2025-11-26T13:38:54.049+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:38:54.050+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251124_103558.jpg", "hash": "", "send id": 1201}
2025-11-26T13:38:54.051+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:38:54.084+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1201) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913665096507592704, userId: 10001, fromId: 10001, toId: 10006, tm: 1764135533367 (time: 2025-11-26 13:38:53), devId: \"47FCC883FB83DD2D\", sendId: 1201, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/qpbxzp8ga10e.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/qpbxzp8ga10e.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T13:38:54.100+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T13:38:54.100+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913660859295862784) MsgTChatMsg
2025-11-26T13:38:54.217+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913665096507592704 sendId:1201 recvOk:1764135533513 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:38:54.230+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913665045156728832) MsgTChatReply
2025-11-26T13:38:56.109+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913665096507592704 sendId:1201 recvOk:1764135535380 readOk:1764135535380 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:38:56.122+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913665045156728832) MsgTChatReply
2025-11-26T13:39:31.090+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(913665045156728832) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T13:39:31.091+0800	[34mINFO[0m	core/session.go:256	user(10001) session(913665045156728832)
2025-11-26T13:40:50.511+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"rsv9YR6WMuATEFJHKmpiuusk40wT5YTAlDeT+mo=\"}"}
2025-11-26T13:40:50.512+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T13:40:50.512+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764135650512,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T13:40:50.577+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T13:40:50.578+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913665584384839680) MsgTFriendOpRet
2025-11-26T13:40:50.620+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T13:40:50.620+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913665584384839680) MsgTFriendOpRet
2025-11-26T13:40:50.702+0800	[35mDEBUG[0m	core/chatmsghandler.go:490	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:913665096507592704 chatType:ChatTypeP2P"}
2025-11-26T13:40:50.714+0800	[35mDEBUG[0m	core/chatmsghandler.go:579	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T13:41:08.105+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_144922.jpg", "hash": "c80ccd438553d39bb12b2faebe799586", "send id": 1221}
2025-11-26T13:41:08.151+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_144922.jpg", "hash": "c80ccd438553d39bb12b2faebe799586", "send id": 1221}
2025-11-26T13:41:08.197+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_144922.jpg", "hash": "c80ccd438553d39bb12b2faebe799586", "send id": 1221}
2025-11-26T13:41:08.255+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_144922.jpg", "hash": "c80ccd438553d39bb12b2faebe799586", "send id": 1221}
2025-11-26T13:41:08.310+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_144922.jpg", "hash": "c80ccd438553d39bb12b2faebe799586", "send id": 1221}
2025-11-26T13:41:08.357+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_144922.jpg", "hash": "c80ccd438553d39bb12b2faebe799586", "send id": 1221}
2025-11-26T13:41:08.404+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_144922.jpg", "hash": "c80ccd438553d39bb12b2faebe799586", "send id": 1221}
2025-11-26T13:41:08.450+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_144922.jpg", "hash": "c80ccd438553d39bb12b2faebe799586", "send id": 1221}
2025-11-26T13:41:08.499+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_144922.jpg", "hash": "c80ccd438553d39bb12b2faebe799586", "send id": 1221}
2025-11-26T13:41:08.548+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_144922.jpg", "hash": "c80ccd438553d39bb12b2faebe799586", "send id": 1221}
2025-11-26T13:41:08.554+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_144922.jpg", "hash": "c80ccd438553d39bb12b2faebe799586", "send id": 1221}
2025-11-26T13:41:08.630+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_144922.jpg", "hash": "", "send id": 1221}
2025-11-26T13:41:08.631+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:41:08.679+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_144922.jpg", "hash": "", "send id": 1221}
2025-11-26T13:41:08.679+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:41:08.766+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_144922.jpg", "hash": "", "send id": 1221}
2025-11-26T13:41:08.768+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:41:08.815+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_144922.jpg", "hash": "", "send id": 1221}
2025-11-26T13:41:08.816+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:41:08.864+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_144922.jpg", "hash": "", "send id": 1221}
2025-11-26T13:41:08.865+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:41:08.916+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_144922.jpg", "hash": "", "send id": 1221}
2025-11-26T13:41:08.916+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:41:08.972+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_144922.jpg", "hash": "", "send id": 1221}
2025-11-26T13:41:08.973+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:41:09.025+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_144922.jpg", "hash": "", "send id": 1221}
2025-11-26T13:41:09.027+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:41:09.075+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_144922.jpg", "hash": "", "send id": 1221}
2025-11-26T13:41:09.077+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:41:09.078+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_144922.jpg", "hash": "", "send id": 1221}
2025-11-26T13:41:09.079+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:41:09.120+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1221) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913665662889627648, userId: 10001, fromId: 10001, toId: 10006, tm: 1764135668358 (time: 2025-11-26 13:41:08), devId: \"47FCC883FB83DD2D\", sendId: 1221, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/2db3f763wmax4.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/2db3f763wmax4.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T13:41:09.138+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T13:41:09.139+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913660859295862784) MsgTChatMsg
2025-11-26T13:41:09.305+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913665662889627648 sendId:1221 recvOk:1764135668556 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:41:09.327+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913665584384839680) MsgTChatReply
2025-11-26T13:41:11.497+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913665662889627648 sendId:1221 recvOk:1764135670700 readOk:1764135670700 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:41:11.508+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913665584384839680) MsgTChatReply
2025-11-26T13:42:00.606+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "695533c1869aac57175a2d9e5bed25c9", "send id": 1222}
2025-11-26T13:42:00.659+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "695533c1869aac57175a2d9e5bed25c9", "send id": 1222}
2025-11-26T13:42:00.714+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "695533c1869aac57175a2d9e5bed25c9", "send id": 1222}
2025-11-26T13:42:00.766+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "695533c1869aac57175a2d9e5bed25c9", "send id": 1222}
2025-11-26T13:42:00.818+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "695533c1869aac57175a2d9e5bed25c9", "send id": 1222}
2025-11-26T13:42:00.876+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "695533c1869aac57175a2d9e5bed25c9", "send id": 1222}
2025-11-26T13:42:00.927+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "695533c1869aac57175a2d9e5bed25c9", "send id": 1222}
2025-11-26T13:42:00.976+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "695533c1869aac57175a2d9e5bed25c9", "send id": 1222}
2025-11-26T13:42:01.026+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "695533c1869aac57175a2d9e5bed25c9", "send id": 1222}
2025-11-26T13:42:01.077+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "695533c1869aac57175a2d9e5bed25c9", "send id": 1222}
2025-11-26T13:42:01.134+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "695533c1869aac57175a2d9e5bed25c9", "send id": 1222}
2025-11-26T13:42:01.176+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "695533c1869aac57175a2d9e5bed25c9", "send id": 1222}
2025-11-26T13:42:01.229+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "695533c1869aac57175a2d9e5bed25c9", "send id": 1222}
2025-11-26T13:42:01.278+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "695533c1869aac57175a2d9e5bed25c9", "send id": 1222}
2025-11-26T13:42:01.320+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "695533c1869aac57175a2d9e5bed25c9", "send id": 1222}
2025-11-26T13:42:01.406+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "695533c1869aac57175a2d9e5bed25c9", "send id": 1222}
2025-11-26T13:42:01.432+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "695533c1869aac57175a2d9e5bed25c9", "send id": 1222}
2025-11-26T13:42:01.474+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "", "send id": 1222}
2025-11-26T13:42:01.474+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:42:01.524+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "", "send id": 1222}
2025-11-26T13:42:01.527+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:42:01.576+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "", "send id": 1222}
2025-11-26T13:42:01.577+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:42:01.623+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "", "send id": 1222}
2025-11-26T13:42:01.625+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:42:01.672+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "", "send id": 1222}
2025-11-26T13:42:01.673+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:42:01.713+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "", "send id": 1222}
2025-11-26T13:42:01.713+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:42:01.763+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "", "send id": 1222}
2025-11-26T13:42:01.764+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:42:01.806+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "", "send id": 1222}
2025-11-26T13:42:01.807+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:42:01.877+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "", "send id": 1222}
2025-11-26T13:42:01.878+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:42:01.939+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "", "send id": 1222}
2025-11-26T13:42:01.941+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:42:01.978+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "", "send id": 1222}
2025-11-26T13:42:01.979+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:42:02.022+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "", "send id": 1222}
2025-11-26T13:42:02.026+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:42:02.078+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "", "send id": 1222}
2025-11-26T13:42:02.078+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:42:02.127+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "", "send id": 1222}
2025-11-26T13:42:02.127+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:42:02.204+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "", "send id": 1222}
2025-11-26T13:42:02.205+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:42:02.222+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141259.jpg", "hash": "", "send id": 1222}
2025-11-26T13:42:02.224+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:42:02.232+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1222) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913665885657501696, userId: 10001, fromId: 10001, toId: 10006, tm: 1764135721232 (time: 2025-11-26 13:42:01), devId: \"47FCC883FB83DD2D\", sendId: 1222, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/1bzxk9mfchmqx.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/1bzxk9mfchmqx.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T13:42:02.256+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T13:42:02.256+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913660859295862784) MsgTChatMsg
2025-11-26T13:42:02.448+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913665885657501696 sendId:1222 recvOk:1764135721703 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:42:02.474+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913665584384839680) MsgTChatReply
2025-11-26T13:42:04.490+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913665885657501696 sendId:1222 recvOk:1764135723750 readOk:1764135723750 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:42:04.520+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913665584384839680) MsgTChatReply
2025-11-26T13:42:21.131+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10006, "filename": "1761869304903.jpg", "hash": "25ca37dc0b230e4cb6b96aa120884138", "send id": 1241}
2025-11-26T13:42:21.259+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1241) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913665965462523904, userId: 10006, fromId: 10006, toId: 10001, tm: 1764135740518 (time: 2025-11-26 13:42:20), devId: \"BEF2A06F75075BC9\", sendId: 1241, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/15mxs6lr6i4o5.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/15mxs6lr6i4o5.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T13:42:21.303+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T13:42:21.304+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913665584384839680) MsgTChatMsg
2025-11-26T13:42:21.445+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913665965462523904 sendId:1241 recvOk:1764135740759 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:42:21.458+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913660859295862784) MsgTChatReply
2025-11-26T13:42:21.739+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913665965462523904 sendId:1241 recvOk:1764135741071 readOk:1764135741071 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:42:21.750+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913660859295862784) MsgTChatReply
2025-11-26T13:42:58.528+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10006, "filename": "1758867369047.jpg", "hash": "e4698a3f71fa82187e1ca44851baff40", "send id": 1242}
2025-11-26T13:42:58.611+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1242) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913666122128166912, userId: 10006, fromId: 10006, toId: 10001, tm: 1764135777885 (time: 2025-11-26 13:42:57), devId: \"BEF2A06F75075BC9\", sendId: 1242, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/df375a6r80ys.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/df375a6r80ys.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T13:42:58.623+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T13:42:58.623+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913665584384839680) MsgTChatMsg
2025-11-26T13:42:58.725+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913666122128166912 sendId:1242 recvOk:1764135778033 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:42:58.749+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913660859295862784) MsgTChatReply
2025-11-26T13:42:59.033+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913666122128166912 sendId:1242 recvOk:1764135778351 readOk:1764135778351 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:42:59.060+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913660859295862784) MsgTChatReply
2025-11-26T13:43:28.307+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1223) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913666246682218496, userId: 10001, fromId: 10001, toId: 10006, tm: 1764135807635 (time: 2025-11-26 13:43:27), devId: \"47FCC883FB83DD2D\", sendId: 1223, msgType: TEXT, data: \"21\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T13:43:28.317+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T13:43:28.317+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913660859295862784) MsgTChatMsg
2025-11-26T13:43:28.373+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913666246682218496 sendId:1223 recvOk:1764135807652 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:43:28.400+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913665584384839680) MsgTChatReply
2025-11-26T13:43:29.192+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913666246682218496 sendId:1223 recvOk:1764135808465 readOk:1764135808465 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:43:29.216+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913665584384839680) MsgTChatReply
2025-11-26T13:43:34.842+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1224) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913666274091995136, userId: 10001, fromId: 10001, toId: 10006, tm: 1764135814162 (time: 2025-11-26 13:43:34), devId: \"47FCC883FB83DD2D\", sendId: 1224, msgType: TEXT, data: \"22\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T13:43:34.853+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T13:43:34.854+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913660859295862784) MsgTChatMsg
2025-11-26T13:43:34.940+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913666274091995136 sendId:1224 recvOk:1764135814211 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:43:34.962+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913665584384839680) MsgTChatReply
2025-11-26T13:43:35.760+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913666274091995136 sendId:1224 recvOk:1764135815001 readOk:1764135815001 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:43:35.774+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913665584384839680) MsgTChatReply
2025-11-26T13:44:00.591+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1225) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913666382091128832, userId: 10001, fromId: 10001, toId: 10006, tm: 1764135839889 (time: 2025-11-26 13:43:59), devId: \"47FCC883FB83DD2D\", sendId: 1225, msgType: TEXT, data: \"23\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T13:44:00.599+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T13:44:00.599+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913660859295862784) MsgTChatMsg
2025-11-26T13:44:00.755+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913666382091128832 sendId:1225 recvOk:1764135840018 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:44:00.770+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913665584384839680) MsgTChatReply
2025-11-26T13:44:01.681+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913666382091128832 sendId:1225 recvOk:1764135840925 readOk:1764135840925 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:44:01.693+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913665584384839680) MsgTChatReply
2025-11-26T13:44:15.711+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1243) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913666445509005312, userId: 10006, fromId: 10006, toId: 10001, tm: 1764135854993 (time: 2025-11-26 13:44:14), devId: \"BEF2A06F75075BC9\", sendId: 1243, msgType: TEXT, data: \"24\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T13:44:15.722+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T13:44:15.723+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913665584384839680) MsgTChatMsg
2025-11-26T13:44:15.824+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913666445509005312 sendId:1243 recvOk:1764135855140 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:44:15.845+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913660859295862784) MsgTChatReply
2025-11-26T13:44:16.065+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913666445509005312 sendId:1243 recvOk:1764135855372 readOk:1764135855372 extraMsg:\"ok\" userId:10006 fromId:10001 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:44:16.081+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913660859295862784) MsgTChatReply
2025-11-26T13:45:16.184+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "mmexport1764064518684.jpg", "hash": "75e9bf52d3c669652c38d6c3eb7a3dfa", "send id": 1226}
2025-11-26T13:45:16.241+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "mmexport1764064518684.jpg", "hash": "75e9bf52d3c669652c38d6c3eb7a3dfa", "send id": 1226}
2025-11-26T13:45:16.258+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "mmexport1764064518684.jpg", "hash": "75e9bf52d3c669652c38d6c3eb7a3dfa", "send id": 1226}
2025-11-26T13:45:16.382+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "mmexport1764064518684.jpg", "hash": "", "send id": 1226}
2025-11-26T13:45:16.383+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:45:16.460+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "mmexport1764064518684.jpg", "hash": "", "send id": 1226}
2025-11-26T13:45:16.460+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:45:16.473+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1226) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913666700363304960, userId: 10001, fromId: 10001, toId: 10006, tm: 1764135915778 (time: 2025-11-26 13:45:15), devId: \"47FCC883FB83DD2D\", sendId: 1226, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/1jipgmqcze645.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/1jipgmqcze645.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T13:45:16.508+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T13:45:16.509+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913660859295862784) MsgTChatMsg
2025-11-26T13:45:16.616+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913666700363304960 sendId:1226 recvOk:1764135915897 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:45:16.641+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913665584384839680) MsgTChatReply
2025-11-26T13:45:16.928+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913666700363304960 sendId:1226 recvOk:1764135916217 readOk:1764135916217 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:45:16.961+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913665584384839680) MsgTChatReply
2025-11-26T13:45:26.198+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251121_162518.jpg", "hash": "9ce5af665a18014126866cf9c6612619", "send id": 1227}
2025-11-26T13:45:26.250+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251121_162518.jpg", "hash": "9ce5af665a18014126866cf9c6612619", "send id": 1227}
2025-11-26T13:45:26.304+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251121_162518.jpg", "hash": "9ce5af665a18014126866cf9c6612619", "send id": 1227}
2025-11-26T13:45:26.355+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251121_162518.jpg", "hash": "9ce5af665a18014126866cf9c6612619", "send id": 1227}
2025-11-26T13:45:26.378+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251121_162518.jpg", "hash": "9ce5af665a18014126866cf9c6612619", "send id": 1227}
2025-11-26T13:45:26.383+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1227) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913666741928857600, userId: 10001, fromId: 10001, toId: 10006, tm: 1764135925588 (time: 2025-11-26 13:45:25), devId: \"47FCC883FB83DD2D\", sendId: 1227, msgType: IMAGE, data: []byte, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T13:45:26.399+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T13:45:26.399+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913660859295862784) MsgTChatMsg
2025-11-26T13:45:26.462+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913666741928857600 sendId:1227 recvOk:1764135925728 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:45:26.471+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251121_162518.jpg", "hash": "", "send id": 1227}
2025-11-26T13:45:26.473+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:45:26.481+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913665584384839680) MsgTChatReply
2025-11-26T13:45:26.525+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251121_162518.jpg", "hash": "", "send id": 1227}
2025-11-26T13:45:26.526+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:45:26.619+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251121_162518.jpg", "hash": "", "send id": 1227}
2025-11-26T13:45:26.619+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:45:26.709+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251121_162518.jpg", "hash": "", "send id": 1227}
2025-11-26T13:45:26.710+0800	[35mDEBUG[0m	core/commonmsggen.go:38	hash code can not be nil	{"user id": 10001, "err code": 14}
2025-11-26T13:45:26.725+0800	[31mERROR[0m	core/chatmsghandler.go:110	msgId is not same as sendId	{"sendId": 1227, "msgId": 913666741928857600}
2025-11-26T13:45:35.368+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "VID_20200114_093359.mp4", "hash": "6604624c606b9bf1ed118ceff2ea1cc1", "send id": 1228}
2025-11-26T13:45:35.459+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1228) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913666779996360704, userId: 10001, fromId: 10001, toId: 10006, tm: 1764135934777 (time: 2025-11-26 13:45:34), devId: \"47FCC883FB83DD2D\", sendId: 1228, msgType: FILE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"fid\\\":10001,\\\"cur\\\":0,\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/3o9q5nl3odyli.mp4\\\",\\\"size\\\":24081658,\\\"mime\\\":\\\"video/mp4\\\",\\\"name\\\":\\\"VID_20200114_093359.mp4\\\",\\\"msgid\\\":1228},\\\"tp\\\":\\\"EX\\\"}],\\\"fmt\\\":[{\\\"at\\\":-1,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}]}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T13:45:35.471+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T13:45:35.472+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913660859295862784) MsgTChatMsg
2025-11-26T13:45:35.672+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913666779996360704 sendId:1228 recvOk:1764135934928 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:45:35.693+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913665584384839680) MsgTChatReply
2025-11-26T13:45:36.409+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913666779996360704 sendId:1228 recvOk:1764135935654 readOk:1764135935654 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:45:36.438+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913665584384839680) MsgTChatReply
2025-11-26T13:46:41.946+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(913660859295862784) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T13:46:41.947+0800	[34mINFO[0m	core/session.go:256	user(10006) session(913660859295862784)
2025-11-26T13:46:43.622+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"MYLDXsP9EsFguUrfAf09SuzbrgcbK9o0JLgr2aU=\"}"}
2025-11-26T13:46:43.624+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-26T13:46:43.624+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764136003623,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T13:46:43.674+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913667065586520064) MsgTFriendOpRet
2025-11-26T13:46:43.732+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-11-26T13:46:43.733+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913667065586520064) MsgTFriendOpRet
2025-11-26T13:46:43.784+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T13:46:43.785+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913667065586520064) MsgTFriendOpRet
2025-11-26T13:46:43.927+0800	[35mDEBUG[0m	core/chatmsghandler.go:490	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:913666779996360704 chatType:ChatTypeP2P"}
2025-11-26T13:46:43.938+0800	[35mDEBUG[0m	core/chatmsghandler.go:579	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T13:46:43.982+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913666779996360704 sendId:1228 recvOk:1764136003245 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:46:44.002+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913665584384839680) MsgTChatReply
2025-11-26T13:46:49.129+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913666741928857600 sendId:1227 recvOk:1764136008367 readOk:1764136008367 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:46:49.152+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913665584384839680) MsgTChatReply
2025-11-26T13:47:03.423+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1229}
2025-11-26T13:47:03.466+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1229}
2025-11-26T13:47:03.466+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:47:03.526+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1229}
2025-11-26T13:47:03.527+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:47:03.569+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1229}
2025-11-26T13:47:03.570+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:47:03.610+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1229}
2025-11-26T13:47:03.611+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:47:03.651+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1229}
2025-11-26T13:47:03.651+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:47:03.694+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1229}
2025-11-26T13:47:03.694+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:47:03.775+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1229}
2025-11-26T13:47:03.775+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:47:03.819+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1229}
2025-11-26T13:47:03.819+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:47:03.872+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1229}
2025-11-26T13:47:03.873+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:47:03.929+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1229}
2025-11-26T13:47:03.929+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:47:03.987+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1229}
2025-11-26T13:47:03.987+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:47:04.024+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1229}
2025-11-26T13:47:04.024+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:47:04.093+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1229}
2025-11-26T13:47:04.093+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:47:04.140+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1229}
2025-11-26T13:47:04.141+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:47:04.202+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1229}
2025-11-26T13:47:04.203+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:47:04.217+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1229}
2025-11-26T13:47:04.218+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:47:04.268+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1229) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913667152488304640, userId: 10001, fromId: 10001, toId: 10006, tm: 1764136022834 (time: 2025-11-26 13:47:02), devId: \"47FCC883FB83DD2D\", sendId: 1229, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/r04d2ugv00no.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/r04d2ugv00no.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T13:47:04.276+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T13:47:04.276+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913667065586520064) MsgTChatMsg
2025-11-26T13:47:04.358+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913667152488304640 sendId:1229 recvOk:1764136023625 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:47:04.373+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913665584384839680) MsgTChatReply
2025-11-26T13:47:05.684+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913667152488304640 sendId:1229 recvOk:1764136024949 readOk:1764136024949 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-11-26T13:47:05.698+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913665584384839680) MsgTChatReply
2025-11-26T13:53:27.721+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(913665584384839680) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T13:53:27.721+0800	[34mINFO[0m	core/session.go:256	user(10001) session(913665584384839680)
2025-11-26T13:56:57.518+0800	[34mINFO[0m	server/main.go:92	server started here...
2025-11-26T13:57:11.652+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"7PDXXLdc/4tyLqb/oaF563M5Mzc2qJ49amrVAhw=\"}"}
2025-11-26T13:57:11.855+0800	[35mDEBUG[0m	core/commonhelper.go:421	Load user permission list	{"user": 10001, "count": 0}
2025-11-26T13:57:11.856+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T13:57:11.856+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764136631856,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T13:57:18.358+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"nickName":"robin","email":"*","phone":"*"},{"userId":10004,"nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*"},{"userId":10005,"nickName":"robin","email":"*","phone":"*"},{"userId":10006,"nickName":"robin fox","email":"*","phone":"*"},{"userId":10007,"nickName":"yoyo","email":"*","phone":"*"}]}
2025-11-26T13:57:18.358+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913669697709412352) MsgTFriendOpRet
2025-11-26T13:57:18.402+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T13:57:18.405+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913669697709412352) MsgTFriendOpRet
2025-11-26T13:57:19.427+0800	[35mDEBUG[0m	core/chatmsghandler.go:490	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:913667152488304640 chatType:ChatTypeP2P"}
2025-11-26T13:57:19.461+0800	[35mDEBUG[0m	core/chatmsghandler.go:579	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T13:57:31.900+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1241}
2025-11-26T13:57:31.905+0800	[35mDEBUG[0m	core/filemsghander.go:276	find same file	{"uniq_name": "r04d2ugv00no.jpg", "file name": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "tags": ["IMG", "20251125", "121644.", "jpg"]}
2025-11-26T13:57:39.348+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1241}
2025-11-26T13:57:39.348+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:57:39.522+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1241}
2025-11-26T13:57:39.522+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:57:39.650+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1241}
2025-11-26T13:57:39.651+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:57:39.705+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1241}
2025-11-26T13:57:39.706+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:57:39.750+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1241}
2025-11-26T13:57:39.751+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:57:39.803+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1241}
2025-11-26T13:57:39.804+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:57:39.846+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1241}
2025-11-26T13:57:39.848+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:57:39.874+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1241}
2025-11-26T13:57:39.876+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:57:39.902+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1241}
2025-11-26T13:57:39.902+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:57:39.942+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1241}
2025-11-26T13:57:39.942+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:57:39.962+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1241}
2025-11-26T13:57:39.962+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:57:40.013+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1241}
2025-11-26T13:57:40.013+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:57:40.018+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1241}
2025-11-26T13:57:40.018+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:57:40.053+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1241}
2025-11-26T13:57:40.054+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:57:40.095+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1241}
2025-11-26T13:57:40.096+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:57:40.104+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1241}
2025-11-26T13:57:40.104+0800	[31mERROR[0m	core/filemsghander.go:221	should send truck 0 first
2025-11-26T13:57:40.104+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1241) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913669819377782784, userId: 10001, fromId: 10001, toId: 10006, tm: 1764136658986 (time: 2025-11-26 13:57:38), devId: \"47FCC883FB83DD2D\", sendId: 1241, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/r04d2ugv00no.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/r04d2ugv00no.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T13:57:40.160+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T13:57:40.161+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-26T14:00:36.130+0800	[34mINFO[0m	server/main.go:92	server started here...
2025-11-26T14:00:45.212+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"wJlPgKSTGDI2JAK8aAjnjaIHxUxhCeObiZctdKI=\"}"}
2025-11-26T14:00:45.375+0800	[35mDEBUG[0m	core/commonhelper.go:421	Load user permission list	{"user": 10001, "count": 0}
2025-11-26T14:00:45.375+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T14:00:45.375+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764136845375,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T14:00:45.553+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"nickName":"robin","email":"*","phone":"*"},{"userId":10004,"nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*"},{"userId":10005,"nickName":"robin","email":"*","phone":"*"},{"userId":10006,"nickName":"robin fox","email":"*","phone":"*"},{"userId":10007,"nickName":"yoyo","email":"*","phone":"*"}]}
2025-11-26T14:00:45.553+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913670595458240512) MsgTFriendOpRet
2025-11-26T14:00:45.598+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T14:00:45.599+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913670595458240512) MsgTFriendOpRet
2025-11-26T14:00:52.288+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "mmexport1764073105556.jpg", "hash": "b2eefc4b89f94707ad0da823743342f7", "send id": 1242, "chunk index": 0, "chunk count": 3}
2025-11-26T14:00:52.292+0800	[35mDEBUG[0m	core/filemsghander.go:280	find same file	{"uniq_name": "3zi18u3l5inm.jpg", "file name": "mmexport1764073105556.jpg", "hash": "b2eefc4b89f94707ad0da823743342f7", "tags": ["mmexport1764073105556", "jpg"]}
2025-11-26T14:00:52.339+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "mmexport1764073105556.jpg", "hash": "b2eefc4b89f94707ad0da823743342f7", "send id": 1242, "chunk index": 1, "chunk count": 3}
2025-11-26T14:00:52.339+0800	[31mERROR[0m	core/filemsghander.go:225	should send truck 0 first
2025-11-26T14:00:52.346+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "mmexport1764073105556.jpg", "hash": "b2eefc4b89f94707ad0da823743342f7", "send id": 1242, "chunk index": 2, "chunk count": 3}
2025-11-26T14:00:52.347+0800	[31mERROR[0m	core/filemsghander.go:225	should send truck 0 first
2025-11-26T14:00:57.466+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1242) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913670647174008832, userId: 10001, fromId: 10001, toId: 10006, tm: 1764136856775 (time: 2025-11-26 14:00:56), devId: \"47FCC883FB83DD2D\", sendId: 1242, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/3zi18u3l5inm.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/3zi18u3l5inm.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T14:00:57.544+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T14:00:57.544+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-26T14:03:06.175+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:-5357504718274850190  params:{key:\"checkTokenData\"  value:\"UD1U0uU00clkKofz2rwyZNtdmFLyNlgoftqT/Xo=\"}"}
2025-11-26T14:03:06.177+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-26T14:03:06.177+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764136986177,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T14:03:06.254+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-11-26T14:03:06.254+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTFriendOpRet
2025-11-26T14:03:06.316+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T14:03:06.316+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTFriendOpRet
2025-11-26T14:03:43.298+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(913670595458240512) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T14:03:43.299+0800	[34mINFO[0m	core/session.go:256	user(10001) session(913670595458240512)
2025-11-26T14:17:22.342+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"/GpEPLzBn2nt7QTw76L3UBtp4n68KVefYMisrkg=\"}"}
2025-11-26T14:17:22.346+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T14:17:22.346+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764137842346,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T14:17:22.397+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T14:17:22.397+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913674777628119040) MsgTFriendOpRet
2025-11-26T14:17:22.446+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T14:17:22.446+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913674777628119040) MsgTFriendOpRet
2025-11-26T14:17:22.581+0800	[35mDEBUG[0m	core/chatmsghandler.go:490	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:913670647174008832  chatType:ChatTypeP2P"}
2025-11-26T14:17:22.615+0800	[35mDEBUG[0m	core/chatmsghandler.go:579	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T14:17:30.863+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "mmexport1764073105556.jpg", "hash": "b2eefc4b89f94707ad0da823743342f7", "send id": 1261, "chunk index": 0, "chunk count": 3}
2025-11-26T14:17:30.865+0800	[35mDEBUG[0m	core/filemsghander.go:280	find same file	{"uniq_name": "3zi18u3l5inm.jpg", "file name": "mmexport1764073105556.jpg", "hash": "b2eefc4b89f94707ad0da823743342f7", "tags": ["mmexport1764073105556", "jpg"]}
2025-11-26T14:17:30.958+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1261) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913674814181478400, userId: 10001, fromId: 10001, toId: 10006, tm: 1764137850317 (time: 2025-11-26 14:17:30), devId: \"47FCC883FB83DD2D\", sendId: 1261, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/3zi18u3l5inm.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/3zi18u3l5inm.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T14:17:30.972+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T14:17:30.973+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatMsg
2025-11-26T14:17:31.156+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913674814181478400  sendId:1261  recvOk:1764137850419  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:17:31.181+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913674777628119040) MsgTChatReply
2025-11-26T14:17:32.748+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913674814181478400  sendId:1261  recvOk:1764137851992  readOk:1764137851992  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:17:32.778+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913674777628119040) MsgTChatReply
2025-11-26T14:31:52.824+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(913674777628119040) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T14:31:52.826+0800	[34mINFO[0m	core/session.go:256	user(10001) session(913674777628119040)
2025-11-26T14:32:35.032+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"fF11sHxgiwDOLycH7fQ5EgKf3fHoY7fzHFyZCBU=\"}"}
2025-11-26T14:32:35.033+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T14:32:35.034+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764138755033,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T14:32:35.203+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T14:32:35.203+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913678604104241152) MsgTFriendOpRet
2025-11-26T14:32:35.250+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T14:32:35.251+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913678604104241152) MsgTFriendOpRet
2025-11-26T14:32:36.473+0800	[35mDEBUG[0m	core/chatmsghandler.go:490	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:913674814181478400  chatType:ChatTypeP2P"}
2025-11-26T14:32:36.484+0800	[35mDEBUG[0m	core/chatmsghandler.go:579	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T14:34:53.713+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1261) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913679187812945920, userId: 10006, fromId: 10006, toId: 10001, tm: 1764138893038 (time: 2025-11-26 14:34:53), devId: \"BEF2A06F75075BC9\", sendId: 1261, msgType: TEXT, data: \"ä½ å¥½\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T14:34:53.750+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T14:34:53.750+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913678604104241152) MsgTChatMsg
2025-11-26T14:34:53.911+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913679187812945920  sendId:1261  recvOk:1764138893211  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:34:53.936+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:35:18.776+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913679187812945920  sendId:1261  recvOk:1764138904794  readOk:1764138904794  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:35:18.806+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:35:24.517+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1262) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913679317014286336, userId: 10006, fromId: 10006, toId: 10001, tm: 1764138923826 (time: 2025-11-26 14:35:23), devId: \"BEF2A06F75075BC9\", sendId: 1262, msgType: TEXT, data: \"ä½ å¥½\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T14:35:24.526+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T14:35:24.528+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913678604104241152) MsgTChatMsg
2025-11-26T14:35:24.734+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913679317014286336  sendId:1262  recvOk:1764138924031  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:35:24.747+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:35:39.820+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1263) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913679381199720448, userId: 10006, fromId: 10006, toId: 10001, tm: 1764138939115 (time: 2025-11-26 14:35:39), devId: \"BEF2A06F75075BC9\", sendId: 1263, msgType: TEXT, data: \"1\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T14:35:39.848+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T14:35:39.850+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913678604104241152) MsgTChatMsg
2025-11-26T14:36:02.652+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1264) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913679476964069376, userId: 10006, fromId: 10006, toId: 10001, tm: 1764138961966 (time: 2025-11-26 14:36:01), devId: \"BEF2A06F75075BC9\", sendId: 1264, msgType: TEXT, data: \"2\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T14:36:02.663+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T14:36:02.663+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913678604104241152) MsgTChatMsg
2025-11-26T14:36:15.769+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913679317014286336  sendId:1262  recvOk:1764138924593  readOk:1764138924593  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:36:15.795+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:36:15.795+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913679381199720448  sendId:1263  recvOk:1764138975079  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:36:15.809+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:36:16.020+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913679476964069376  sendId:1264  recvOk:1764138975147  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:36:16.041+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:36:51.285+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(913678604104241152) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T14:36:51.287+0800	[34mINFO[0m	core/session.go:256	user(10001) session(913678604104241152)
2025-11-26T14:37:54.343+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"wD0ap9eabmIEIgvTm1X2U18/IEMe635rLucV+Ac=\"}"}
2025-11-26T14:37:54.346+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T14:37:54.347+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764139074346,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T14:37:54.515+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T14:37:54.515+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913679943198707712) MsgTFriendOpRet
2025-11-26T14:37:54.557+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T14:37:54.559+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913679943198707712) MsgTFriendOpRet
2025-11-26T14:37:55.648+0800	[35mDEBUG[0m	core/chatmsghandler.go:490	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:913679476964069376  chatType:ChatTypeP2P"}
2025-11-26T14:37:55.669+0800	[35mDEBUG[0m	core/chatmsghandler.go:579	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T14:37:55.750+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913679476964069376  sendId:1264  recvOk:1764139075053  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:37:55.763+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:38:05.585+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913679381199720448  sendId:1263  recvOk:1764139082095  readOk:1764139082095  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:38:05.603+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:38:06.297+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913679476964069376  sendId:1264  recvOk:1764139084918  readOk:1764139084918  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:38:06.315+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:38:13.223+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1265) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913680024618536960, userId: 10006, fromId: 10006, toId: 10001, tm: 1764139092530 (time: 2025-11-26 14:38:12), devId: \"BEF2A06F75075BC9\", sendId: 1265, msgType: TEXT, data: \"3\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T14:38:13.242+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T14:38:13.243+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913679943198707712) MsgTChatMsg
2025-11-26T14:38:13.357+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913680024618536960  sendId:1265  recvOk:1764139092650  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:38:13.383+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:39:01.086+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913680024618536960  sendId:1265  recvOk:1764139093447  readOk:1764139093447  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:39:01.099+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:39:03.721+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(913679943198707712) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T14:39:03.722+0800	[34mINFO[0m	core/session.go:256	user(10001) session(913679943198707712)
2025-11-26T14:41:13.240+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"lVqdSB5TUzrptSp79fLqHbaVavXTdL0DwejXE9A=\"}"}
2025-11-26T14:41:13.241+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T14:41:13.241+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764139273241,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T14:41:13.408+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T14:41:13.409+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913680777357692928) MsgTFriendOpRet
2025-11-26T14:41:13.455+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T14:41:13.456+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913680777357692928) MsgTFriendOpRet
2025-11-26T14:41:14.438+0800	[35mDEBUG[0m	core/chatmsghandler.go:490	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:913680024618536960  chatType:ChatTypeP2P"}
2025-11-26T14:41:14.450+0800	[35mDEBUG[0m	core/chatmsghandler.go:579	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T14:41:14.535+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913680024618536960  sendId:1265  recvOk:1764139273837  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:41:14.546+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:41:29.183+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1266) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913680846534348800, userId: 10006, fromId: 10006, toId: 10001, tm: 1764139288492 (time: 2025-11-26 14:41:28), devId: \"BEF2A06F75075BC9\", sendId: 1266, msgType: TEXT, data: \"4\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T14:41:29.202+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T14:41:29.202+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913680777357692928) MsgTChatMsg
2025-11-26T14:41:29.339+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913680846534348800  sendId:1266  recvOk:1764139288656  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:41:29.366+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:41:38.164+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1267) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913680884203393024, userId: 10006, fromId: 10006, toId: 10001, tm: 1764139297455 (time: 2025-11-26 14:41:37), devId: \"BEF2A06F75075BC9\", sendId: 1267, msgType: TEXT, data: \"5\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T14:41:38.172+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T14:41:38.175+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913680777357692928) MsgTChatMsg
2025-11-26T14:41:38.369+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913680884203393024  sendId:1267  recvOk:1764139297693  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:41:38.383+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:41:57.864+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913680846534348800  sendId:1266  recvOk:1764139308113  readOk:1764139308113  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:41:57.876+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:41:58.037+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913680884203393024  sendId:1267  recvOk:1764139316456  readOk:1764139316456  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:41:58.049+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:42:03.156+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1268) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913680989027438592, userId: 10006, fromId: 10006, toId: 10001, tm: 1764139322500 (time: 2025-11-26 14:42:02), devId: \"BEF2A06F75075BC9\", sendId: 1268, msgType: TEXT, data: \"6\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T14:42:03.167+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T14:42:03.167+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913680777357692928) MsgTChatMsg
2025-11-26T14:42:03.367+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913680989027438592  sendId:1268  recvOk:1764139322686  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:42:03.387+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:42:16.931+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1269) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913681046803976192, userId: 10006, fromId: 10006, toId: 10001, tm: 1764139336261 (time: 2025-11-26 14:42:16), devId: \"BEF2A06F75075BC9\", sendId: 1269, msgType: TEXT, data: \"7\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T14:42:16.956+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T14:42:16.957+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913680777357692928) MsgTChatMsg
2025-11-26T14:42:26.358+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1270) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913681086343680000, userId: 10006, fromId: 10006, toId: 10001, tm: 1764139345698 (time: 2025-11-26 14:42:25), devId: \"BEF2A06F75075BC9\", sendId: 1270, msgType: TEXT, data: \"8\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T14:42:26.371+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T14:42:26.371+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913680777357692928) MsgTChatMsg
2025-11-26T14:42:29.065+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913680989027438592  sendId:1268  recvOk:1764139323644  readOk:1764139323644  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:42:29.075+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:42:29.269+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913681046803976192  sendId:1269  recvOk:1764139348449  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:42:29.290+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:42:29.291+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913681086343680000  sendId:1270  recvOk:1764139348536  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:42:29.307+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:42:35.515+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913681046803976192  sendId:1269  recvOk:1764139350227  readOk:1764139350227  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:42:35.541+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:42:35.542+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913681086343680000  sendId:1270  recvOk:1764139351768  readOk:1764139351768  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:42:35.557+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:43:02.850+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1271) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913681239402221568, userId: 10006, fromId: 10006, toId: 10001, tm: 1764139382165 (time: 2025-11-26 14:43:02), devId: \"BEF2A06F75075BC9\", sendId: 1271, msgType: TEXT, data: \"9\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T14:43:02.861+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T14:43:02.861+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913680777357692928) MsgTChatMsg
2025-11-26T14:43:03.081+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913681239402221568  sendId:1271  recvOk:1764139382378  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:43:03.108+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:43:03.823+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913681239402221568  sendId:1271  recvOk:1764139383130  readOk:1764139383130  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:43:03.842+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:43:08.721+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1272) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913681264026980352, userId: 10006, fromId: 10006, toId: 10001, tm: 1764139388018 (time: 2025-11-26 14:43:08), devId: \"BEF2A06F75075BC9\", sendId: 1272, msgType: TEXT, data: \"10\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T14:43:08.738+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T14:43:08.740+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913680777357692928) MsgTChatMsg
2025-11-26T14:43:08.902+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913681264026980352  sendId:1272  recvOk:1764139388215  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:43:08.929+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:43:09.627+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913681264026980352  sendId:1272  recvOk:1764139388942  readOk:1764139388942  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:43:09.646+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:44:12.175+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(913680777357692928) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T14:44:12.177+0800	[34mINFO[0m	core/session.go:256	user(10001) session(913680777357692928)
2025-11-26T14:44:48.298+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"V3AvXVC4ZuMaos8ic3oUpfplX4xkrXvK+lkNr5M=\"}"}
2025-11-26T14:44:48.299+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T14:44:48.300+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764139488299,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T14:44:48.476+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T14:44:48.477+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913681679237910528) MsgTFriendOpRet
2025-11-26T14:44:48.536+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T14:44:48.536+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913681679237910528) MsgTFriendOpRet
2025-11-26T14:44:48.557+0800	[35mDEBUG[0m	core/chatmsghandler.go:490	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:913681264026980352  chatType:ChatTypeP2P"}
2025-11-26T14:44:48.577+0800	[35mDEBUG[0m	core/chatmsghandler.go:579	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T14:44:48.648+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913681264026980352  sendId:1272  recvOk:1764139487978  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:44:48.673+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:45:00.085+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1273) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913681731108868096, userId: 10006, fromId: 10006, toId: 10001, tm: 1764139499396 (time: 2025-11-26 14:44:59), devId: \"BEF2A06F75075BC9\", sendId: 1273, msgType: TEXT, data: \"11\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T14:45:00.094+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T14:45:00.094+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913681679237910528) MsgTChatMsg
2025-11-26T14:45:00.281+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913681731108868096  sendId:1273  recvOk:1764139499597  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:45:00.295+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:45:36.199+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1274) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913681882594545664, userId: 10006, fromId: 10006, toId: 10001, tm: 1764139535495 (time: 2025-11-26 14:45:35), devId: \"BEF2A06F75075BC9\", sendId: 1274, msgType: TEXT, data: \"12\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T14:45:36.219+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T14:45:36.219+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913681679237910528) MsgTChatMsg
2025-11-26T14:45:36.391+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913681882594545664  sendId:1274  recvOk:1764139535674  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:45:36.409+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:45:40.171+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1275) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913681899254321152, userId: 10006, fromId: 10006, toId: 10001, tm: 1764139539461 (time: 2025-11-26 14:45:39), devId: \"BEF2A06F75075BC9\", sendId: 1275, msgType: TEXT, data: \"13\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T14:45:40.200+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T14:45:40.201+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913681679237910528) MsgTChatMsg
2025-11-26T14:45:40.344+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913681899254321152  sendId:1275  recvOk:1764139539639  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:45:40.364+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:45:43.133+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1276) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913681911677849600, userId: 10006, fromId: 10006, toId: 10001, tm: 1764139542464 (time: 2025-11-26 14:45:42), devId: \"BEF2A06F75075BC9\", sendId: 1276, msgType: TEXT, data: \"14\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T14:45:43.153+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T14:45:43.153+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913681679237910528) MsgTChatMsg
2025-11-26T14:45:43.295+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913681911677849600  sendId:1276  recvOk:1764139542608  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:45:43.329+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:45:46.372+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1277) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913681925263200256, userId: 10006, fromId: 10006, toId: 10001, tm: 1764139545710 (time: 2025-11-26 14:45:45), devId: \"BEF2A06F75075BC9\", sendId: 1277, msgType: TEXT, data: \"15\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T14:45:46.389+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T14:45:46.390+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913681679237910528) MsgTChatMsg
2025-11-26T14:45:46.590+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913681925263200256  sendId:1277  recvOk:1764139545879  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:45:46.606+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:45:49.601+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1278) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913681938806607872, userId: 10006, fromId: 10006, toId: 10001, tm: 1764139548912 (time: 2025-11-26 14:45:48), devId: \"BEF2A06F75075BC9\", sendId: 1278, msgType: TEXT, data: \"16\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T14:45:49.619+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T14:45:49.619+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913681679237910528) MsgTChatMsg
2025-11-26T14:45:49.765+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913681938806607872  sendId:1278  recvOk:1764139549065  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:45:49.781+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:45:53.909+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10006, "filename": "1758866649235.jpg", "hash": "a5a05c5497e9091b9f87c9a128599329", "send id": 1279, "chunk index": 0, "chunk count": 1}
2025-11-26T14:45:53.930+0800	[35mDEBUG[0m	core/filemsghander.go:280	find same file	{"uniq_name": "esw6pphojfdx.jpg", "file name": "1758866649235.jpg", "hash": "a5a05c5497e9091b9f87c9a128599329", "tags": ["1758866649235.", "jpg"]}
2025-11-26T14:45:54.033+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1279) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913681957395763200, userId: 10006, fromId: 10006, toId: 10001, tm: 1764139553380 (time: 2025-11-26 14:45:53), devId: \"BEF2A06F75075BC9\", sendId: 1279, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/esw6pphojfdx.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/esw6pphojfdx.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T14:45:54.040+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T14:45:54.041+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913681679237910528) MsgTChatMsg
2025-11-26T14:45:54.168+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913681957395763200  sendId:1279  recvOk:1764139553486  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:45:54.186+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:45:57.881+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10006, "filename": "1758867312806.jpg", "hash": "9ea8728275fdce2305c963669f3051d3", "send id": 1280, "chunk index": 0, "chunk count": 1}
2025-11-26T14:45:57.885+0800	[35mDEBUG[0m	core/filemsghander.go:280	find same file	{"uniq_name": "jlqgbr09n9ge.jpg", "file name": "1758867312806.jpg", "hash": "9ea8728275fdce2305c963669f3051d3", "tags": ["1758867312806.", "jpg"]}
2025-11-26T14:45:58.026+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1280) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913681974143619072, userId: 10006, fromId: 10006, toId: 10001, tm: 1764139557332 (time: 2025-11-26 14:45:57), devId: \"BEF2A06F75075BC9\", sendId: 1280, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/jlqgbr09n9ge.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/jlqgbr09n9ge.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T14:45:58.039+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T14:45:58.040+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913681679237910528) MsgTChatMsg
2025-11-26T14:45:58.145+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913681974143619072  sendId:1280  recvOk:1764139557455  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:45:58.165+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:46:18.881+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913681731108868096  sendId:1273  recvOk:1764139578204  readOk:1764139578204  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:46:18.901+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:46:18.954+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913681882594545664  sendId:1274  recvOk:1764139578209  readOk:1764139578209  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:46:18.976+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:46:19.002+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913681899254321152  sendId:1275  recvOk:1764139578212  readOk:1764139578212  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:46:19.024+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:46:19.104+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913681911677849600  sendId:1276  recvOk:1764139578215  readOk:1764139578215  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:46:19.131+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:46:19.190+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913681925263200256  sendId:1277  recvOk:1764139578218  readOk:1764139578218  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:46:19.210+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:46:19.261+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913681938806607872  sendId:1278  recvOk:1764139578221  readOk:1764139578221  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:46:19.281+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:46:19.345+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913681957395763200  sendId:1279  recvOk:1764139578225  readOk:1764139578225  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:46:19.357+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:46:23.173+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913681974143619072  sendId:1280  recvOk:1764139582459  readOk:1764139582459  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:46:23.186+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatReply
2025-11-26T14:46:36.288+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1281, "chunk index": 0, "chunk count": 17}
2025-11-26T14:46:36.292+0800	[35mDEBUG[0m	core/filemsghander.go:280	find same file	{"uniq_name": "r04d2ugv00no.jpg", "file name": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "tags": ["IMG", "20251125", "121644.", "jpg"]}
2025-11-26T14:46:42.376+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1281) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913682160161001472, userId: 10001, fromId: 10001, toId: 10006, tm: 1764139601669 (time: 2025-11-26 14:46:41), devId: \"47FCC883FB83DD2D\", sendId: 1281, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/r04d2ugv00no.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/r04d2ugv00no.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T14:46:42.401+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T14:46:42.403+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913671186704109568) MsgTChatMsg
2025-11-26T14:46:42.656+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913682160161001472  sendId:1281  recvOk:1764139601982  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:46:42.676+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913681679237910528) MsgTChatReply
2025-11-26T14:46:43.596+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913682160161001472  sendId:1281  recvOk:1764139602887  readOk:1764139602887  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:46:43.609+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913681679237910528) MsgTChatReply
2025-11-26T14:52:34.517+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(913671186704109568) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T14:52:34.518+0800	[34mINFO[0m	core/session.go:256	user(10006) session(913671186704109568)
2025-11-26T14:52:40.698+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:-5357504718274850190  params:{key:\"checkTokenData\"  value:\"SmMR88654lSNnT4wvYHxj5tDLcar1KFpWOArGhM=\"}"}
2025-11-26T14:52:40.699+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-26T14:52:40.699+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764139960699,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T14:52:40.746+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913683662254510080) MsgTFriendOpRet
2025-11-26T14:52:40.813+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-11-26T14:52:40.814+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913683662254510080) MsgTFriendOpRet
2025-11-26T14:52:40.863+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T14:52:40.865+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913683662254510080) MsgTFriendOpRet
2025-11-26T14:52:41.098+0800	[35mDEBUG[0m	core/chatmsghandler.go:490	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:913682160161001472  chatType:ChatTypeP2P"}
2025-11-26T14:52:41.119+0800	[35mDEBUG[0m	core/chatmsghandler.go:579	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T14:52:41.148+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913682160161001472  sendId:1281  recvOk:1764139960487  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:52:41.165+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913681679237910528) MsgTChatReply
2025-11-26T14:52:56.818+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_XHS_1727417629545.jpg", "hash": "3c3a9c799bfcdb2cccf89fbc69b4fece", "send id": 1282, "chunk index": 0, "chunk count": 2}
2025-11-26T14:52:56.961+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_XHS_1727417629545.jpg", "hash": "3c3a9c799bfcdb2cccf89fbc69b4fece", "send id": 1282, "chunk index": 1, "chunk count": 2}
2025-11-26T14:52:57.051+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1282) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913683731661852672, userId: 10001, fromId: 10001, toId: 10006, tm: 1764139976402 (time: 2025-11-26 14:52:56), devId: \"47FCC883FB83DD2D\", sendId: 1282, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/ok41mpv0lhz0.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/ok41mpv0lhz0.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T14:52:57.068+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T14:52:57.070+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913683662254510080) MsgTChatMsg
2025-11-26T14:52:57.107+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913683731661852672  sendId:1282  recvOk:1764139976450  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T14:52:57.132+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913681679237910528) MsgTChatReply
2025-11-26T15:02:31.089+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "VID_20200114_110146.mp4", "hash": "98f0be4e152e25966b4af710af84b01a", "send id": 1283, "chunk index": 0, "chunk count": 81}
2025-11-26T15:02:31.096+0800	[35mDEBUG[0m	core/filemsghander.go:280	find same file	{"uniq_name": "2a758er39jwk8.mp4", "file name": "VID_20200114_110146.mp4", "hash": "98f0be4e152e25966b4af710af84b01a", "tags": ["VID", "20200114", "110146.", "mp4"]}
2025-11-26T15:02:31.277+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1283) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913686140140261376, userId: 10001, fromId: 10001, toId: 10006, tm: 1764140550585 (time: 2025-11-26 15:02:30), devId: \"47FCC883FB83DD2D\", sendId: 1283, msgType: FILE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"fid\\\":10001,\\\"cur\\\":0,\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/2a758er39jwk8.mp4\\\",\\\"size\\\":84835869,\\\"mime\\\":\\\"video/mp4\\\",\\\"name\\\":\\\"VID_20200114_110146.mp4\\\",\\\"msgid\\\":1283},\\\"tp\\\":\\\"EX\\\"}],\\\"fmt\\\":[{\\\"at\\\":-1,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}]}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T15:02:31.306+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T15:02:31.307+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913683662254510080) MsgTChatMsg
2025-11-26T15:02:31.417+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913686140140261376  sendId:1283  recvOk:1764140550722  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T15:02:31.433+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913681679237910528) MsgTChatReply
2025-11-26T15:02:52.860+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_xhs_1762241215295.mp4", "hash": "c0e4efdc07af0184976aa2e305215ed1", "send id": 1284, "chunk index": 0, "chunk count": 6}
2025-11-26T15:02:53.004+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_xhs_1762241215295.mp4", "hash": "c0e4efdc07af0184976aa2e305215ed1", "send id": 1284, "chunk index": 1, "chunk count": 6}
2025-11-26T15:02:53.098+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_xhs_1762241215295.mp4", "hash": "c0e4efdc07af0184976aa2e305215ed1", "send id": 1284, "chunk index": 2, "chunk count": 6}
2025-11-26T15:02:53.207+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_xhs_1762241215295.mp4", "hash": "c0e4efdc07af0184976aa2e305215ed1", "send id": 1284, "chunk index": 3, "chunk count": 6}
2025-11-26T15:02:53.300+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_xhs_1762241215295.mp4", "hash": "c0e4efdc07af0184976aa2e305215ed1", "send id": 1284, "chunk index": 4, "chunk count": 6}
2025-11-26T15:02:53.407+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_xhs_1762241215295.mp4", "hash": "c0e4efdc07af0184976aa2e305215ed1", "send id": 1284, "chunk index": 5, "chunk count": 6}
2025-11-26T15:02:53.502+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1284) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913686233358667776, userId: 10001, fromId: 10001, toId: 10006, tm: 1764140572829 (time: 2025-11-26 15:02:52), devId: \"47FCC883FB83DD2D\", sendId: 1284, msgType: FILE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"fid\\\":10001,\\\"cur\\\":0,\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/209npnba5qk00.mp4\\\",\\\"size\\\":5914931,\\\"mime\\\":\\\"video/mp4\\\",\\\"name\\\":\\\"Camera_xhs_1762241215295.mp4\\\",\\\"msgid\\\":1284},\\\"tp\\\":\\\"EX\\\"}],\\\"fmt\\\":[{\\\"at\\\":-1,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}]}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T15:02:53.524+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T15:02:53.524+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913683662254510080) MsgTChatMsg
2025-11-26T15:02:53.568+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913686233358667776  sendId:1284  recvOk:1764140572895  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T15:02:53.587+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913681679237910528) MsgTChatReply
2025-11-26T15:03:18.828+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1285) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913686339579416576, userId: 10001, fromId: 10001, toId: 10006, tm: 1764140598115 (time: 2025-11-26 15:03:18), devId: \"47FCC883FB83DD2D\", sendId: 1285, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T15:03:18.849+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T15:03:18.849+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913683662254510080) MsgTChatMsg
2025-11-26T15:03:18.972+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913686339579416576  sendId:1285  recvOk:1764140598284  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T15:03:18.990+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913681679237910528) MsgTChatReply
2025-11-26T15:05:33.422+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(913683662254510080) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T15:05:33.423+0800	[34mINFO[0m	core/session.go:256	user(10006) session(913683662254510080)
2025-11-26T15:21:05.199+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:-5357504718274850190  params:{key:\"checkTokenData\"  value:\"CpUqLB7+2nRjufxnUDsyZI9wDcjtMHL1T9q142o=\"}"}
2025-11-26T15:21:05.201+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-26T15:21:05.201+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764141665201,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T15:21:05.250+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913690811475038208) MsgTFriendOpRet
2025-11-26T15:21:05.336+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-11-26T15:21:05.336+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913690811475038208) MsgTFriendOpRet
2025-11-26T15:21:05.412+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T15:21:05.412+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913690811475038208) MsgTFriendOpRet
2025-11-26T15:21:05.719+0800	[35mDEBUG[0m	core/chatmsghandler.go:490	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:913686339579416576  chatType:ChatTypeP2P"}
2025-11-26T15:21:05.746+0800	[35mDEBUG[0m	core/chatmsghandler.go:579	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T15:21:05.804+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913686339579416576  sendId:1285  recvOk:1764141664711  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T15:21:05.832+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913681679237910528) MsgTChatReply
2025-11-26T15:22:13.812+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(913690811475038208) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T15:22:13.816+0800	[34mINFO[0m	core/session.go:256	user(10006) session(913690811475038208)
2025-11-26T15:33:14.612+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251126_153228.jpg", "hash": "bb8c98d5a9e62e1812f0a836b047dc0a", "send id": 1286, "chunk index": 0, "chunk count": 8}
2025-11-26T15:33:14.855+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251126_153228.jpg", "hash": "bb8c98d5a9e62e1812f0a836b047dc0a", "send id": 1286, "chunk index": 1, "chunk count": 8}
2025-11-26T15:33:15.053+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251126_153228.jpg", "hash": "bb8c98d5a9e62e1812f0a836b047dc0a", "send id": 1286, "chunk index": 2, "chunk count": 8}
2025-11-26T15:33:15.059+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1286) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913693873518284800, userId: 10001, fromId: 10001, toId: 10006, tm: 1764142394303 (time: 2025-11-26 15:33:14), devId: \"47FCC883FB83DD2D\", sendId: 1286, msgType: IMAGE, data: []byte, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T15:33:15.123+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T15:33:15.123+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-26T15:33:15.231+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251126_153228.jpg", "hash": "bb8c98d5a9e62e1812f0a836b047dc0a", "send id": 1286, "chunk index": 3, "chunk count": 8}
2025-11-26T15:33:15.424+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251126_153228.jpg", "hash": "bb8c98d5a9e62e1812f0a836b047dc0a", "send id": 1286, "chunk index": 4, "chunk count": 8}
2025-11-26T15:33:15.621+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251126_153228.jpg", "hash": "bb8c98d5a9e62e1812f0a836b047dc0a", "send id": 1286, "chunk index": 5, "chunk count": 8}
2025-11-26T15:33:15.826+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251126_153228.jpg", "hash": "bb8c98d5a9e62e1812f0a836b047dc0a", "send id": 1286, "chunk index": 6, "chunk count": 8}
2025-11-26T15:33:16.070+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251126_153228.jpg", "hash": "bb8c98d5a9e62e1812f0a836b047dc0a", "send id": 1286, "chunk index": 7, "chunk count": 8}
2025-11-26T15:33:16.124+0800	[31mERROR[0m	core/chatmsghandler.go:110	msgId is not same as sendId	{"sendId": 1286, "msgId": 913693873518284800}
2025-11-26T15:37:33.281+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251126_153228.jpg", "hash": "bb8c98d5a9e62e1812f0a836b047dc0a", "send id": 1287, "chunk index": 0, "chunk count": 8}
2025-11-26T15:37:33.282+0800	[35mDEBUG[0m	core/filemsghander.go:280	find same file	{"uniq_name": "d8m6diunu6rf.jpg", "file name": "IMG_20251126_153228.jpg", "hash": "bb8c98d5a9e62e1812f0a836b047dc0a", "tags": ["IMG", "20251126", "153228.", "jpg"]}
2025-11-26T15:37:33.382+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1287) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913694957007671296, userId: 10001, fromId: 10001, toId: 10006, tm: 1764142652700 (time: 2025-11-26 15:37:32), devId: \"47FCC883FB83DD2D\", sendId: 1287, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/d8m6diunu6rf.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/d8m6diunu6rf.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T15:37:33.391+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T15:37:33.391+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-26T15:57:23.307+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251126_155025.jpg", "hash": "3952c6702091b140169c939c6b2639ec", "send id": 1288, "chunk index": 0, "chunk count": 8}
2025-11-26T15:57:23.496+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251126_155025.jpg", "hash": "3952c6702091b140169c939c6b2639ec", "send id": 1288, "chunk index": 1, "chunk count": 8}
2025-11-26T15:57:23.694+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251126_155025.jpg", "hash": "3952c6702091b140169c939c6b2639ec", "send id": 1288, "chunk index": 2, "chunk count": 8}
2025-11-26T15:57:23.835+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251126_155025.jpg", "hash": "3952c6702091b140169c939c6b2639ec", "send id": 1288, "chunk index": 3, "chunk count": 8}
2025-11-26T15:57:24.054+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251126_155025.jpg", "hash": "3952c6702091b140169c939c6b2639ec", "send id": 1288, "chunk index": 4, "chunk count": 8}
2025-11-26T15:57:24.206+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251126_155025.jpg", "hash": "3952c6702091b140169c939c6b2639ec", "send id": 1288, "chunk index": 5, "chunk count": 8}
2025-11-26T15:57:24.362+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251126_155025.jpg", "hash": "3952c6702091b140169c939c6b2639ec", "send id": 1288, "chunk index": 6, "chunk count": 8}
2025-11-26T15:57:24.498+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251126_155025.jpg", "hash": "3952c6702091b140169c939c6b2639ec", "send id": 1288, "chunk index": 7, "chunk count": 8}
2025-11-26T15:57:24.615+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1288) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913699953401008128, userId: 10001, fromId: 10001, toId: 10006, tm: 1764143843963 (time: 2025-11-26 15:57:23), devId: \"47FCC883FB83DD2D\", sendId: 1288, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/zf0mwyax01tl.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/zf0mwyax01tl.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T15:57:24.624+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T15:57:24.625+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-26T15:57:40.774+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_102437.jpg", "hash": "057a499416f3e60a833ca449b3d5a046", "send id": 1289, "chunk index": 0, "chunk count": 10}
2025-11-26T15:57:40.949+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_102437.jpg", "hash": "057a499416f3e60a833ca449b3d5a046", "send id": 1289, "chunk index": 1, "chunk count": 10}
2025-11-26T15:57:41.102+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_102437.jpg", "hash": "057a499416f3e60a833ca449b3d5a046", "send id": 1289, "chunk index": 2, "chunk count": 10}
2025-11-26T15:57:41.270+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_102437.jpg", "hash": "057a499416f3e60a833ca449b3d5a046", "send id": 1289, "chunk index": 3, "chunk count": 10}
2025-11-26T15:57:41.420+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_102437.jpg", "hash": "057a499416f3e60a833ca449b3d5a046", "send id": 1289, "chunk index": 4, "chunk count": 10}
2025-11-26T15:57:41.574+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_102437.jpg", "hash": "057a499416f3e60a833ca449b3d5a046", "send id": 1289, "chunk index": 5, "chunk count": 10}
2025-11-26T15:57:41.733+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_102437.jpg", "hash": "057a499416f3e60a833ca449b3d5a046", "send id": 1289, "chunk index": 6, "chunk count": 10}
2025-11-26T15:57:41.913+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_102437.jpg", "hash": "057a499416f3e60a833ca449b3d5a046", "send id": 1289, "chunk index": 7, "chunk count": 10}
2025-11-26T15:57:42.092+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_102437.jpg", "hash": "057a499416f3e60a833ca449b3d5a046", "send id": 1289, "chunk index": 8, "chunk count": 10}
2025-11-26T15:57:42.260+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_102437.jpg", "hash": "057a499416f3e60a833ca449b3d5a046", "send id": 1289, "chunk index": 9, "chunk count": 10}
2025-11-26T15:57:42.322+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1289) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913700027669549056, userId: 10001, fromId: 10001, toId: 10006, tm: 1764143861669 (time: 2025-11-26 15:57:41), devId: \"47FCC883FB83DD2D\", sendId: 1289, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/5yv5qphht9fp.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/5yv5qphht9fp.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T15:57:42.336+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T15:57:42.336+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-26T16:08:18.063+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:-5357504718274850190  params:{key:\"checkTokenData\"  value:\"yoU/WYeaSGueEsmO29O5DKlW8EPMty1EjzmLqho=\"}"}
2025-11-26T16:08:18.066+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-26T16:08:18.066+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764144498066,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T16:08:18.115+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913702693275570176) MsgTFriendOpRet
2025-11-26T16:08:18.281+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-11-26T16:08:18.284+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913702693275570176) MsgTFriendOpRet
2025-11-26T16:08:18.311+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T16:08:18.312+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913702693275570176) MsgTFriendOpRet
2025-11-26T16:08:18.568+0800	[35mDEBUG[0m	core/chatmsghandler.go:490	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:913686339579416576  chatType:ChatTypeP2P"}
2025-11-26T16:08:18.594+0800	[35mDEBUG[0m	core/chatmsghandler.go:579	onQueryP2PChatData:	{"msg count:": 5}
2025-11-26T16:08:18.621+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913686339579416576  sendId:1285  recvOk:1764144497564  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:08:18.665+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913681679237910528) MsgTChatReply
2025-11-26T16:08:18.669+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913693873518284800  sendId:1286  recvOk:1764144497566  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:08:18.692+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913681679237910528) MsgTChatReply
2025-11-26T16:08:18.720+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913694957007671296  sendId:1287  recvOk:1764144497567  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:08:18.731+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913681679237910528) MsgTChatReply
2025-11-26T16:08:18.776+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913699953401008128  sendId:1288  recvOk:1764144497567  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:08:18.798+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913681679237910528) MsgTChatReply
2025-11-26T16:08:18.823+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913700027669549056  sendId:1289  recvOk:1764144497567  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:08:18.848+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913681679237910528) MsgTChatReply
2025-11-26T16:11:58.693+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(913681679237910528) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T16:11:58.695+0800	[34mINFO[0m	core/session.go:256	user(10001) session(913681679237910528)
2025-11-26T16:12:04.409+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"wuiq4IEWOJAnduLFkvouTEDQ/ioG1e94qL5hYl8=\"}"}
2025-11-26T16:12:04.422+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T16:12:04.422+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764144724422,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T16:12:04.478+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T16:12:04.479+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913703643063128064) MsgTFriendOpRet
2025-11-26T16:12:04.526+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T16:12:04.526+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913703643063128064) MsgTFriendOpRet
2025-11-26T16:12:04.774+0800	[35mDEBUG[0m	core/chatmsghandler.go:490	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:913700027669549056  chatType:ChatTypeP2P"}
2025-11-26T16:12:04.797+0800	[35mDEBUG[0m	core/chatmsghandler.go:579	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T16:15:08.170+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10006, "filename": "IMG_20220213_160332.jpg", "hash": "1c2be321ab89e0d9a4a911c4c79e41e8", "send id": 1281, "chunk index": 0, "chunk count": 4}
2025-11-26T16:15:08.498+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10006, "filename": "IMG_20220213_160332.jpg", "hash": "1c2be321ab89e0d9a4a911c4c79e41e8", "send id": 1281, "chunk index": 1, "chunk count": 4}
2025-11-26T16:15:08.777+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10006, "filename": "IMG_20220213_160332.jpg", "hash": "1c2be321ab89e0d9a4a911c4c79e41e8", "send id": 1281, "chunk index": 2, "chunk count": 4}
2025-11-26T16:15:09.002+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10006, "filename": "IMG_20220213_160332.jpg", "hash": "1c2be321ab89e0d9a4a911c4c79e41e8", "send id": 1281, "chunk index": 3, "chunk count": 4}
2025-11-26T16:15:09.075+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1281) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913704418069843968, userId: 10006, fromId: 10006, toId: 10001, tm: 1764144908016 (time: 2025-11-26 16:15:08), devId: \"BEF2A06F75075BC9\", sendId: 1281, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/3ba1j24gll0kc.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"IMG_20220213_160332.jpg\\\",\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/3ba1j24gll0kc.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T16:15:09.113+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T16:15:09.114+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913703643063128064) MsgTChatMsg
2025-11-26T16:15:09.191+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913704418069843968  sendId:1281  recvOk:1764144908500  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:15:09.255+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913702693275570176) MsgTChatReply
2025-11-26T16:15:39.131+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10006, "filename": "IMG_20220205_155835.jpg", "hash": "a6644b0f956f55506c008d85ed3735ae", "send id": 1282, "chunk index": 0, "chunk count": 4}
2025-11-26T16:15:39.394+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10006, "filename": "IMG_20220205_155835.jpg", "hash": "a6644b0f956f55506c008d85ed3735ae", "send id": 1282, "chunk index": 1, "chunk count": 4}
2025-11-26T16:15:39.640+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10006, "filename": "IMG_20220205_155835.jpg", "hash": "a6644b0f956f55506c008d85ed3735ae", "send id": 1282, "chunk index": 2, "chunk count": 4}
2025-11-26T16:15:39.908+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10006, "filename": "IMG_20220205_155835.jpg", "hash": "a6644b0f956f55506c008d85ed3735ae", "send id": 1282, "chunk index": 3, "chunk count": 4}
2025-11-26T16:15:40.065+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1282) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913704548051324928, userId: 10006, fromId: 10006, toId: 10001, tm: 1764144938967 (time: 2025-11-26 16:15:38), devId: \"BEF2A06F75075BC9\", sendId: 1282, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/17z9f5aq7pxgm.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"IMG_20220205_155835.jpg\\\",\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/17z9f5aq7pxgm.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T16:15:40.088+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T16:15:40.089+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913703643063128064) MsgTChatMsg
2025-11-26T16:15:40.243+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913704548051324928  sendId:1282  recvOk:1764144939544  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:15:40.261+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913702693275570176) MsgTChatReply
2025-11-26T16:16:27.970+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10006, "filename": "1761869304903.jpg", "hash": "25ca37dc0b230e4cb6b96aa120884138", "send id": 1283, "chunk index": 0, "chunk count": 1}
2025-11-26T16:16:27.974+0800	[35mDEBUG[0m	core/filemsghander.go:280	find same file	{"uniq_name": "15mxs6lr6i4o5.jpg", "file name": "1761869304903.jpg", "hash": "25ca37dc0b230e4cb6b96aa120884138", "tags": ["1761869304903.", "jpg"]}
2025-11-26T16:16:28.048+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1283) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913704749306613760, userId: 10006, fromId: 10006, toId: 10001, tm: 1764144986971 (time: 2025-11-26 16:16:26), devId: \"BEF2A06F75075BC9\", sendId: 1283, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/15mxs6lr6i4o5.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"1761869304903.jpg\\\",\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/15mxs6lr6i4o5.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T16:16:28.075+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T16:16:28.075+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913703643063128064) MsgTChatMsg
2025-11-26T16:16:28.243+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913704749306613760  sendId:1283  recvOk:1764144987566  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:16:28.259+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913702693275570176) MsgTChatReply
2025-11-26T16:17:44.233+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(913703643063128064) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T16:17:44.239+0800	[34mINFO[0m	core/session.go:256	user(10001) session(913703643063128064)
2025-11-26T16:17:50.819+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"YY+TiENFuqZXbbroCFaBJRUjbxA+07PVs/dZb4g=\"}"}
2025-11-26T16:17:50.821+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T16:17:50.821+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764145070821,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T16:17:50.942+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T16:17:50.942+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913705094481055744) MsgTFriendOpRet
2025-11-26T16:17:50.975+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T16:17:50.975+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913705094481055744) MsgTFriendOpRet
2025-11-26T16:17:52.380+0800	[35mDEBUG[0m	core/chatmsghandler.go:490	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:913704749306613760  chatType:ChatTypeP2P"}
2025-11-26T16:17:52.432+0800	[35mDEBUG[0m	core/chatmsghandler.go:579	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T16:17:52.539+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913704749306613760  sendId:1283  recvOk:1764145071850  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:17:52.572+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913702693275570176) MsgTChatReply
2025-11-26T16:18:00.054+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10006, "filename": "b-ssl.duitang.jpeg", "hash": "463debddb06b2170b8db9cbeda40921f", "send id": 1284, "chunk index": 0, "chunk count": 1}
2025-11-26T16:18:00.186+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1284) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913705135761395712, userId: 10006, fromId: 10006, toId: 10001, tm: 1764145079093 (time: 2025-11-26 16:17:59), devId: \"BEF2A06F75075BC9\", sendId: 1284, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/1pdxihdbzct3a.jpeg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"b-ssl.duitang.jpeg\\\",\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/1pdxihdbzct3a.jpeg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T16:18:00.219+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T16:18:00.220+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913705094481055744) MsgTChatMsg
2025-11-26T16:18:00.296+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913705135761395712  sendId:1284  recvOk:1764145079639  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:18:00.313+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913702693275570176) MsgTChatReply
2025-11-26T16:18:59.914+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(913705094481055744) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T16:18:59.916+0800	[34mINFO[0m	core/session.go:256	user(10001) session(913705094481055744)
2025-11-26T16:19:08.472+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"oHsbNxuWvtsYaW4Sz4Q4IhfcH6CL3PjJTlFZP2w=\"}"}
2025-11-26T16:19:08.473+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T16:19:08.473+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764145148473,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T16:19:08.542+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T16:19:08.543+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913705421783568384) MsgTFriendOpRet
2025-11-26T16:19:08.580+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T16:19:08.580+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913705421783568384) MsgTFriendOpRet
2025-11-26T16:19:08.779+0800	[35mDEBUG[0m	core/chatmsghandler.go:490	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:913705135761395712  chatType:ChatTypeP2P"}
2025-11-26T16:19:08.789+0800	[35mDEBUG[0m	core/chatmsghandler.go:579	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T16:19:08.815+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913705135761395712  sendId:1284  recvOk:1764145148167  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:19:08.831+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913702693275570176) MsgTChatReply
2025-11-26T16:21:57.881+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251126_162051.jpg", "hash": "47feae7c1ecee0d1567b2f6d612e2568", "send id": 1301, "chunk index": 0, "chunk count": 8}
2025-11-26T16:21:58.150+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251126_162051.jpg", "hash": "47feae7c1ecee0d1567b2f6d612e2568", "send id": 1301, "chunk index": 1, "chunk count": 8}
2025-11-26T16:21:58.384+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251126_162051.jpg", "hash": "47feae7c1ecee0d1567b2f6d612e2568", "send id": 1301, "chunk index": 2, "chunk count": 8}
2025-11-26T16:21:58.522+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251126_162051.jpg", "hash": "47feae7c1ecee0d1567b2f6d612e2568", "send id": 1301, "chunk index": 3, "chunk count": 8}
2025-11-26T16:21:58.695+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251126_162051.jpg", "hash": "47feae7c1ecee0d1567b2f6d612e2568", "send id": 1301, "chunk index": 4, "chunk count": 8}
2025-11-26T16:21:58.894+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251126_162051.jpg", "hash": "47feae7c1ecee0d1567b2f6d612e2568", "send id": 1301, "chunk index": 5, "chunk count": 8}
2025-11-26T16:21:59.046+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251126_162051.jpg", "hash": "47feae7c1ecee0d1567b2f6d612e2568", "send id": 1301, "chunk index": 6, "chunk count": 8}
2025-11-26T16:21:59.186+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251126_162051.jpg", "hash": "47feae7c1ecee0d1567b2f6d612e2568", "send id": 1301, "chunk index": 7, "chunk count": 8}
2025-11-26T16:21:59.299+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1301) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913706138674008064, userId: 10001, fromId: 10001, toId: 10006, tm: 1764145318656 (time: 2025-11-26 16:21:58), devId: \"47FCC883FB83DD2D\", sendId: 1301, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/36we7gdrfbvbb.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"IMG_20251126_162051.jpg\\\",\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/36we7gdrfbvbb.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T16:21:59.330+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T16:21:59.331+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913702693275570176) MsgTChatMsg
2025-11-26T16:21:59.407+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913706138674008064  sendId:1301  recvOk:1764145318316  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:21:59.433+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913705421783568384) MsgTChatReply
2025-11-26T16:27:25.560+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10006, "filename": "mmexport1657858728325.jpg", "hash": "a15e6de4e7d50238133ff9f9e3e3e7ac", "send id": 1285, "chunk index": 0, "chunk count": 1}
2025-11-26T16:27:25.673+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1285) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913707507585781760, userId: 10006, fromId: 10006, toId: 10001, tm: 1764145644988 (time: 2025-11-26 16:27:24), devId: \"BEF2A06F75075BC9\", sendId: 1285, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/unwaw56d49lt.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"mmexport1657858728325.jpg\\\",\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/unwaw56d49lt.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T16:27:25.693+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T16:27:25.694+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913705421783568384) MsgTChatMsg
2025-11-26T16:27:25.830+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913707507585781760  sendId:1285  recvOk:1764145645188  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:27:25.841+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913702693275570176) MsgTChatReply
2025-11-26T16:27:29.484+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913706138674008064  sendId:1301  recvOk:1764145648774  readOk:1764145648774  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:27:29.546+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913705421783568384) MsgTChatReply
2025-11-26T16:27:46.313+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10006, "filename": "mmexport1663165035516.png", "hash": "19df98a669e7213e471239e63c64ead6", "send id": 1286, "chunk index": 0, "chunk count": 1}
2025-11-26T16:27:46.339+0800	[35mDEBUG[0m	core/filemsghander.go:280	find same file	{"uniq_name": "y0jgfspndw61.png", "file name": "mmexport1663165035516.png", "hash": "19df98a669e7213e471239e63c64ead6", "tags": ["mmexport1663165035516", "png"]}
2025-11-26T16:27:46.461+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1286) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913707594776973312, userId: 10006, fromId: 10006, toId: 10001, tm: 1764145665791 (time: 2025-11-26 16:27:45), devId: \"BEF2A06F75075BC9\", sendId: 1286, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/y0jgfspndw61.png\\\",\\\"mime\\\":\\\"image/png\\\",\\\"width\\\":0,\\\"name\\\":\\\"mmexport1663165035516.png\\\",\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/y0jgfspndw61.png\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T16:27:46.476+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T16:27:46.477+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913705421783568384) MsgTChatMsg
2025-11-26T16:27:46.656+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913707594776973312  sendId:1286  recvOk:1764145665973  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:27:46.682+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913702693275570176) MsgTChatReply
2025-11-26T16:28:03.183+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10006, "filename": "Screenshot_2025-10-15-20-52-20-323_com.bird2fish.birdtalkclient.jpg", "hash": "713c5234e919b64c75f7320859c74e51", "send id": 1287, "chunk index": 0, "chunk count": 1}
2025-11-26T16:28:03.405+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1287) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913707665845260288, userId: 10006, fromId: 10006, toId: 10001, tm: 1764145682722 (time: 2025-11-26 16:28:02), devId: \"BEF2A06F75075BC9\", sendId: 1287, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/15zvaqx0rt2ep.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"Screenshot_2025-10-15-20-52-20-323_com.bird2fish.birdtalkclient.jpg\\\",\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/15zvaqx0rt2ep.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T16:28:03.438+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T16:28:03.439+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913705421783568384) MsgTChatMsg
2025-11-26T16:28:03.538+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913707665845260288  sendId:1287  recvOk:1764145682874  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:28:03.559+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913702693275570176) MsgTChatReply
2025-11-26T16:28:15.696+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10006, "filename": "XHS_1658458668835eaaf95d6-ea9f-36b2-b53f-8280e6cddb63.jpg", "hash": "b6a7b675914781f8f4e8515b6f0e49d5", "send id": 1288, "chunk index": 0, "chunk count": 1}
2025-11-26T16:28:15.836+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1288) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913707717984653312, userId: 10006, fromId: 10006, toId: 10001, tm: 1764145695152 (time: 2025-11-26 16:28:15), devId: \"BEF2A06F75075BC9\", sendId: 1288, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/3s1o9k2ve2md2.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"XHS_1658458668835eaaf95d6-ea9f-36b2-b53f-8280e6cddb63.jpg\\\",\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/3s1o9k2ve2md2.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T16:28:15.860+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T16:28:15.860+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913705421783568384) MsgTChatMsg
2025-11-26T16:28:15.959+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913707717984653312  sendId:1288  recvOk:1764145695265  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:28:15.982+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913702693275570176) MsgTChatReply
2025-11-26T16:28:24.825+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10006, "filename": "XHS_1644156554221510dd7b2-9030-36be-a2b0-9c57f319943f.jpg", "hash": "a1d8b0bf70d53ceec6b4fc9e352c77ac", "send id": 1289, "chunk index": 0, "chunk count": 1}
2025-11-26T16:28:24.923+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1289) from 10006 -> 10001	{"msg": "MsgChat{msgId: 913707756098293760, userId: 10006, fromId: 10006, toId: 10001, tm: 1764145704234 (time: 2025-11-26 16:28:24), devId: \"BEF2A06F75075BC9\", sendId: 1289, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/3mfbhjz4djwkh.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"XHS_1644156554221510dd7b2-9030-36be-a2b0-9c57f319943f.jpg\\\",\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/3mfbhjz4djwkh.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T16:28:24.955+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T16:28:24.956+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913705421783568384) MsgTChatMsg
2025-11-26T16:28:25.018+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913707756098293760  sendId:1289  recvOk:1764145704379  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:28:25.033+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913702693275570176) MsgTChatReply
2025-11-26T16:28:38.062+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "mmexport1762685755391.jpg", "hash": "fe117baaf3d2dc5216bbd996eba3335b", "send id": 1302, "chunk index": 0, "chunk count": 1}
2025-11-26T16:28:38.179+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1302) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913707811697987584, userId: 10001, fromId: 10001, toId: 10006, tm: 1764145717501 (time: 2025-11-26 16:28:37), devId: \"47FCC883FB83DD2D\", sendId: 1302, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/19d3o0e5yaose.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"mmexport1762685755391.jpg\\\",\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/19d3o0e5yaose.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T16:28:38.206+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T16:28:38.206+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913702693275570176) MsgTChatMsg
2025-11-26T16:28:38.360+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913707811697987584  sendId:1302  recvOk:1764145717673  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:28:38.385+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913705421783568384) MsgTChatReply
2025-11-26T16:29:11.930+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_1040g34o31okhqiockq405pjg0aj7gsdcchao19o.jpg", "hash": "9574f96524530e336dbcb4ea8e3eca4b", "send id": 1303, "chunk index": 0, "chunk count": 1}
2025-11-26T16:29:12.082+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1303) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913707953897476096, userId: 10001, fromId: 10001, toId: 10006, tm: 1764145751414 (time: 2025-11-26 16:29:11), devId: \"47FCC883FB83DD2D\", sendId: 1303, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/ry8lsolhcdjp.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"Camera_1040g34o31okhqiockq405pjg0aj7gsdcchao19o.jpg\\\",\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/ry8lsolhcdjp.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T16:29:12.102+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T16:29:12.102+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913702693275570176) MsgTChatMsg
2025-11-26T16:29:12.263+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913707953897476096  sendId:1303  recvOk:1764145751569  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:29:12.276+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913705421783568384) MsgTChatReply
2025-11-26T16:29:18.905+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251101_145535488.jpg", "hash": "7be9231394a73f03f4ef6b33e78b0a42", "send id": 1304, "chunk index": 0, "chunk count": 14}
2025-11-26T16:29:19.147+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251101_145535488.jpg", "hash": "7be9231394a73f03f4ef6b33e78b0a42", "send id": 1304, "chunk index": 1, "chunk count": 14}
2025-11-26T16:29:19.332+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251101_145535488.jpg", "hash": "7be9231394a73f03f4ef6b33e78b0a42", "send id": 1304, "chunk index": 2, "chunk count": 14}
2025-11-26T16:29:19.513+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251101_145535488.jpg", "hash": "7be9231394a73f03f4ef6b33e78b0a42", "send id": 1304, "chunk index": 3, "chunk count": 14}
2025-11-26T16:29:19.519+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1304) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913707985090514944, userId: 10001, fromId: 10001, toId: 10006, tm: 1764145758836 (time: 2025-11-26 16:29:18), devId: \"47FCC883FB83DD2D\", sendId: 1304, msgType: IMAGE, data: []byte, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T16:29:19.539+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T16:29:19.540+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913702693275570176) MsgTChatMsg
2025-11-26T16:29:19.638+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913707985090514944  sendId:1304  recvOk:1764145758942  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:29:19.654+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913705421783568384) MsgTChatReply
2025-11-26T16:29:19.701+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251101_145535488.jpg", "hash": "7be9231394a73f03f4ef6b33e78b0a42", "send id": 1304, "chunk index": 4, "chunk count": 14}
2025-11-26T16:29:19.852+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251101_145535488.jpg", "hash": "7be9231394a73f03f4ef6b33e78b0a42", "send id": 1304, "chunk index": 5, "chunk count": 14}
2025-11-26T16:29:20.014+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251101_145535488.jpg", "hash": "7be9231394a73f03f4ef6b33e78b0a42", "send id": 1304, "chunk index": 6, "chunk count": 14}
2025-11-26T16:29:20.169+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251101_145535488.jpg", "hash": "7be9231394a73f03f4ef6b33e78b0a42", "send id": 1304, "chunk index": 7, "chunk count": 14}
2025-11-26T16:29:20.351+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251101_145535488.jpg", "hash": "7be9231394a73f03f4ef6b33e78b0a42", "send id": 1304, "chunk index": 8, "chunk count": 14}
2025-11-26T16:29:20.543+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251101_145535488.jpg", "hash": "7be9231394a73f03f4ef6b33e78b0a42", "send id": 1304, "chunk index": 9, "chunk count": 14}
2025-11-26T16:29:20.719+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251101_145535488.jpg", "hash": "7be9231394a73f03f4ef6b33e78b0a42", "send id": 1304, "chunk index": 10, "chunk count": 14}
2025-11-26T16:29:20.910+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251101_145535488.jpg", "hash": "7be9231394a73f03f4ef6b33e78b0a42", "send id": 1304, "chunk index": 11, "chunk count": 14}
2025-11-26T16:29:21.157+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251101_145535488.jpg", "hash": "7be9231394a73f03f4ef6b33e78b0a42", "send id": 1304, "chunk index": 12, "chunk count": 14}
2025-11-26T16:29:21.271+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251101_145535488.jpg", "hash": "7be9231394a73f03f4ef6b33e78b0a42", "send id": 1304, "chunk index": 13, "chunk count": 14}
2025-11-26T16:29:21.407+0800	[31mERROR[0m	core/chatmsghandler.go:110	msgId is not same as sendId	{"sendId": 1304, "msgId": 913707985090514944}
2025-11-26T16:29:26.728+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_1040g3k031op2j5di506g5oe2hbp41dqclc9q0ug.jpg", "hash": "3eca9663ae9efa51b7e9794c3389ea36", "send id": 1305, "chunk index": 0, "chunk count": 2}
2025-11-26T16:29:26.854+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_1040g3k031op2j5di506g5oe2hbp41dqclc9q0ug.jpg", "hash": "3eca9663ae9efa51b7e9794c3389ea36", "send id": 1305, "chunk index": 1, "chunk count": 2}
2025-11-26T16:29:26.952+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1305) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913708016266776576, userId: 10001, fromId: 10001, toId: 10006, tm: 1764145766269 (time: 2025-11-26 16:29:26), devId: \"47FCC883FB83DD2D\", sendId: 1305, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/18voql8otpvsu.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"Camera_1040g3k031op2j5di506g5oe2hbp41dqclc9q0ug.jpg\\\",\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/18voql8otpvsu.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T16:29:26.978+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T16:29:26.980+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913702693275570176) MsgTChatMsg
2025-11-26T16:29:27.091+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913708016266776576  sendId:1305  recvOk:1764145766416  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:29:27.106+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913705421783568384) MsgTChatReply
2025-11-26T16:29:38.203+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_1040g3k031olfc6d6mg005nuhril095be73i8uf8.jpg", "hash": "a89e55f75576a797ed3b9173f27d88a7", "send id": 1306, "chunk index": 0, "chunk count": 2}
2025-11-26T16:29:38.358+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_1040g3k031olfc6d6mg005nuhril095be73i8uf8.jpg", "hash": "a89e55f75576a797ed3b9173f27d88a7", "send id": 1306, "chunk index": 1, "chunk count": 2}
2025-11-26T16:29:38.450+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1306) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913708064488689664, userId: 10001, fromId: 10001, toId: 10006, tm: 1764145777777 (time: 2025-11-26 16:29:37), devId: \"47FCC883FB83DD2D\", sendId: 1306, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/2b0vtjop3ix0o.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"Camera_1040g3k031olfc6d6mg005nuhril095be73i8uf8.jpg\\\",\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/2b0vtjop3ix0o.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T16:29:38.473+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T16:29:38.473+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913702693275570176) MsgTChatMsg
2025-11-26T16:29:38.641+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913708064488689664  sendId:1306  recvOk:1764145777977  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:29:38.659+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913705421783568384) MsgTChatReply
2025-11-26T16:29:47.703+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_1040g3k031op2j5di504g5oe2hbp41dqc4b04jl0.jpg", "hash": "ad19b7954d38e54a2a2a8c39e589b8b3", "send id": 1307, "chunk index": 0, "chunk count": 1}
2025-11-26T16:29:47.799+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1307) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913708103705432064, userId: 10001, fromId: 10001, toId: 10006, tm: 1764145787141 (time: 2025-11-26 16:29:47), devId: \"47FCC883FB83DD2D\", sendId: 1307, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/1502vfcf2qbal.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"Camera_1040g3k031op2j5di504g5oe2hbp41dqc4b04jl0.jpg\\\",\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/1502vfcf2qbal.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T16:29:47.818+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T16:29:47.820+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913702693275570176) MsgTChatMsg
2025-11-26T16:29:47.881+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913708103705432064  sendId:1307  recvOk:1764145787215  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:29:47.899+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913705421783568384) MsgTChatReply
2025-11-26T16:29:58.659+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_135437755.jpg", "hash": "fda13a0edb5d2a4e5e9ce5d3e1d85d30", "send id": 1308, "chunk index": 0, "chunk count": 12}
2025-11-26T16:29:58.853+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_135437755.jpg", "hash": "fda13a0edb5d2a4e5e9ce5d3e1d85d30", "send id": 1308, "chunk index": 1, "chunk count": 12}
2025-11-26T16:29:59.016+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_135437755.jpg", "hash": "fda13a0edb5d2a4e5e9ce5d3e1d85d30", "send id": 1308, "chunk index": 2, "chunk count": 12}
2025-11-26T16:29:59.221+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_135437755.jpg", "hash": "fda13a0edb5d2a4e5e9ce5d3e1d85d30", "send id": 1308, "chunk index": 3, "chunk count": 12}
2025-11-26T16:29:59.378+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_135437755.jpg", "hash": "fda13a0edb5d2a4e5e9ce5d3e1d85d30", "send id": 1308, "chunk index": 4, "chunk count": 12}
2025-11-26T16:29:59.549+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_135437755.jpg", "hash": "fda13a0edb5d2a4e5e9ce5d3e1d85d30", "send id": 1308, "chunk index": 5, "chunk count": 12}
2025-11-26T16:29:59.754+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_135437755.jpg", "hash": "fda13a0edb5d2a4e5e9ce5d3e1d85d30", "send id": 1308, "chunk index": 6, "chunk count": 12}
2025-11-26T16:29:59.915+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_135437755.jpg", "hash": "fda13a0edb5d2a4e5e9ce5d3e1d85d30", "send id": 1308, "chunk index": 7, "chunk count": 12}
2025-11-26T16:30:00.119+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_135437755.jpg", "hash": "fda13a0edb5d2a4e5e9ce5d3e1d85d30", "send id": 1308, "chunk index": 8, "chunk count": 12}
2025-11-26T16:30:00.281+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_135437755.jpg", "hash": "fda13a0edb5d2a4e5e9ce5d3e1d85d30", "send id": 1308, "chunk index": 9, "chunk count": 12}
2025-11-26T16:30:00.382+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1308) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913708156482359296, userId: 10001, fromId: 10001, toId: 10006, tm: 1764145799726 (time: 2025-11-26 16:29:59), devId: \"47FCC883FB83DD2D\", sendId: 1308, msgType: IMAGE, data: []byte, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T16:30:00.403+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T16:30:00.404+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913702693275570176) MsgTChatMsg
2025-11-26T16:30:00.435+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913708156482359296  sendId:1308  recvOk:1764145799786  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:30:00.458+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913705421783568384) MsgTChatReply
2025-11-26T16:30:00.532+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_135437755.jpg", "hash": "fda13a0edb5d2a4e5e9ce5d3e1d85d30", "send id": 1308, "chunk index": 10, "chunk count": 12}
2025-11-26T16:30:00.673+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_135437755.jpg", "hash": "fda13a0edb5d2a4e5e9ce5d3e1d85d30", "send id": 1308, "chunk index": 11, "chunk count": 12}
2025-11-26T16:30:00.758+0800	[31mERROR[0m	core/chatmsghandler.go:110	msgId is not same as sendId	{"sendId": 1308, "msgId": 913708156482359296}
2025-11-26T16:32:22.152+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913708064488689664  sendId:1306  recvOk:1764145941460  readOk:1764145941460  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:32:22.166+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913705421783568384) MsgTChatReply
2025-11-26T16:32:22.302+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913708103705432064  sendId:1307  recvOk:1764145941462  readOk:1764145941462  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:32:22.322+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913705421783568384) MsgTChatReply
2025-11-26T16:35:27.935+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(913705421783568384) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T16:35:27.935+0800	[34mINFO[0m	core/session.go:256	user(10001) session(913705421783568384)
2025-11-26T16:35:29.340+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"hyf/ffHLOkh+Ny32RV6f2e6IKrY4GwxQ3kwtIyw=\"}"}
2025-11-26T16:35:29.341+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-26T16:35:29.341+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764146129341,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T16:35:29.401+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T16:35:29.403+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913709535691149312) MsgTFriendOpRet
2025-11-26T16:35:29.556+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T16:35:29.557+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913709535691149312) MsgTFriendOpRet
2025-11-26T16:35:29.689+0800	[35mDEBUG[0m	core/chatmsghandler.go:490	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:913708156482359296  chatType:ChatTypeP2P"}
2025-11-26T16:35:29.709+0800	[35mDEBUG[0m	core/chatmsghandler.go:579	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T16:35:48.293+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "mmexport1763013008216.jpg", "hash": "e81dec34b92b174624689be931cd5fef", "send id": 1321, "chunk index": 0, "chunk count": 8}
2025-11-26T16:35:48.523+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "mmexport1763013008216.jpg", "hash": "e81dec34b92b174624689be931cd5fef", "send id": 1321, "chunk index": 1, "chunk count": 8}
2025-11-26T16:35:48.827+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "mmexport1763013008216.jpg", "hash": "e81dec34b92b174624689be931cd5fef", "send id": 1321, "chunk index": 2, "chunk count": 8}
2025-11-26T16:35:49.046+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "mmexport1763013008216.jpg", "hash": "e81dec34b92b174624689be931cd5fef", "send id": 1321, "chunk index": 3, "chunk count": 8}
2025-11-26T16:35:49.220+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "mmexport1763013008216.jpg", "hash": "e81dec34b92b174624689be931cd5fef", "send id": 1321, "chunk index": 4, "chunk count": 8}
2025-11-26T16:35:49.411+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "mmexport1763013008216.jpg", "hash": "e81dec34b92b174624689be931cd5fef", "send id": 1321, "chunk index": 5, "chunk count": 8}
2025-11-26T16:35:49.581+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "mmexport1763013008216.jpg", "hash": "e81dec34b92b174624689be931cd5fef", "send id": 1321, "chunk index": 6, "chunk count": 8}
2025-11-26T16:35:49.727+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "mmexport1763013008216.jpg", "hash": "e81dec34b92b174624689be931cd5fef", "send id": 1321, "chunk index": 7, "chunk count": 8}
2025-11-26T16:35:49.821+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1321) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913709622135754752, userId: 10001, fromId: 10001, toId: 10006, tm: 1764146149182 (time: 2025-11-26 16:35:49), devId: \"47FCC883FB83DD2D\", sendId: 1321, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/12ddrtor59q7c.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"mmexport1763013008216.jpg\\\",\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/12ddrtor59q7c.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T16:35:49.830+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T16:35:49.830+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913702693275570176) MsgTChatMsg
2025-11-26T16:35:50.073+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913709622135754752  sendId:1321  recvOk:1764146149371  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:35:50.116+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913709535691149312) MsgTChatReply
2025-11-26T16:36:30.966+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_134623364.jpg", "hash": "87a2f3af8a1f537de55567e59936b1a6", "send id": 1322, "chunk index": 0, "chunk count": 11}
2025-11-26T16:36:31.181+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_134623364.jpg", "hash": "87a2f3af8a1f537de55567e59936b1a6", "send id": 1322, "chunk index": 1, "chunk count": 11}
2025-11-26T16:36:31.362+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_134623364.jpg", "hash": "87a2f3af8a1f537de55567e59936b1a6", "send id": 1322, "chunk index": 2, "chunk count": 11}
2025-11-26T16:36:31.536+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_134623364.jpg", "hash": "87a2f3af8a1f537de55567e59936b1a6", "send id": 1322, "chunk index": 3, "chunk count": 11}
2025-11-26T16:36:31.715+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_134623364.jpg", "hash": "87a2f3af8a1f537de55567e59936b1a6", "send id": 1322, "chunk index": 4, "chunk count": 11}
2025-11-26T16:36:31.860+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_134623364.jpg", "hash": "87a2f3af8a1f537de55567e59936b1a6", "send id": 1322, "chunk index": 5, "chunk count": 11}
2025-11-26T16:36:32.022+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_134623364.jpg", "hash": "87a2f3af8a1f537de55567e59936b1a6", "send id": 1322, "chunk index": 6, "chunk count": 11}
2025-11-26T16:36:32.192+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_134623364.jpg", "hash": "87a2f3af8a1f537de55567e59936b1a6", "send id": 1322, "chunk index": 7, "chunk count": 11}
2025-11-26T16:36:32.388+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_134623364.jpg", "hash": "87a2f3af8a1f537de55567e59936b1a6", "send id": 1322, "chunk index": 8, "chunk count": 11}
2025-11-26T16:36:32.562+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_134623364.jpg", "hash": "87a2f3af8a1f537de55567e59936b1a6", "send id": 1322, "chunk index": 9, "chunk count": 11}
2025-11-26T16:36:32.765+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_134623364.jpg", "hash": "87a2f3af8a1f537de55567e59936b1a6", "send id": 1322, "chunk index": 10, "chunk count": 11}
2025-11-26T16:36:32.859+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1322) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913709802650210304, userId: 10001, fromId: 10001, toId: 10006, tm: 1764146192195 (time: 2025-11-26 16:36:32), devId: \"47FCC883FB83DD2D\", sendId: 1322, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/1wlyv8myatrif.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"MEITU_20251113_134623364.jpg\\\",\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/1wlyv8myatrif.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T16:36:32.888+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T16:36:32.889+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913702693275570176) MsgTChatMsg
2025-11-26T16:36:33.084+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913709802650210304  sendId:1322  recvOk:1764146192386  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:36:33.095+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913709535691149312) MsgTChatReply
2025-11-26T16:36:41.569+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_134654709.jpg", "hash": "12e0f52e3717b1e634f21e5c4aa9b2a3", "send id": 1323, "chunk index": 0, "chunk count": 13}
2025-11-26T16:36:41.823+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_134654709.jpg", "hash": "12e0f52e3717b1e634f21e5c4aa9b2a3", "send id": 1323, "chunk index": 1, "chunk count": 13}
2025-11-26T16:36:42.025+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_134654709.jpg", "hash": "12e0f52e3717b1e634f21e5c4aa9b2a3", "send id": 1323, "chunk index": 2, "chunk count": 13}
2025-11-26T16:36:42.209+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_134654709.jpg", "hash": "12e0f52e3717b1e634f21e5c4aa9b2a3", "send id": 1323, "chunk index": 3, "chunk count": 13}
2025-11-26T16:36:42.404+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_134654709.jpg", "hash": "12e0f52e3717b1e634f21e5c4aa9b2a3", "send id": 1323, "chunk index": 4, "chunk count": 13}
2025-11-26T16:36:42.543+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_134654709.jpg", "hash": "12e0f52e3717b1e634f21e5c4aa9b2a3", "send id": 1323, "chunk index": 5, "chunk count": 13}
2025-11-26T16:36:42.738+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_134654709.jpg", "hash": "12e0f52e3717b1e634f21e5c4aa9b2a3", "send id": 1323, "chunk index": 6, "chunk count": 13}
2025-11-26T16:36:42.948+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_134654709.jpg", "hash": "12e0f52e3717b1e634f21e5c4aa9b2a3", "send id": 1323, "chunk index": 7, "chunk count": 13}
2025-11-26T16:36:43.150+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_134654709.jpg", "hash": "12e0f52e3717b1e634f21e5c4aa9b2a3", "send id": 1323, "chunk index": 8, "chunk count": 13}
2025-11-26T16:36:43.323+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_134654709.jpg", "hash": "12e0f52e3717b1e634f21e5c4aa9b2a3", "send id": 1323, "chunk index": 9, "chunk count": 13}
2025-11-26T16:36:43.514+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_134654709.jpg", "hash": "12e0f52e3717b1e634f21e5c4aa9b2a3", "send id": 1323, "chunk index": 10, "chunk count": 13}
2025-11-26T16:36:43.678+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_134654709.jpg", "hash": "12e0f52e3717b1e634f21e5c4aa9b2a3", "send id": 1323, "chunk index": 11, "chunk count": 13}
2025-11-26T16:36:43.805+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_134654709.jpg", "hash": "12e0f52e3717b1e634f21e5c4aa9b2a3", "send id": 1323, "chunk index": 12, "chunk count": 13}
2025-11-26T16:36:43.873+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1323) from 10001 -> 10006	{"msg": "MsgChat{msgId: 913709848846274560, userId: 10001, fromId: 10001, toId: 10006, tm: 1764146203234 (time: 2025-11-26 16:36:43), devId: \"47FCC883FB83DD2D\", sendId: 1323, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/3ialmr81msavm.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"MEITU_20251113_134654709.jpg\\\",\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/3ialmr81msavm.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-26T16:36:43.886+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-26T16:36:43.886+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913702693275570176) MsgTChatMsg
2025-11-26T16:36:44.142+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913709848846274560  sendId:1323  recvOk:1764146203442  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:36:44.176+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913709535691149312) MsgTChatReply
2025-11-26T16:37:34.139+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(913702693275570176) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-26T16:37:34.140+0800	[34mINFO[0m	core/session.go:256	user(10006) session(913702693275570176)
2025-11-26T16:37:38.736+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:-5357504718274850190  params:{key:\"checkTokenData\"  value:\"Hn2YrvJbbv66uT5Zb5dah26iD8pNX5Q66YB0dvg=\"}"}
2025-11-26T16:37:38.740+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-26T16:37:38.740+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764146258740,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-26T16:37:38.786+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913710078182428672) MsgTFriendOpRet
2025-11-26T16:37:38.861+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-11-26T16:37:38.861+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913710078182428672) MsgTFriendOpRet
2025-11-26T16:37:38.907+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-26T16:37:38.907+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913710078182428672) MsgTFriendOpRet
2025-11-26T16:37:39.258+0800	[35mDEBUG[0m	core/chatmsghandler.go:490	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:913709848846274560  chatType:ChatTypeP2P"}
2025-11-26T16:37:39.279+0800	[35mDEBUG[0m	core/chatmsghandler.go:579	onQueryP2PChatData:	{"msg count:": 1}
2025-11-26T16:37:39.341+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913709848846274560  sendId:1323  recvOk:1764146258650  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:37:39.360+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913709535691149312) MsgTChatReply
2025-11-26T16:37:48.776+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913709802650210304  sendId:1322  recvOk:1764146268107  readOk:1764146268107  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:37:48.786+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913709535691149312) MsgTChatReply
2025-11-26T16:37:48.823+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:913709848846274560  sendId:1323  recvOk:1764146268108  readOk:1764146268108  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:37:48.846+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(913709535691149312) MsgTChatReply
2025-11-26T16:38:17.380+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913707665845260288  sendId:1287  recvOk:1764146296715  readOk:1764146296715  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:38:17.398+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913710078182428672) MsgTChatReply
2025-11-26T16:38:17.485+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913707717984653312  sendId:1288  recvOk:1764146296718  readOk:1764146296718  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:38:17.504+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913710078182428672) MsgTChatReply
2025-11-26T16:38:55.008+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913707594776973312  sendId:1286  recvOk:1764146334343  readOk:1764146334343  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:38:55.027+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913710078182428672) MsgTChatReply
2025-11-26T16:38:56.570+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913707507585781760  sendId:1285  recvOk:1764146335889  readOk:1764146335889  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:38:56.849+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913710078182428672) MsgTChatReply
2025-11-26T16:38:58.080+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913705135761395712  sendId:1284  recvOk:1764146337418  readOk:1764146337418  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:38:58.099+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913710078182428672) MsgTChatReply
2025-11-26T16:38:59.087+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913704548051324928  sendId:1282  recvOk:1764146338395  readOk:1764146338395  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:38:59.103+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913710078182428672) MsgTChatReply
2025-11-26T16:38:59.169+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913704749306613760  sendId:1283  recvOk:1764146338397  readOk:1764146338397  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:38:59.194+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913710078182428672) MsgTChatReply
2025-11-26T16:39:00.099+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:913704418069843968  sendId:1281  recvOk:1764146339436  readOk:1764146339436  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-11-26T16:39:00.109+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(913710078182428672) MsgTChatReply
2025-11-28T10:16:32.866+0800	[34mINFO[0m	server/main.go:92	server started here...
2025-11-28T10:23:05.499+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:-5357504718274850190  params:{key:\"checkTokenData\"  value:\"RtlnTakaNFcDRRAC1uIR38YSvg3MwsAXHv0PFAc=\"}"}
2025-11-28T10:23:05.660+0800	[35mDEBUG[0m	core/commonhelper.go:421	Load user permission list	{"user": 10006, "count": 0}
2025-11-28T10:23:05.664+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-28T10:23:05.664+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764296585664,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-28T10:23:05.801+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*"},{"userId":10002,"nickName":"robin","email":"*","phone":"*"}]}
2025-11-28T10:23:05.808+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(914340594829103104) MsgTFriendOpRet
2025-11-28T10:23:05.861+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"nickName":"yoyo","email":"*","phone":"*"}]}
2025-11-28T10:23:05.862+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(914340594829103104) MsgTFriendOpRet
2025-11-28T11:24:41.291+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"D7NPsHp+2dlZg3oO6TSKj9/6w5vAbym9mvNXCAg=\"}"}
2025-11-28T11:24:41.292+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-28T11:24:41.293+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764300281292,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-28T11:24:41.361+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*"},{"userId":10005,"nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-28T11:24:41.362+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(914356095957471232) MsgTFriendOpRet
2025-11-28T11:24:41.406+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-28T11:24:41.406+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(914356095957471232) MsgTFriendOpRet
2025-11-28T11:24:41.789+0800	[35mDEBUG[0m	core/chatmsghandler.go:490	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:913709848846274560  chatType:ChatTypeP2P"}
2025-11-28T11:24:41.822+0800	[35mDEBUG[0m	core/chatmsghandler.go:579	onQueryP2PChatData:	{"msg count:": 1}
2025-11-28T11:24:49.588+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "mmexport1764252400254.jpg", "hash": "27732b63684cf8edd4cd1d00bac120cc", "send id": 1341, "chunk index": 0, "chunk count": 1}
2025-11-28T11:24:49.831+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1341) from 10001 -> 10006	{"msg": "MsgChat{msgId: 914356132196257792, userId: 10001, fromId: 10001, toId: 10006, tm: 1764300289844 (time: 2025-11-28 11:24:49), devId: \"47FCC883FB83DD2D\", sendId: 1341, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/3ma1jh714x5pj.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"mmexport1764252400254.jpg\\\",\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/3ma1jh714x5pj.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-28T11:24:49.895+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-28T11:24:49.895+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(914340594829103104) MsgTChatMsg
2025-11-28T11:24:49.967+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:914356132196257792  sendId:1341  recvOk:1764300289118  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-28T11:24:50.008+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(914356095957471232) MsgTChatReply
2025-11-28T11:24:53.700+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_XHS_1764249925606.jpg", "hash": "bbe9bf1c6ad1925c556e690a1bb460b3", "send id": 1342, "chunk index": 0, "chunk count": 2}
2025-11-28T11:24:53.918+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_XHS_1764249925606.jpg", "hash": "bbe9bf1c6ad1925c556e690a1bb460b3", "send id": 1342, "chunk index": 1, "chunk count": 2}
2025-11-28T11:24:54.103+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1342) from 10001 -> 10006	{"msg": "MsgChat{msgId: 914356150114324480, userId: 10001, fromId: 10001, toId: 10006, tm: 1764300294050 (time: 2025-11-28 11:24:54), devId: \"47FCC883FB83DD2D\", sendId: 1342, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/1eohmy45chfp7.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"Camera_XHS_1764249925606.jpg\\\",\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/1eohmy45chfp7.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-28T11:24:54.119+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-28T11:24:54.119+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(914340594829103104) MsgTChatMsg
2025-11-28T11:24:54.253+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:914356150114324480  sendId:1342  recvOk:1764300293420  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-28T11:24:54.277+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(914356095957471232) MsgTChatReply
2025-11-28T11:24:57.646+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "mmexport1764243623677.jpg", "hash": "90ac49a4d1c58ab24e067e3e9749489b", "send id": 1343, "chunk index": 0, "chunk count": 2}
2025-11-28T11:24:57.796+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "mmexport1764243623677.jpg", "hash": "90ac49a4d1c58ab24e067e3e9749489b", "send id": 1343, "chunk index": 1, "chunk count": 2}
2025-11-28T11:24:58.125+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1343) from 10001 -> 10006	{"msg": "MsgChat{msgId: 914356166983815168, userId: 10001, fromId: 10001, toId: 10006, tm: 1764300297928 (time: 2025-11-28 11:24:57), devId: \"47FCC883FB83DD2D\", sendId: 1343, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/2pqt0rjre0w40.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"mmexport1764243623677.jpg\\\",\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/2pqt0rjre0w40.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-28T11:24:58.133+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-28T11:24:58.134+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(914340594829103104) MsgTChatMsg
2025-11-28T11:24:58.245+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:914356166983815168  sendId:1343  recvOk:1764300297411  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-28T11:24:58.261+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(914356095957471232) MsgTChatReply
2025-11-28T11:25:01.583+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251127_092722.jpg", "hash": "2a87ca9e8bd56eee2e4ed34e63417c2c", "send id": 1344, "chunk index": 0, "chunk count": 11}
2025-11-28T11:25:02.056+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251127_092722.jpg", "hash": "2a87ca9e8bd56eee2e4ed34e63417c2c", "send id": 1344, "chunk index": 1, "chunk count": 11}
2025-11-28T11:25:02.663+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251127_092722.jpg", "hash": "2a87ca9e8bd56eee2e4ed34e63417c2c", "send id": 1344, "chunk index": 2, "chunk count": 11}
2025-11-28T11:25:03.176+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251127_092722.jpg", "hash": "2a87ca9e8bd56eee2e4ed34e63417c2c", "send id": 1344, "chunk index": 3, "chunk count": 11}
2025-11-28T11:25:03.560+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251127_092722.jpg", "hash": "2a87ca9e8bd56eee2e4ed34e63417c2c", "send id": 1344, "chunk index": 4, "chunk count": 11}
2025-11-28T11:25:03.968+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251127_092722.jpg", "hash": "2a87ca9e8bd56eee2e4ed34e63417c2c", "send id": 1344, "chunk index": 5, "chunk count": 11}
2025-11-28T11:25:04.435+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251127_092722.jpg", "hash": "2a87ca9e8bd56eee2e4ed34e63417c2c", "send id": 1344, "chunk index": 6, "chunk count": 11}
2025-11-28T11:25:04.872+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251127_092722.jpg", "hash": "2a87ca9e8bd56eee2e4ed34e63417c2c", "send id": 1344, "chunk index": 7, "chunk count": 11}
2025-11-28T11:25:05.279+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251127_092722.jpg", "hash": "2a87ca9e8bd56eee2e4ed34e63417c2c", "send id": 1344, "chunk index": 8, "chunk count": 11}
2025-11-28T11:25:05.676+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251127_092722.jpg", "hash": "2a87ca9e8bd56eee2e4ed34e63417c2c", "send id": 1344, "chunk index": 9, "chunk count": 11}
2025-11-28T11:25:06.090+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251127_092722.jpg", "hash": "2a87ca9e8bd56eee2e4ed34e63417c2c", "send id": 1344, "chunk index": 10, "chunk count": 11}
2025-11-28T11:25:06.288+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1344) from 10001 -> 10006	{"msg": "MsgChat{msgId: 914356201221918720, userId: 10001, fromId: 10001, toId: 10006, tm: 1764300306249 (time: 2025-11-28 11:25:06), devId: \"47FCC883FB83DD2D\", sendId: 1344, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/3mj62bn3m7uay.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"IMG_20251127_092722.jpg\\\",\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/3mj62bn3m7uay.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-28T11:25:06.308+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-28T11:25:06.308+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(914340594829103104) MsgTChatMsg
2025-11-28T11:25:06.446+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:914356201221918720  sendId:1344  recvOk:1764300305603  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-28T11:25:06.468+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(914356095957471232) MsgTChatReply
2025-11-28T11:25:17.278+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251127_084336.jpg", "hash": "6dee6adcbafa0cfe320e3f6d19a8229d", "send id": 1345, "chunk index": 0, "chunk count": 9}
2025-11-28T11:25:17.664+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251127_084336.jpg", "hash": "6dee6adcbafa0cfe320e3f6d19a8229d", "send id": 1345, "chunk index": 1, "chunk count": 9}
2025-11-28T11:25:17.972+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251127_084336.jpg", "hash": "6dee6adcbafa0cfe320e3f6d19a8229d", "send id": 1345, "chunk index": 2, "chunk count": 9}
2025-11-28T11:25:18.298+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251127_084336.jpg", "hash": "6dee6adcbafa0cfe320e3f6d19a8229d", "send id": 1345, "chunk index": 3, "chunk count": 9}
2025-11-28T11:25:20.217+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251127_084336.jpg", "hash": "6dee6adcbafa0cfe320e3f6d19a8229d", "send id": 1345, "chunk index": 4, "chunk count": 9}
2025-11-28T11:25:20.728+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251127_084336.jpg", "hash": "6dee6adcbafa0cfe320e3f6d19a8229d", "send id": 1345, "chunk index": 5, "chunk count": 9}
2025-11-28T11:25:21.063+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251127_084336.jpg", "hash": "6dee6adcbafa0cfe320e3f6d19a8229d", "send id": 1345, "chunk index": 6, "chunk count": 9}
2025-11-28T11:25:21.361+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251127_084336.jpg", "hash": "6dee6adcbafa0cfe320e3f6d19a8229d", "send id": 1345, "chunk index": 7, "chunk count": 9}
2025-11-28T11:25:21.666+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251127_084336.jpg", "hash": "6dee6adcbafa0cfe320e3f6d19a8229d", "send id": 1345, "chunk index": 8, "chunk count": 9}
2025-11-28T11:25:21.766+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1345) from 10001 -> 10006	{"msg": "MsgChat{msgId: 914356266141356032, userId: 10001, fromId: 10001, toId: 10006, tm: 1764300321788 (time: 2025-11-28 11:25:21), devId: \"47FCC883FB83DD2D\", sendId: 1345, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/3v2yzh2fpldv1.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"IMG_20251127_084336.jpg\\\",\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/3v2yzh2fpldv1.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-28T11:25:21.788+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-28T11:25:21.788+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(914340594829103104) MsgTChatMsg
2025-11-28T11:25:21.912+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:914356266141356032  sendId:1345  recvOk:1764300321060  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-28T11:25:21.928+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(914356095957471232) MsgTChatReply
2025-11-28T11:25:22.367+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "send id": 1346, "chunk index": 0, "chunk count": 17}
2025-11-28T11:25:22.377+0800	[35mDEBUG[0m	core/filemsghander.go:280	find same file	{"uniq_name": "r04d2ugv00no.jpg", "file name": "IMG_20251125_121644.jpg", "hash": "5422829a9228533150452b33ceb55a6a", "tags": ["IMG", "20251125", "121644.", "jpg"]}
2025-11-28T11:25:22.432+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1346) from 10001 -> 10006	{"msg": "MsgChat{msgId: 914356268934762496, userId: 10001, fromId: 10001, toId: 10006, tm: 1764300322491 (time: 2025-11-28 11:25:22), devId: \"47FCC883FB83DD2D\", sendId: 1346, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/r04d2ugv00no.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"IMG_20251125_121644.jpg\\\",\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/r04d2ugv00no.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-28T11:25:22.450+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-28T11:25:22.451+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(914340594829103104) MsgTChatMsg
2025-11-28T11:25:22.516+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:914356268934762496  sendId:1346  recvOk:1764300321649  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-28T11:25:22.530+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(914356095957471232) MsgTChatReply
2025-11-28T11:25:38.164+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_1040g0k031p3egil72c005novru1085484e9bsb0.jpg", "hash": "3dee748d372349b490e1ac62a20ae642", "send id": 1347, "chunk index": 0, "chunk count": 1}
2025-11-28T11:25:38.276+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1347) from 10001 -> 10006	{"msg": "MsgChat{msgId: 914356335389315072, userId: 10001, fromId: 10001, toId: 10006, tm: 1764300338309 (time: 2025-11-28 11:25:38), devId: \"47FCC883FB83DD2D\", sendId: 1347, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/2qp64m7avo08t.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"Camera_1040g0k031p3egil72c005novru1085484e9bsb0.jpg\\\",\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/2qp64m7avo08t.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-28T11:25:38.282+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-28T11:25:38.284+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(914340594829103104) MsgTChatMsg
2025-11-28T11:25:38.402+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:914356335389315072  sendId:1347  recvOk:1764300337550  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-28T11:25:38.418+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(914356095957471232) MsgTChatReply
2025-11-28T11:25:47.007+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141235.jpg", "hash": "82003e6eb710ed9af83d7340fc3b3431", "send id": 1348, "chunk index": 0, "chunk count": 10}
2025-11-28T11:25:47.348+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141235.jpg", "hash": "82003e6eb710ed9af83d7340fc3b3431", "send id": 1348, "chunk index": 1, "chunk count": 10}
2025-11-28T11:25:47.759+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141235.jpg", "hash": "82003e6eb710ed9af83d7340fc3b3431", "send id": 1348, "chunk index": 2, "chunk count": 10}
2025-11-28T11:25:48.046+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141235.jpg", "hash": "82003e6eb710ed9af83d7340fc3b3431", "send id": 1348, "chunk index": 3, "chunk count": 10}
2025-11-28T11:25:48.345+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141235.jpg", "hash": "82003e6eb710ed9af83d7340fc3b3431", "send id": 1348, "chunk index": 4, "chunk count": 10}
2025-11-28T11:25:49.664+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141235.jpg", "hash": "82003e6eb710ed9af83d7340fc3b3431", "send id": 1348, "chunk index": 5, "chunk count": 10}
2025-11-28T11:25:50.137+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141235.jpg", "hash": "82003e6eb710ed9af83d7340fc3b3431", "send id": 1348, "chunk index": 6, "chunk count": 10}
2025-11-28T11:25:50.475+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141235.jpg", "hash": "82003e6eb710ed9af83d7340fc3b3431", "send id": 1348, "chunk index": 7, "chunk count": 10}
2025-11-28T11:25:50.882+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141235.jpg", "hash": "82003e6eb710ed9af83d7340fc3b3431", "send id": 1348, "chunk index": 8, "chunk count": 10}
2025-11-28T11:25:51.143+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251119_141235.jpg", "hash": "82003e6eb710ed9af83d7340fc3b3431", "send id": 1348, "chunk index": 9, "chunk count": 10}
2025-11-28T11:25:51.346+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1348) from 10001 -> 10006	{"msg": "MsgChat{msgId: 914356390208868352, userId: 10001, fromId: 10001, toId: 10006, tm: 1764300351296 (time: 2025-11-28 11:25:51), devId: \"47FCC883FB83DD2D\", sendId: 1348, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/2ctd90ke9berm.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"IMG_20251119_141235.jpg\\\",\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/2ctd90ke9berm.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-28T11:25:51.367+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-28T11:25:51.367+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(914340594829103104) MsgTChatMsg
2025-11-28T11:25:51.415+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1348) from 10001 -> 10006	{"msg": "MsgChat{msgId: 914356390498275328, userId: 10001, fromId: 10001, toId: 10006, tm: 1764300351355 (time: 2025-11-28 11:25:51), devId: \"47FCC883FB83DD2D\", sendId: 1348, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/2ctd90ke9berm.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"IMG_20251119_141235.jpg\\\",\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/2ctd90ke9berm.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-28T11:25:51.429+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-28T11:25:51.429+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(914340594829103104) MsgTChatMsg
2025-11-28T11:25:51.653+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:914356390208868352  sendId:1348  recvOk:1764300350777  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-28T11:25:51.678+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(914356095957471232) MsgTChatReply
2025-11-28T11:25:51.857+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:914356390498275328  sendId:1348  recvOk:1764300350975  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-28T11:25:51.886+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(914356095957471232) MsgTChatReply
2025-11-28T11:26:16.923+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_XHS_1763221215673.jpg", "hash": "151772cd405b5727dcd98c3b09cd43c0", "send id": 1349, "chunk index": 0, "chunk count": 1}
2025-11-28T11:26:16.999+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1349) from 10001 -> 10006	{"msg": "MsgChat{msgId: 914356497805348864, userId: 10001, fromId: 10001, toId: 10006, tm: 1764300377038 (time: 2025-11-28 11:26:17), devId: \"47FCC883FB83DD2D\", sendId: 1349, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/ljcx2rrrexat.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"Camera_XHS_1763221215673.jpg\\\",\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/ljcx2rrrexat.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-28T11:26:17.019+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-28T11:26:17.019+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(914340594829103104) MsgTChatMsg
2025-11-28T11:26:17.253+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:914356497805348864  sendId:1349  recvOk:1764300376372  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-28T11:26:17.268+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(914356095957471232) MsgTChatReply
2025-11-28T11:26:46.824+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_134045314.jpg", "hash": "546824f85a82ada89af4adf40e527225", "send id": 1350, "chunk index": 0, "chunk count": 3}
2025-11-28T11:26:47.313+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_134045314.jpg", "hash": "546824f85a82ada89af4adf40e527225", "send id": 1350, "chunk index": 1, "chunk count": 3}
2025-11-28T11:26:47.769+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_134045314.jpg", "hash": "546824f85a82ada89af4adf40e527225", "send id": 1350, "chunk index": 2, "chunk count": 3}
2025-11-28T11:26:48.135+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1350) from 10001 -> 10006	{"msg": "MsgChat{msgId: 914356628399198208, userId: 10001, fromId: 10001, toId: 10006, tm: 1764300407921 (time: 2025-11-28 11:26:47), devId: \"47FCC883FB83DD2D\", sendId: 1350, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/2kce7q7vv76ms.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"MEITU_20251113_134045314.jpg\\\",\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/2kce7q7vv76ms.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-28T11:26:48.143+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-28T11:26:48.143+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(914340594829103104) MsgTChatMsg
2025-11-28T11:26:48.383+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:914356628399198208  sendId:1350  recvOk:1764300407509  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-28T11:26:48.403+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(914356095957471232) MsgTChatReply
2025-11-28T11:26:55.477+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_1040g3k031op2j5di506g5oe2hbp41dqclc9q0ug.jpg", "hash": "3eca9663ae9efa51b7e9794c3389ea36", "send id": 1351, "chunk index": 0, "chunk count": 2}
2025-11-28T11:26:55.480+0800	[35mDEBUG[0m	core/filemsghander.go:280	find same file	{"uniq_name": "18voql8otpvsu.jpg", "file name": "Camera_1040g3k031op2j5di506g5oe2hbp41dqclc9q0ug.jpg", "hash": "3eca9663ae9efa51b7e9794c3389ea36", "tags": ["Camera", "1040", "g3k031op2j5di506g5oe2hbp41dqclc9q0ug", "jpg"]}
2025-11-28T11:26:55.625+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1351) from 10001 -> 10006	{"msg": "MsgChat{msgId: 914356659814535168, userId: 10001, fromId: 10001, toId: 10006, tm: 1764300415674 (time: 2025-11-28 11:26:55), devId: \"47FCC883FB83DD2D\", sendId: 1351, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/18voql8otpvsu.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"Camera_1040g3k031op2j5di506g5oe2hbp41dqclc9q0ug.jpg\\\",\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/18voql8otpvsu.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-28T11:26:55.647+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-28T11:26:55.648+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(914340594829103104) MsgTChatMsg
2025-11-28T11:26:55.859+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:914356659814535168  sendId:1351  recvOk:1764300414978  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-28T11:26:55.873+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(914356095957471232) MsgTChatReply
2025-11-28T11:27:10.529+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251111_152642250.jpg", "hash": "e415c456b69bb1ba422814e2469e6777", "send id": 1352, "chunk index": 0, "chunk count": 4}
2025-11-28T11:27:11.075+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251111_152642250.jpg", "hash": "e415c456b69bb1ba422814e2469e6777", "send id": 1352, "chunk index": 1, "chunk count": 4}
2025-11-28T11:27:11.491+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251111_152642250.jpg", "hash": "e415c456b69bb1ba422814e2469e6777", "send id": 1352, "chunk index": 2, "chunk count": 4}
2025-11-28T11:27:11.703+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251111_152642250.jpg", "hash": "e415c456b69bb1ba422814e2469e6777", "send id": 1352, "chunk index": 3, "chunk count": 4}
2025-11-28T11:27:11.818+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1352) from 10001 -> 10006	{"msg": "MsgChat{msgId: 914356727732899840, userId: 10001, fromId: 10001, toId: 10006, tm: 1764300431853 (time: 2025-11-28 11:27:11), devId: \"47FCC883FB83DD2D\", sendId: 1352, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/2u7gpudytf3s4.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"MEITU_20251111_152642250.jpg\\\",\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/2u7gpudytf3s4.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-28T11:27:11.828+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-28T11:27:11.829+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(914340594829103104) MsgTChatMsg
2025-11-28T11:27:12.037+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:914356727732899840  sendId:1352  recvOk:1764300431171  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-28T11:27:12.061+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(914356095957471232) MsgTChatReply
2025-11-28T11:27:24.532+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_1040g3k031op8og8n4u6g5oagva0gk0veiuau4eg.jpg", "hash": "f5a63060c5a1ffdff511fd17d4218a1e", "send id": 1353, "chunk index": 0, "chunk count": 2}
2025-11-28T11:27:24.915+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_1040g3k031op8og8n4u6g5oagva0gk0veiuau4eg.jpg", "hash": "f5a63060c5a1ffdff511fd17d4218a1e", "send id": 1353, "chunk index": 1, "chunk count": 2}
2025-11-28T11:27:25.049+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1353) from 10001 -> 10006	{"msg": "MsgChat{msgId: 914356783227736064, userId: 10001, fromId: 10001, toId: 10006, tm: 1764300445074 (time: 2025-11-28 11:27:25), devId: \"47FCC883FB83DD2D\", sendId: 1353, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/3emor6bihwnat.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"Camera_1040g3k031op8og8n4u6g5oagva0gk0veiuau4eg.jpg\\\",\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/3emor6bihwnat.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-28T11:27:25.063+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-28T11:27:25.063+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(914340594829103104) MsgTChatMsg
2025-11-28T11:27:25.349+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:914356783227736064  sendId:1353  recvOk:1764300444476  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-28T11:27:25.376+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(914356095957471232) MsgTChatReply
2025-11-28T11:27:47.175+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1354) from 10001 -> 10006	{"msg": "MsgChat{msgId: 914356876030906368, userId: 10001, fromId: 10001, toId: 10006, tm: 1764300467102 (time: 2025-11-28 11:27:47), devId: \"47FCC883FB83DD2D\", sendId: 1354, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-28T11:27:47.193+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-28T11:27:47.194+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(914340594829103104) MsgTChatMsg
2025-11-28T11:27:47.468+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:914356876030906368  sendId:1354  recvOk:1764300466591  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-28T11:27:47.512+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(914356095957471232) MsgTChatReply
2025-11-28T11:28:54.341+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_1040g3k031op8og8n4u6g5oagva0gk0veiuau4eg.jpg", "hash": "f5a63060c5a1ffdff511fd17d4218a1e", "send id": 1355, "chunk index": 0, "chunk count": 2}
2025-11-28T11:28:54.344+0800	[35mDEBUG[0m	core/filemsghander.go:280	find same file	{"uniq_name": "3emor6bihwnat.jpg", "file name": "Camera_1040g3k031op8og8n4u6g5oagva0gk0veiuau4eg.jpg", "hash": "f5a63060c5a1ffdff511fd17d4218a1e", "tags": ["Camera", "1040", "g3k031op8og8n4u6g5oagva0gk0veiuau4eg", "jpg"]}
2025-11-28T11:28:54.540+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1355) from 10001 -> 10006	{"msg": "MsgChat{msgId: 914357158580195328, userId: 10001, fromId: 10001, toId: 10006, tm: 1764300534474 (time: 2025-11-28 11:28:54), devId: \"47FCC883FB83DD2D\", sendId: 1355, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/3emor6bihwnat.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"Camera_1040g3k031op8og8n4u6g5oagva0gk0veiuau4eg.jpg\\\",\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/3emor6bihwnat.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-28T11:28:54.564+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-28T11:28:54.565+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(914340594829103104) MsgTChatMsg
2025-11-28T11:28:54.847+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:914357158580195328  sendId:1355  recvOk:1764300533976  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-28T11:28:54.859+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(914356095957471232) MsgTChatReply
2025-11-28T11:29:16.250+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_XHS_17626066130101040g2sg31o7oi7hfl8eg4b8eubmdn69isscbhr0.jpg", "hash": "8ea35b763df096f9fb54e3c4dc4e56b4", "send id": 1356, "chunk index": 0, "chunk count": 2}
2025-11-28T11:29:16.769+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_XHS_17626066130101040g2sg31o7oi7hfl8eg4b8eubmdn69isscbhr0.jpg", "hash": "8ea35b763df096f9fb54e3c4dc4e56b4", "send id": 1356, "chunk index": 1, "chunk count": 2}
2025-11-28T11:29:16.967+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1356) from 10001 -> 10006	{"msg": "MsgChat{msgId: 914357252645851136, userId: 10001, fromId: 10001, toId: 10006, tm: 1764300556929 (time: 2025-11-28 11:29:16), devId: \"47FCC883FB83DD2D\", sendId: 1356, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/3sn1suif1ax72.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"Camera_XHS_17626066130101040g2sg31o7oi7hfl8eg4b8eubmdn69isscbhr0.jpg\\\",\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/3sn1suif1ax72.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-28T11:29:16.983+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-28T11:29:16.984+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(914340594829103104) MsgTChatMsg
2025-11-28T11:29:17.268+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:914357252645851136  sendId:1356  recvOk:1764300556400  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-28T11:29:17.284+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(914356095957471232) MsgTChatReply
2025-11-28T11:29:51.313+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1357) from 10001 -> 10006	{"msg": "MsgChat{msgId: 914357396703416320, userId: 10001, fromId: 10001, toId: 10006, tm: 1764300591209 (time: 2025-11-28 11:29:51), devId: \"47FCC883FB83DD2D\", sendId: 1357, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-28T11:29:56.431+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1357) from 10001 -> 10006	{"msg": "MsgChat{msgId: 914357418169864192, userId: 10001, fromId: 10001, toId: 10006, tm: 1764300596362 (time: 2025-11-28 11:29:56), devId: \"47FCC883FB83DD2D\", sendId: 1357, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-28T11:30:06.739+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1357) from 10001 -> 10006	{"msg": "MsgChat{msgId: 914357461404749824, userId: 10001, fromId: 10001, toId: 10006, tm: 1764300606595 (time: 2025-11-28 11:30:06), devId: \"47FCC883FB83DD2D\", sendId: 1357, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-28T11:30:16.874+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1357) from 10001 -> 10006	{"msg": "MsgChat{msgId: 914357503914020864, userId: 10001, fromId: 10001, toId: 10006, tm: 1764300616858 (time: 2025-11-28 11:30:16), devId: \"47FCC883FB83DD2D\", sendId: 1357, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-28T11:30:27.116+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1357) from 10001 -> 10006	{"msg": "MsgChat{msgId: 914357546872082432, userId: 10001, fromId: 10001, toId: 10006, tm: 1764300627081 (time: 2025-11-28 11:30:27), devId: \"47FCC883FB83DD2D\", sendId: 1357, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-28T11:30:37.381+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1357) from 10001 -> 10006	{"msg": "MsgChat{msgId: 914357589926612992, userId: 10001, fromId: 10001, toId: 10006, tm: 1764300637298 (time: 2025-11-28 11:30:37), devId: \"47FCC883FB83DD2D\", sendId: 1357, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-28T11:30:47.584+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1357) from 10001 -> 10006	{"msg": "MsgChat{msgId: 914357632721096704, userId: 10001, fromId: 10001, toId: 10006, tm: 1764300647558 (time: 2025-11-28 11:30:47), devId: \"47FCC883FB83DD2D\", sendId: 1357, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-28T11:30:57.789+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1357) from 10001 -> 10006	{"msg": "MsgChat{msgId: 914357675523969024, userId: 10001, fromId: 10001, toId: 10006, tm: 1764300657780 (time: 2025-11-28 11:30:57), devId: \"47FCC883FB83DD2D\", sendId: 1357, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-28T11:31:08.097+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1357) from 10001 -> 10006	{"msg": "MsgChat{msgId: 914357718758854656, userId: 10001, fromId: 10001, toId: 10006, tm: 1764300667996 (time: 2025-11-28 11:31:07), devId: \"47FCC883FB83DD2D\", sendId: 1357, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-28T11:31:18.248+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1357) from 10001 -> 10006	{"msg": "MsgChat{msgId: 914357761335234560, userId: 10001, fromId: 10001, toId: 10006, tm: 1764300678162 (time: 2025-11-28 11:31:18), devId: \"47FCC883FB83DD2D\", sendId: 1357, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-28T11:31:28.375+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1357) from 10001 -> 10006	{"msg": "MsgChat{msgId: 914357803810951168, userId: 10001, fromId: 10001, toId: 10006, tm: 1764300688378 (time: 2025-11-28 11:31:28), devId: \"47FCC883FB83DD2D\", sendId: 1357, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-28T11:31:38.713+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1357) from 10001 -> 10006	{"msg": "MsgChat{msgId: 914357847171665920, userId: 10001, fromId: 10001, toId: 10006, tm: 1764300698632 (time: 2025-11-28 11:31:38), devId: \"47FCC883FB83DD2D\", sendId: 1357, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-28T11:31:48.853+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1357) from 10001 -> 10006	{"msg": "MsgChat{msgId: 914357889701908480, userId: 10001, fromId: 10001, toId: 10006, tm: 1764300708846 (time: 2025-11-28 11:31:48), devId: \"47FCC883FB83DD2D\", sendId: 1357, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-28T11:32:26.515+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1358) from 10001 -> 10006	{"msg": "MsgChat{msgId: 914358047667785728, userId: 10001, fromId: 10001, toId: 10006, tm: 1764300746550 (time: 2025-11-28 11:32:26), devId: \"47FCC883FB83DD2D\", sendId: 1358, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-28T11:32:26.523+0800	[35mDEBUG[0m	core/chatmsghandler.go:249	send back reply 'save data ok'
2025-11-28T11:32:26.523+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(914340594829103104) MsgTChatMsg
2025-11-28T11:32:26.766+0800	[35mDEBUG[0m	core/chatmsghandler.go:370	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:914358047667785728  sendId:1358  recvOk:1764300745902  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-28T11:32:26.808+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(914356095957471232) MsgTChatReply
2025-11-28T11:39:08.608+0800	[34mINFO[0m	server/main.go:92	server started here...
2025-11-28T11:39:15.523+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"wGEjaeCEfEYURmzv2cX1Jd61b2k4rnvoVqLUM8s=\"}"}
2025-11-28T11:39:15.718+0800	[35mDEBUG[0m	core/commonhelper.go:421	Load user permission list	{"user": 10001, "count": 0}
2025-11-28T11:39:15.718+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-28T11:39:15.719+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764301155718,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-28T11:39:15.923+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"nickName":"robin","email":"*","phone":"*"},{"userId":10004,"nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*"},{"userId":10005,"nickName":"robin","email":"*","phone":"*"},{"userId":10006,"nickName":"robin fox","email":"*","phone":"*"},{"userId":10007,"nickName":"yoyo","email":"*","phone":"*"}]}
2025-11-28T11:39:15.923+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(914359762756440064) MsgTFriendOpRet
2025-11-28T11:39:15.967+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-28T11:39:15.967+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(914359762756440064) MsgTFriendOpRet
2025-11-28T11:39:54.186+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1359) from 10001 -> 10006	{"msg": "MsgChat{msgId: 914359925336051712, userId: 10001, fromId: 10001, toId: 10006, tm: 1764301194137 (time: 2025-11-28 11:39:54), devId: \"47FCC883FB83DD2D\", sendId: 1359, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-28T11:39:54.274+0800	[31mERROR[0m	core/chatmsghandler.go:244	Batch too large
2025-11-28T11:39:54.678+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1359) from 10001 -> 10006	{"msg": "MsgChat{msgId: 914359927399649280, userId: 10001, fromId: 10001, toId: 10006, tm: 1764301194690 (time: 2025-11-28 11:39:54), devId: \"47FCC883FB83DD2D\", sendId: 1359, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-28T11:39:54.720+0800	[31mERROR[0m	core/chatmsghandler.go:244	Batch too large
2025-11-28T11:40:04.957+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1359) from 10001 -> 10006	{"msg": "MsgChat{msgId: 914359970512900096, userId: 10001, fromId: 10001, toId: 10006, tm: 1764301204948 (time: 2025-11-28 11:40:04), devId: \"47FCC883FB83DD2D\", sendId: 1359, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-28T11:40:04.982+0800	[31mERROR[0m	core/chatmsghandler.go:244	Batch too large
2025-11-28T11:40:15.096+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1359) from 10001 -> 10006	{"msg": "MsgChat{msgId: 914360013038948352, userId: 10001, fromId: 10001, toId: 10006, tm: 1764301215115 (time: 2025-11-28 11:40:15), devId: \"47FCC883FB83DD2D\", sendId: 1359, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-28T11:40:15.132+0800	[31mERROR[0m	core/chatmsghandler.go:244	Batch too large
2025-11-28T11:40:25.389+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1359) from 10001 -> 10006	{"msg": "MsgChat{msgId: 914360056210919424, userId: 10001, fromId: 10001, toId: 10006, tm: 1764301225363 (time: 2025-11-28 11:40:25), devId: \"47FCC883FB83DD2D\", sendId: 1359, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-28T11:40:25.410+0800	[31mERROR[0m	core/chatmsghandler.go:244	Batch too large
2025-11-28T11:40:35.578+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1359) from 10001 -> 10006	{"msg": "MsgChat{msgId: 914360098946682880, userId: 10001, fromId: 10001, toId: 10006, tm: 1764301235584 (time: 2025-11-28 11:40:35), devId: \"47FCC883FB83DD2D\", sendId: 1359, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-28T11:40:35.600+0800	[31mERROR[0m	core/chatmsghandler.go:244	Batch too large
2025-11-28T11:40:45.738+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1359) from 10001 -> 10006	{"msg": "MsgChat{msgId: 914360141560811520, userId: 10001, fromId: 10001, toId: 10006, tm: 1764301245766 (time: 2025-11-28 11:40:45), devId: \"47FCC883FB83DD2D\", sendId: 1359, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-28T11:40:45.767+0800	[31mERROR[0m	core/chatmsghandler.go:244	Batch too large
2025-11-28T11:40:56.051+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1359) from 10001 -> 10006	{"msg": "MsgChat{msgId: 914360184816668672, userId: 10001, fromId: 10001, toId: 10006, tm: 1764301256011 (time: 2025-11-28 11:40:56), devId: \"47FCC883FB83DD2D\", sendId: 1359, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-28T11:40:56.078+0800	[31mERROR[0m	core/chatmsghandler.go:244	Batch too large
2025-11-28T11:41:06.235+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1359) from 10001 -> 10006	{"msg": "MsgChat{msgId: 914360227531460608, userId: 10001, fromId: 10001, toId: 10006, tm: 1764301266234 (time: 2025-11-28 11:41:06), devId: \"47FCC883FB83DD2D\", sendId: 1359, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-28T11:41:06.265+0800	[31mERROR[0m	core/chatmsghandler.go:244	Batch too large
2025-11-28T11:41:16.459+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1359) from 10001 -> 10006	{"msg": "MsgChat{msgId: 914360270414024704, userId: 10001, fromId: 10001, toId: 10006, tm: 1764301276447 (time: 2025-11-28 11:41:16), devId: \"47FCC883FB83DD2D\", sendId: 1359, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-28T11:41:16.486+0800	[31mERROR[0m	core/chatmsghandler.go:244	Batch too large
2025-11-28T11:41:26.685+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1359) from 10001 -> 10006	{"msg": "MsgChat{msgId: 914360313304977408, userId: 10001, fromId: 10001, toId: 10006, tm: 1764301286656 (time: 2025-11-28 11:41:26), devId: \"47FCC883FB83DD2D\", sendId: 1359, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-28T11:41:26.716+0800	[31mERROR[0m	core/chatmsghandler.go:244	Batch too large
2025-11-28T11:41:36.892+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1359) from 10001 -> 10006	{"msg": "MsgChat{msgId: 914360356116238336, userId: 10001, fromId: 10001, toId: 10006, tm: 1764301296849 (time: 2025-11-28 11:41:36), devId: \"47FCC883FB83DD2D\", sendId: 1359, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-28T11:41:36.908+0800	[31mERROR[0m	core/chatmsghandler.go:244	Batch too large
2025-11-28T11:41:47.108+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1359) from 10001 -> 10006	{"msg": "MsgChat{msgId: 914360398965248000, userId: 10001, fromId: 10001, toId: 10006, tm: 1764301307053 (time: 2025-11-28 11:41:47), devId: \"47FCC883FB83DD2D\", sendId: 1359, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-28T11:41:47.137+0800	[31mERROR[0m	core/chatmsghandler.go:244	Batch too large
2025-11-28T11:43:06.766+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"2okhMN+G5KdCYlqVH1RUz3AOL+zrMPqxwAJHKuY=\"}"}
2025-11-28T11:43:06.768+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-28T11:43:06.768+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764301386768,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-28T11:43:06.824+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-11-28T11:43:06.824+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(914360732982841344) MsgTFriendOpRet
2025-11-28T11:43:06.877+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-28T11:43:06.880+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(914360732982841344) MsgTFriendOpRet
2025-11-28T11:47:20.806+0800	[34mINFO[0m	server/main.go:92	server started here...
2025-11-28T11:47:29.791+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"zCzm6tjRBdafbetrOMEChpDMEEq3ez3LzwGJZUk=\"}"}
2025-11-28T11:47:29.967+0800	[35mDEBUG[0m	core/commonhelper.go:421	Load user permission list	{"user": 10001, "count": 0}
2025-11-28T11:47:29.968+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-28T11:47:29.968+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764301649968,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-28T11:47:30.077+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"nickName":"robin","email":"*","phone":"*"},{"userId":10004,"nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*"},{"userId":10005,"nickName":"robin","email":"*","phone":"*"},{"userId":10006,"nickName":"robin fox","email":"*","phone":"*"},{"userId":10007,"nickName":"yoyo","email":"*","phone":"*"}]}
2025-11-28T11:47:30.077+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(914361836034461696) MsgTFriendOpRet
2025-11-28T11:47:30.118+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-28T11:47:30.118+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(914361836034461696) MsgTFriendOpRet
2025-11-28T11:47:38.013+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1360) from 10001 -> 10006	{"msg": "MsgChat{msgId: 914361870767493120, userId: 10001, fromId: 10001, toId: 10006, tm: 1764301658035 (time: 2025-11-28 11:47:38), devId: \"47FCC883FB83DD2D\", sendId: 1360, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-28T11:47:38.087+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-11-28T11:47:38.087+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-11-28T11:47:55.210+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1361) from 10001 -> 10006	{"msg": "MsgChat{msgId: 914361942896939008, userId: 10001, fromId: 10001, toId: 10006, tm: 1764301675231 (time: 2025-11-28 11:47:55), devId: \"47FCC883FB83DD2D\", sendId: 1361, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-28T11:47:55.232+0800	[31mERROR[0m	core/chatmsghandler.go:244	save to db err: 	{"error": "Batch too large", "draf len": 42597}
2025-11-28T11:48:03.867+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1361) from 10001 -> 10006	{"msg": "MsgChat{msgId: 914361979207028736, userId: 10001, fromId: 10001, toId: 10006, tm: 1764301683896 (time: 2025-11-28 11:48:03), devId: \"47FCC883FB83DD2D\", sendId: 1361, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-28T11:48:03.893+0800	[31mERROR[0m	core/chatmsghandler.go:244	save to db err: 	{"error": "Batch too large", "draf len": 42597}
2025-11-28T11:48:14.107+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1361) from 10001 -> 10006	{"msg": "MsgChat{msgId: 914362022156701696, userId: 10001, fromId: 10001, toId: 10006, tm: 1764301694128 (time: 2025-11-28 11:48:14), devId: \"47FCC883FB83DD2D\", sendId: 1361, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-28T11:48:14.137+0800	[31mERROR[0m	core/chatmsghandler.go:244	save to db err: 	{"error": "Batch too large", "draf len": 42597}
2025-11-28T11:48:24.370+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1361) from 10001 -> 10006	{"msg": "MsgChat{msgId: 914362065198649344, userId: 10001, fromId: 10001, toId: 10006, tm: 1764301704375 (time: 2025-11-28 11:48:24), devId: \"47FCC883FB83DD2D\", sendId: 1361, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-28T11:48:24.393+0800	[31mERROR[0m	core/chatmsghandler.go:244	save to db err: 	{"error": "Batch too large", "draf len": 42597}
2025-11-28T11:48:34.630+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1361) from 10001 -> 10006	{"msg": "MsgChat{msgId: 914362108236402688, userId: 10001, fromId: 10001, toId: 10006, tm: 1764301714602 (time: 2025-11-28 11:48:34), devId: \"47FCC883FB83DD2D\", sendId: 1361, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-28T11:48:34.639+0800	[31mERROR[0m	core/chatmsghandler.go:244	save to db err: 	{"error": "Batch too large", "draf len": 42597}
2025-11-28T11:48:44.849+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1361) from 10001 -> 10006	{"msg": "MsgChat{msgId: 914362151097995264, userId: 10001, fromId: 10001, toId: 10006, tm: 1764301724828 (time: 2025-11-28 11:48:44), devId: \"47FCC883FB83DD2D\", sendId: 1361, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-28T11:48:44.860+0800	[31mERROR[0m	core/chatmsghandler.go:244	save to db err: 	{"error": "Batch too large", "draf len": 42597}
2025-11-28T11:48:55.063+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1361) from 10001 -> 10006	{"msg": "MsgChat{msgId: 914362193938616320, userId: 10001, fromId: 10001, toId: 10006, tm: 1764301735058 (time: 2025-11-28 11:48:55), devId: \"47FCC883FB83DD2D\", sendId: 1361, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-28T11:48:55.087+0800	[31mERROR[0m	core/chatmsghandler.go:244	save to db err: 	{"error": "Batch too large", "draf len": 42597}
2025-11-28T11:49:05.252+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1361) from 10001 -> 10006	{"msg": "MsgChat{msgId: 914362236674379776, userId: 10001, fromId: 10001, toId: 10006, tm: 1764301745251 (time: 2025-11-28 11:49:05), devId: \"47FCC883FB83DD2D\", sendId: 1361, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-28T11:49:05.271+0800	[31mERROR[0m	core/chatmsghandler.go:244	save to db err: 	{"error": "Batch too large", "draf len": 42597}
2025-11-28T11:49:15.458+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1361) from 10001 -> 10006	{"msg": "MsgChat{msgId: 914362279481446400, userId: 10001, fromId: 10001, toId: 10006, tm: 1764301755457 (time: 2025-11-28 11:49:15), devId: \"47FCC883FB83DD2D\", sendId: 1361, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-28T11:49:15.481+0800	[31mERROR[0m	core/chatmsghandler.go:244	save to db err: 	{"error": "Batch too large", "draf len": 42597}
2025-11-28T11:49:25.596+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1361) from 10001 -> 10006	{"msg": "MsgChat{msgId: 914362322003300352, userId: 10001, fromId: 10001, toId: 10006, tm: 1764301765637 (time: 2025-11-28 11:49:25), devId: \"47FCC883FB83DD2D\", sendId: 1361, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-28T11:49:25.613+0800	[31mERROR[0m	core/chatmsghandler.go:244	save to db err: 	{"error": "Batch too large", "draf len": 42597}
2025-11-28T11:49:35.869+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1361) from 10001 -> 10006	{"msg": "MsgChat{msgId: 914362365091385344, userId: 10001, fromId: 10001, toId: 10006, tm: 1764301775839 (time: 2025-11-28 11:49:35), devId: \"47FCC883FB83DD2D\", sendId: 1361, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-28T11:49:35.897+0800	[31mERROR[0m	core/chatmsghandler.go:244	save to db err: 	{"error": "Batch too large", "draf len": 42597}
2025-11-28T11:49:46.060+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1361) from 10001 -> 10006	{"msg": "MsgChat{msgId: 914362407835537408, userId: 10001, fromId: 10001, toId: 10006, tm: 1764301786047 (time: 2025-11-28 11:49:46), devId: \"47FCC883FB83DD2D\", sendId: 1361, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-28T11:49:46.092+0800	[31mERROR[0m	core/chatmsghandler.go:244	save to db err: 	{"error": "Batch too large", "draf len": 42597}
2025-11-28T11:54:06.634+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:-5357504718274850190  params:{key:\"checkTokenData\"  value:\"oWNTNA+0UaKpKJ8+2hI8sn/R+eX9dVG8M++N8CI=\"}"}
2025-11-28T11:54:06.636+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-11-28T11:54:06.636+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764302046636,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-11-28T11:54:06.778+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-11-28T11:54:06.779+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(914363500455923712) MsgTFriendOpRet
2025-11-28T11:54:06.809+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-28T11:54:06.810+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(914363500455923712) MsgTFriendOpRet
2025-11-28T11:58:49.388+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(914361836034461696) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-28T11:58:49.389+0800	[34mINFO[0m	core/session.go:256	user(10001) session(914361836034461696)
2025-11-28T11:58:50.682+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"5j7gYmZyUmA/84qj/BuOtY9c1TRXFQ4PcvbzMps=\"}"}
2025-11-28T11:58:50.683+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-28T11:58:50.683+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764302330683,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-28T11:58:50.781+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-28T11:58:50.782+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(914364691625676800) MsgTFriendOpRet
2025-11-28T11:58:50.845+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-28T11:58:50.845+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(914364691625676800) MsgTFriendOpRet
2025-11-28T11:58:51.011+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:914361870767493120  chatType:ChatTypeP2P"}
2025-11-28T11:58:51.047+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-11-28T11:59:30.667+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1381) from 10001 -> 10006	{"msg": "MsgChat{msgId: 914364859855015936, userId: 10001, fromId: 10001, toId: 10006, tm: 1764302370656 (time: 2025-11-28 11:59:30), devId: \"47FCC883FB83DD2D\", sendId: 1381, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-11-28T11:59:30.695+0800	[31mERROR[0m	core/chatmsghandler.go:244	save to db err: 	{"error": "Batch too large", "draf len": 46230}
2025-11-28T12:04:46.355+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:914357252645851136  sendId:1356  recvOk:1764302685541  readOk:1764302685541  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-28T12:04:46.399+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(914364691625676800) MsgTChatReply
2025-11-28T12:04:46.406+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:914358047667785728  sendId:1358  recvOk:1764302685543  readOk:1764302685543  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-28T12:04:46.427+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(914364691625676800) MsgTChatReply
2025-11-28T12:04:51.209+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:914356876030906368  sendId:1354  recvOk:1764302690356  readOk:1764302690356  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-28T12:04:51.227+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(914364691625676800) MsgTChatReply
2025-11-28T12:04:51.262+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:914357158580195328  sendId:1355  recvOk:1764302690357  readOk:1764302690357  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-28T12:04:51.287+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(914364691625676800) MsgTChatReply
2025-11-28T12:04:55.722+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:914356727732899840  sendId:1352  recvOk:1764302694874  readOk:1764302694874  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-28T12:04:55.738+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(914364691625676800) MsgTChatReply
2025-11-28T12:04:55.777+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:914356783227736064  sendId:1353  recvOk:1764302694875  readOk:1764302694875  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-28T12:04:55.806+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(914364691625676800) MsgTChatReply
2025-11-28T12:04:56.887+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:914356628399198208  sendId:1350  recvOk:1764302696024  readOk:1764302696024  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-28T12:04:56.903+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(914364691625676800) MsgTChatReply
2025-11-28T12:04:56.943+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:914356659814535168  sendId:1351  recvOk:1764302696025  readOk:1764302696025  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-11-28T12:04:56.965+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(914364691625676800) MsgTChatReply
2025-11-28T12:13:10.823+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(914364691625676800) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-28T12:13:10.824+0800	[34mINFO[0m	core/session.go:256	user(10001) session(914364691625676800)
2025-11-28T12:13:13.810+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"EW0c1y+Oe+yms1ABSNyQKor7b+mXlBKcNEY19uE=\"}"}
2025-11-28T12:13:13.814+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-28T12:13:13.816+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764303193814,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-28T12:13:13.937+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-28T12:13:13.938+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(914368311934980096) MsgTFriendOpRet
2025-11-28T12:13:13.975+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-28T12:13:13.975+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(914368311934980096) MsgTFriendOpRet
2025-11-28T12:13:14.120+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:914364859855015936  chatType:ChatTypeP2P"}
2025-11-28T12:13:14.130+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 0}
2025-11-28T12:24:12.695+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(914368311934980096) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-28T12:24:12.696+0800	[34mINFO[0m	core/session.go:256	user(10001) session(914368311934980096)
2025-11-28T12:24:19.518+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"rIWF9WI+vRTRfKlDFPGr/ETvZUkcxf+kTWupXaw=\"}"}
2025-11-28T12:24:19.519+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-28T12:24:19.519+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764303859519,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-28T12:24:19.669+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-28T12:24:19.669+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(914371102409625600) MsgTFriendOpRet
2025-11-28T12:24:19.771+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-28T12:24:19.771+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(914371102409625600) MsgTFriendOpRet
2025-11-28T12:24:21.297+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:914364859855015936  chatType:ChatTypeP2P"}
2025-11-28T12:24:21.308+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 0}
2025-11-28T12:26:20.415+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(914371102409625600) close here, because ws:readLoop() error, err=read tcp 192.168.1.2:7817->192.168.1.31:48508: i/o timeout
2025-11-28T12:26:20.417+0800	[34mINFO[0m	core/session.go:256	user(10001) session(914371102409625600)
2025-11-28T12:27:43.022+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"qm6NBfzvc30elNIF0fSrKxzMbT26Jy+TmaqfS8Y=\"}"}
2025-11-28T12:27:43.025+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-28T12:27:43.025+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764304063025,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-28T12:27:43.210+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-28T12:27:43.211+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(914371957527547904) MsgTFriendOpRet
2025-11-28T12:27:43.264+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-28T12:27:43.266+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(914371957527547904) MsgTFriendOpRet
2025-11-28T12:29:47.549+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(914371957527547904) close here, because ws:readLoop() error, err=read tcp 192.168.1.2:7817->192.168.1.31:48542: i/o timeout
2025-11-28T12:29:47.553+0800	[34mINFO[0m	core/session.go:256	user(10001) session(914371957527547904)
2025-11-28T12:33:11.013+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"MC7/OX3nPwd5ZuPLlKLVw7nnAjNfy5CqgdxAVH8=\"}"}
2025-11-28T12:33:11.017+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-11-28T12:33:11.017+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1764304391017,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-11-28T12:33:11.068+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-28T12:33:11.069+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(914373333317980160) MsgTFriendOpRet
2025-11-28T12:33:11.110+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-11-28T12:33:11.111+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(914373333317980160) MsgTFriendOpRet
2025-11-28T12:33:11.304+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:914364859855015936  chatType:ChatTypeP2P"}
2025-11-28T12:33:11.316+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 0}
2025-11-28T12:33:47.381+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(914373333317980160) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-11-28T12:33:47.384+0800	[34mINFO[0m	core/session.go:256	user(10001) session(914373333317980160)
2025-12-18T13:40:06.356+0800	[34mINFO[0m	server/main.go:92	server started here...
2025-12-18T14:14:06.864+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:-5357504718274850190  params:{key:\"checkTokenData\"  value:\"OvMBCzVPa1AvgSVXNcQUDGdbW+47oqRKxQFYOpU=\"}"}
2025-12-18T14:14:07.084+0800	[35mDEBUG[0m	core/commonhelper.go:421	Load user permission list	{"user": 10006, "count": 0}
2025-12-18T14:14:07.119+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-12-18T14:14:07.119+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766038447119,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-12-18T14:14:07.213+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(921646490840076288) MsgTFriendOpRet
2025-12-18T14:14:07.320+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*"},{"userId":10002,"nickName":"robin","email":"*","phone":"*"}]}
2025-12-18T14:14:07.320+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(921646490840076288) MsgTFriendOpRet
2025-12-18T14:14:07.348+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"nickName":"yoyo","email":"*","phone":"*"}]}
2025-12-18T14:14:07.349+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(921646490840076288) MsgTFriendOpRet
2025-12-18T14:14:07.648+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:914358047667785728  chatType:ChatTypeP2P"}
2025-12-18T14:14:07.683+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 2}
2025-12-18T14:14:07.721+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:914358047667785728  sendId:1358  recvOk:1766038446684  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-18T14:14:07.760+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-12-18T14:14:07.777+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:914361870767493120  sendId:1360  recvOk:1766038446684  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-18T14:14:07.802+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-12-18T14:14:08.590+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"kr9xsVRugGanpD3yiUQyVRGxjlgCUiVaiu6bhhs=\"}"}
2025-12-18T14:14:08.590+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-18T14:14:08.590+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766038448590,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-18T14:14:08.647+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*"},{"userId":10005,"nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-18T14:14:08.648+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(921646497945227264) MsgTFriendOpRet
2025-12-18T14:14:08.694+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-18T14:14:08.695+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(921646497945227264) MsgTFriendOpRet
2025-12-18T14:14:08.904+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:914364859855015936  chatType:ChatTypeP2P"}
2025-12-18T14:14:08.923+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 0}
2025-12-18T14:14:27.103+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "audio2227074669427833243.m4a", "hash": "ed3f0c7bc8c1c38ff48db3f855d6fc84", "send id": 1401, "chunk index": 0, "chunk count": 1}
2025-12-18T14:14:27.305+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1401) from 10001 -> 10006	{"msg": "MsgChat{msgId: 921646576919777280, userId: 10001, fromId: 10001, toId: 10006, tm: 1766038466818 (time: 2025-12-18 14:14:26), devId: \"47FCC883FB83DD2D\", sendId: 1401, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-18T14:14:27.379+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-18T14:14:27.380+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(921646490840076288) MsgTChatMsg
2025-12-18T14:14:27.520+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:921646576919777280  sendId:1401  recvOk:1766038466466  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-18T14:14:27.549+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(921646497945227264) MsgTChatReply
2025-12-18T14:14:39.379+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:914361870767493120  sendId:1360  recvOk:1766038478324  readOk:1766038478324  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-18T14:14:39.400+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(921646497945227264) MsgTChatReply
2025-12-18T14:14:39.422+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:921646576919777280  sendId:1401  recvOk:1766038478326  readOk:1766038478326  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-18T14:14:39.448+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(921646497945227264) MsgTChatReply
2025-12-18T14:17:50.463+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(921646490840076288) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-18T14:17:50.468+0800	[34mINFO[0m	core/session.go:256	user(10006) session(921646490840076288)
2025-12-18T14:18:38.021+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(921646497945227264) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-18T14:18:38.022+0800	[34mINFO[0m	core/session.go:256	user(10001) session(921646497945227264)
2025-12-18T15:22:15.720+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:-5357504718274850190  params:{key:\"checkTokenData\"  value:\"Q/EOGa+56tSMXyHx7vl1TUAU+MinxfORmOlsmpA=\"}"}
2025-12-18T15:22:15.727+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-12-18T15:22:15.729+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766042535727,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-12-18T15:22:15.770+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(921663640363470848) MsgTFriendOpRet
2025-12-18T15:22:15.874+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-12-18T15:22:15.874+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(921663640363470848) MsgTFriendOpRet
2025-12-18T15:22:16.109+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-18T15:22:16.111+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(921663640363470848) MsgTFriendOpRet
2025-12-18T15:22:16.276+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:921646576919777280  chatType:ChatTypeP2P"}
2025-12-18T15:22:16.318+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-18T15:22:16.376+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:921646576919777280  sendId:1401  recvOk:1766042535351  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-18T15:22:16.432+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-12-18T15:22:31.119+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(921663640363470848) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-18T15:22:31.121+0800	[34mINFO[0m	core/session.go:256	user(10006) session(921663640363470848)
2025-12-18T15:23:58.916+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:-5357504718274850190  params:{key:\"checkTokenData\"  value:\"/HFr1jiaOLmnT0jrrwaw4zs584SQZbUpP5GOZT8=\"}"}
2025-12-18T15:23:58.920+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-12-18T15:23:58.921+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766042638920,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-12-18T15:23:59.107+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(921664071080742912) MsgTFriendOpRet
2025-12-18T15:23:59.191+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-12-18T15:23:59.191+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(921664071080742912) MsgTFriendOpRet
2025-12-18T15:23:59.243+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-18T15:23:59.244+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(921664071080742912) MsgTFriendOpRet
2025-12-18T15:24:03.838+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:921646576919777280  chatType:ChatTypeP2P"}
2025-12-18T15:24:03.861+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-18T15:24:03.925+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:921646576919777280  sendId:1401  recvOk:1766042642935  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-18T15:24:03.943+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-12-18T15:25:13.833+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(921664071080742912) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-18T15:25:13.833+0800	[34mINFO[0m	core/session.go:256	user(10006) session(921664071080742912)
2025-12-18T15:26:08.773+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:-5357504718274850190  params:{key:\"checkTokenData\"  value:\"c4J7jJVA8i66DIa3iOXx8gaClgRqrFGKOrH5yQA=\"}"}
2025-12-18T15:26:08.776+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-12-18T15:26:08.777+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766042768776,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-12-18T15:26:08.925+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(921664615375572992) MsgTFriendOpRet
2025-12-18T15:26:08.993+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-12-18T15:26:08.993+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(921664615375572992) MsgTFriendOpRet
2025-12-18T15:26:09.054+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-18T15:26:09.054+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(921664615375572992) MsgTFriendOpRet
2025-12-18T15:26:13.432+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:921646576919777280  chatType:ChatTypeP2P"}
2025-12-18T15:26:13.444+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-18T15:26:13.526+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:921646576919777280  sendId:1401  recvOk:1766042772496  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-18T15:26:13.542+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-12-18T15:27:34.417+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(921664615375572992) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-18T15:27:34.417+0800	[34mINFO[0m	core/session.go:256	user(10006) session(921664615375572992)
2025-12-18T15:28:09.868+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:-5357504718274850190  params:{key:\"checkTokenData\"  value:\"QQSx1oxE0HEcYGTdX2SviFmGCo/7nsCPRtb4GsM=\"}"}
2025-12-18T15:28:09.872+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-12-18T15:28:09.873+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766042889872,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-12-18T15:28:09.917+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(921665125486825472) MsgTFriendOpRet
2025-12-18T15:28:09.987+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-12-18T15:28:09.987+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(921665125486825472) MsgTFriendOpRet
2025-12-18T15:28:10.039+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-18T15:28:10.040+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(921665125486825472) MsgTFriendOpRet
2025-12-18T15:28:10.421+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:921646576919777280  chatType:ChatTypeP2P"}
2025-12-18T15:28:10.436+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-18T15:28:10.472+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:921646576919777280  sendId:1401  recvOk:1766042889468  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-18T15:28:10.502+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-12-18T15:29:53.205+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(921665125486825472) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-18T15:29:53.206+0800	[34mINFO[0m	core/session.go:256	user(10006) session(921665125486825472)
2025-12-18T16:07:08.426+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:-5357504718274850190  params:{key:\"checkTokenData\"  value:\"C/rMb/pGOkFSVR/LGVg808YPaSRrqAxeqsks3DM=\"}"}
2025-12-18T16:07:08.427+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-12-18T16:07:08.427+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766045228427,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-12-18T16:07:08.583+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(921674933959004160) MsgTFriendOpRet
2025-12-18T16:07:08.659+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-12-18T16:07:08.659+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(921674933959004160) MsgTFriendOpRet
2025-12-18T16:07:08.704+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-18T16:07:08.704+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(921674933959004160) MsgTFriendOpRet
2025-12-18T16:07:09.242+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:921646576919777280  chatType:ChatTypeP2P"}
2025-12-18T16:07:09.260+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-18T16:07:09.297+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:921646576919777280  sendId:1401  recvOk:1766045228480  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-18T16:07:09.324+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-12-18T16:07:24.789+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(921674933959004160) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-18T16:07:24.789+0800	[34mINFO[0m	core/session.go:256	user(10006) session(921674933959004160)
2025-12-18T16:07:26.189+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:-5357504718274850190  params:{key:\"checkTokenData\"  value:\"jm0ivRBZ9PuZP+L/eYkDud2uUZtgwzGWnrWyW1w=\"}"}
2025-12-18T16:07:26.190+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-12-18T16:07:26.190+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766045246190,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-12-18T16:07:26.239+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(921675009167069184) MsgTFriendOpRet
2025-12-18T16:07:26.306+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-12-18T16:07:26.306+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(921675009167069184) MsgTFriendOpRet
2025-12-18T16:07:26.350+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-18T16:07:26.350+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(921675009167069184) MsgTFriendOpRet
2025-12-18T16:07:26.593+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:921646576919777280  chatType:ChatTypeP2P"}
2025-12-18T16:07:26.615+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-18T16:07:26.643+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:921646576919777280  sendId:1401  recvOk:1766045245832  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-18T16:07:26.664+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-12-18T16:08:49.878+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"V/hTLaOdpxg3gLIDwggZb/AOkZ6xi8Y17d7GQcA=\"}"}
2025-12-18T16:08:49.880+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-18T16:08:49.881+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766045329880,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-18T16:08:49.959+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-18T16:08:49.960+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(921675360238702592) MsgTFriendOpRet
2025-12-18T16:08:49.986+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-18T16:08:49.987+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(921675360238702592) MsgTFriendOpRet
2025-12-18T16:08:50.182+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:921646576919777280  chatType:ChatTypeP2P"}
2025-12-18T16:08:50.205+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-18T16:09:10.427+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "audio4815125159304161802.m4a", "hash": "5e5abe992a073f56e77dfef6dff97223", "send id": 1421, "chunk index": 0, "chunk count": 1}
2025-12-18T16:09:10.522+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1421) from 10001 -> 10006	{"msg": "MsgChat{msgId: 921675447232761856, userId: 10001, fromId: 10001, toId: 10006, tm: 1766045350067 (time: 2025-12-18 16:09:10), devId: \"47FCC883FB83DD2D\", sendId: 1421, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-18T16:09:10.569+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-18T16:09:10.569+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(921675009167069184) MsgTChatMsg
2025-12-18T16:09:10.690+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:921675447232761856  sendId:1421  recvOk:1766045349885  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-18T16:09:10.700+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(921675360238702592) MsgTChatReply
2025-12-18T16:09:42.103+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "audio4559966016972943075.m4a", "hash": "f3380667720b83f3ccb104dedbe81c5b", "send id": 1422, "chunk index": 0, "chunk count": 1}
2025-12-18T16:09:42.250+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1422) from 10001 -> 10006	{"msg": "MsgChat{msgId: 921675580309639168, userId: 10001, fromId: 10001, toId: 10006, tm: 1766045381764 (time: 2025-12-18 16:09:41), devId: \"47FCC883FB83DD2D\", sendId: 1422, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-18T16:09:42.268+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-18T16:09:42.269+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(921675009167069184) MsgTChatMsg
2025-12-18T16:09:42.447+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:921675580309639168  sendId:1422  recvOk:1766045381613  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-18T16:09:42.474+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(921675360238702592) MsgTChatReply
2025-12-18T16:10:33.601+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(921675360238702592) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-18T16:10:33.602+0800	[34mINFO[0m	core/session.go:256	user(10001) session(921675360238702592)
2025-12-18T16:10:39.308+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"7w2w3zjrPXkwDSHvnQp8cWi7cxD2i5ytQmHWfSs=\"}"}
2025-12-18T16:10:39.310+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-18T16:10:39.310+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766045439310,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-18T16:10:39.465+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-18T16:10:39.466+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(921675817304592384) MsgTFriendOpRet
2025-12-18T16:10:39.518+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-18T16:10:39.518+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(921675817304592384) MsgTFriendOpRet
2025-12-18T16:10:40.910+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:921675580309639168  chatType:ChatTypeP2P"}
2025-12-18T16:10:40.921+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-18T16:12:20.073+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "audio5683368596950481344.m4a", "hash": "025b68a5470379e3b53d646b55a23ebf", "send id": 1441, "chunk index": 0, "chunk count": 1}
2025-12-18T16:12:20.988+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1441) from 10001 -> 10006	{"msg": "MsgChat{msgId: 921676246105067520, userId: 10001, fromId: 10001, toId: 10006, tm: 1766045540465 (time: 2025-12-18 16:12:20), devId: \"47FCC883FB83DD2D\", sendId: 1441, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-18T16:12:21.003+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-18T16:12:21.003+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(921675009167069184) MsgTChatMsg
2025-12-18T16:12:21.088+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:921676246105067520  sendId:1441  recvOk:1766045540264  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-18T16:12:21.113+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(921675817304592384) MsgTChatReply
2025-12-18T16:13:21.747+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "audio6861648630246771791.m4a", "hash": "e1c7858222f0d3e53387907a3307d568", "send id": 1442, "chunk index": 0, "chunk count": 1}
2025-12-18T16:13:22.496+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1442) from 10001 -> 10006	{"msg": "MsgChat{msgId: 921676504088317952, userId: 10001, fromId: 10001, toId: 10006, tm: 1766045601995 (time: 2025-12-18 16:13:21), devId: \"47FCC883FB83DD2D\", sendId: 1442, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-18T16:13:22.520+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-18T16:13:22.520+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(921675009167069184) MsgTChatMsg
2025-12-18T16:13:22.705+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:921676504088317952  sendId:1442  recvOk:1766045601862  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-18T16:13:22.723+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(921675817304592384) MsgTChatReply
2025-12-18T16:13:40.879+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "audio6414429612728737722.m4a", "hash": "cf0894ce49548db48409b4b4197fc821", "send id": 1443, "chunk index": 0, "chunk count": 1}
2025-12-18T16:13:41.511+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1443) from 10001 -> 10006	{"msg": "MsgChat{msgId: 921676583843008512, userId: 10001, fromId: 10001, toId: 10006, tm: 1766045621020 (time: 2025-12-18 16:13:41), devId: \"47FCC883FB83DD2D\", sendId: 1443, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-18T16:13:41.527+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-18T16:13:41.527+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(921675009167069184) MsgTChatMsg
2025-12-18T16:13:41.613+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:921676583843008512  sendId:1443  recvOk:1766045620771  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-18T16:13:41.637+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(921675817304592384) MsgTChatReply
2025-12-18T16:15:47.929+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "audio4333462736868858318.m4a", "hash": "19ad560eabaf7d28892eadb816124113", "send id": 1444, "chunk index": 0, "chunk count": 1}
2025-12-18T16:15:48.562+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1444) from 10001 -> 10006	{"msg": "MsgChat{msgId: 921677116733526016, userId: 10001, fromId: 10001, toId: 10006, tm: 1766045748046 (time: 2025-12-18 16:15:48), devId: \"47FCC883FB83DD2D\", sendId: 1444, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-18T16:15:48.592+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-18T16:15:48.592+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(921675009167069184) MsgTChatMsg
2025-12-18T16:15:48.842+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:921677116733526016  sendId:1444  recvOk:1766045747999  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-18T16:15:48.869+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(921675817304592384) MsgTChatReply
2025-12-18T16:16:42.378+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(921675817304592384) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-18T16:16:42.379+0800	[34mINFO[0m	core/session.go:256	user(10001) session(921675817304592384)
2025-12-22T21:19:30.345+0800	[34mINFO[0m	server/main.go:93	server started here...
2025-12-22T21:33:39.731+0800	[34mINFO[0m	server/main.go:93	server started here...
2025-12-22T21:33:41.985+0800	[35mDEBUG[0m	handler/filedownload.go:107	download?	{"filename": "2qp64m7avo08t.jpg"}
2025-12-22T22:04:06.647+0800	[34mINFO[0m	server/main.go:93	server started here...
2025-12-22T22:20:57.956+0800	[34mINFO[0m	server/main.go:93	server started here...
2025-12-22T22:22:12.875+0800	[34mINFO[0m	server/main.go:93	server started here...
2025-12-22T22:44:46.196+0800	[34mINFO[0m	server/main.go:93	server started here...
2025-12-22T22:46:49.436+0800	[34mINFO[0m	server/main.go:93	server started here...
2025-12-22T22:46:52.377+0800	[35mDEBUG[0m	handler/filedownload.go:125	download?	{"filename": "3zi18u3l5inm.jpg"}
2025-12-22T22:46:52.649+0800	[35mDEBUG[0m	handler/filedownload.go:125	download?	{"filename": "3zi18u3l5inm.jpg"}
2025-12-23T11:35:27.356+0800	[34mINFO[0m	server/main.go:93	server started here...
2025-12-23T11:36:45.226+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"gWn6ZOvixp6MeWFk6bxxncCU+GL2Mi4OAMP9Dpw=\"}"}
2025-12-23T11:36:45.402+0800	[35mDEBUG[0m	core/commonhelper.go:421	Load user permission list	{"user": 10001, "count": 0}
2025-12-23T11:36:45.406+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-23T11:36:45.407+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766461005406,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T11:36:45.528+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"nickName":"robin","email":"*","phone":"*"},{"userId":10004,"nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*"},{"userId":10005,"nickName":"robin","email":"*","phone":"*"},{"userId":10006,"nickName":"robin fox","email":"*","phone":"*"},{"userId":10007,"nickName":"yoyo","email":"*","phone":"*"}]}
2025-12-23T11:36:45.530+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923418828426317824) MsgTFriendOpRet
2025-12-23T11:36:45.602+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T11:36:45.602+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923418828426317824) MsgTFriendOpRet
2025-12-23T11:36:45.933+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:921677116733526016 chatType:ChatTypeP2P"}
2025-12-23T11:36:45.971+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-23T11:36:55.756+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1461) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923418873578000384, userId: 10001, fromId: 10001, toId: 10006, tm: 1766461015557 (time: 2025-12-23 11:36:55), devId: \"47FCC883FB83DD2D\", sendId: 1461, msgType: TEXT, data: \"æµ‹è¯•\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T11:36:55.820+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T11:36:55.821+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-12-23T11:37:04.194+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Screenshot_2025-12-21-14-10-55-207_com.tencent.mm.jpg", "hash": "123f1cb0844c3dfb9e04013a5bf03880", "send id": 1462, "chunk index": 0, "chunk count": 2}
2025-12-23T11:37:04.419+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Screenshot_2025-12-21-14-10-55-207_com.tencent.mm.jpg", "hash": "123f1cb0844c3dfb9e04013a5bf03880", "send id": 1462, "chunk index": 1, "chunk count": 2}
2025-12-23T11:37:04.553+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1462) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923418910483681280, userId: 10001, fromId: 10001, toId: 10006, tm: 1766461024377 (time: 2025-12-23 11:37:04), devId: \"47FCC883FB83DD2D\", sendId: 1462, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/download?u=4516930846336681555&sign=K8GeH6vjbINQgm9cgpyATPVqs7tb50CUVI68wqYnOlR1-jSU1n80wkBOPPICzNpQwp1CukQqYE2Q2YA\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"Screenshot_2025-12-21-14-10-55-207_com.tencent.mm.jpg\\\",\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/download?u=4516930846336681555&sign=K8GeH6vjbINQgm9cgpyATPVqs7tb50CUVI68wqYnOlR1-jSU1n80wkBOPPICzNpQwp1CukQqYE2Q2YA\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T11:37:04.576+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T11:37:04.576+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-12-23T11:37:55.261+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(923418828426317824) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-23T11:37:55.269+0800	[34mINFO[0m	core/session.go:256	user(10001) session(923418828426317824)
2025-12-23T11:39:22.918+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"+yAuaPnlW8bFwjF3TKUPtwSZ9BAmBJZiAusIeHw=\"}"}
2025-12-23T11:39:22.919+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-23T11:39:22.920+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766461162919,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T11:39:22.991+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T11:39:22.992+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923419490459455488) MsgTFriendOpRet
2025-12-23T11:39:23.048+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T11:39:23.048+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923419490459455488) MsgTFriendOpRet
2025-12-23T11:39:23.314+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:923418910483681280 chatType:ChatTypeP2P"}
2025-12-23T11:39:23.329+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-23T11:39:31.478+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251221_090755.jpg", "hash": "230dc505aee7b05686a0470cab380bc7", "send id": 1481, "chunk index": 0, "chunk count": 9}
2025-12-23T11:39:31.792+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251221_090755.jpg", "hash": "230dc505aee7b05686a0470cab380bc7", "send id": 1481, "chunk index": 1, "chunk count": 9}
2025-12-23T11:39:31.983+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251221_090755.jpg", "hash": "230dc505aee7b05686a0470cab380bc7", "send id": 1481, "chunk index": 2, "chunk count": 9}
2025-12-23T11:39:32.289+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251221_090755.jpg", "hash": "230dc505aee7b05686a0470cab380bc7", "send id": 1481, "chunk index": 3, "chunk count": 9}
2025-12-23T11:39:32.576+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251221_090755.jpg", "hash": "230dc505aee7b05686a0470cab380bc7", "send id": 1481, "chunk index": 4, "chunk count": 9}
2025-12-23T11:39:32.789+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251221_090755.jpg", "hash": "230dc505aee7b05686a0470cab380bc7", "send id": 1481, "chunk index": 5, "chunk count": 9}
2025-12-23T11:39:33.084+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251221_090755.jpg", "hash": "230dc505aee7b05686a0470cab380bc7", "send id": 1481, "chunk index": 6, "chunk count": 9}
2025-12-23T11:39:33.287+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251221_090755.jpg", "hash": "230dc505aee7b05686a0470cab380bc7", "send id": 1481, "chunk index": 7, "chunk count": 9}
2025-12-23T11:39:33.454+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251221_090755.jpg", "hash": "230dc505aee7b05686a0470cab380bc7", "send id": 1481, "chunk index": 8, "chunk count": 9}
2025-12-23T11:39:33.562+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1481) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923419535472726016, userId: 10001, fromId: 10001, toId: 10006, tm: 1766461173404 (time: 2025-12-23 11:39:33), devId: \"47FCC883FB83DD2D\", sendId: 1481, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"https://192.168.1.2:7817/filestore/download?u=4516930846336681555&sign=hdg0nymcWJppfp5GELw4fj5WXvhMIbW-p_l5YsSDffjzrYLtDlutLCuuf9jk_PFaD4-1lSPQINBS5Qc\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"IMG_20251221_090755.jpg\\\",\\\"local\\\":\\\"https://192.168.1.2:7817/filestore/download?u=4516930846336681555&sign=hdg0nymcWJppfp5GELw4fj5WXvhMIbW-p_l5YsSDffjzrYLtDlutLCuuf9jk_PFaD4-1lSPQINBS5Qc\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T11:39:33.582+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T11:39:33.583+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-12-23T12:16:37.312+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"pDsjkCmXK91miGqShoRumqKxVc022WR/91YDJyA=\"}"}
2025-12-23T12:16:37.313+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-12-23T12:16:37.313+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766463397313,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T12:16:37.367+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923428861373452288) MsgTFriendOpRet
2025-12-23T12:16:37.454+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-12-23T12:16:37.454+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923428861373452288) MsgTFriendOpRet
2025-12-23T12:16:37.500+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T12:16:37.500+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923428861373452288) MsgTFriendOpRet
2025-12-23T12:16:37.922+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:921677116733526016 chatType:ChatTypeP2P"}
2025-12-23T12:16:37.954+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 4}
2025-12-23T12:16:38.021+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:921677116733526016 sendId:1444 recvOk:1766463397147 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-12-23T12:16:38.045+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923419490459455488) MsgTChatReply
2025-12-23T12:16:38.074+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923418873578000384 sendId:1461 recvOk:1766463397149 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-12-23T12:16:38.091+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923419490459455488) MsgTChatReply
2025-12-23T12:16:38.137+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923418910483681280 sendId:1462 recvOk:1766463397149 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-12-23T12:16:38.167+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923419490459455488) MsgTChatReply
2025-12-23T12:16:38.197+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923419535472726016 sendId:1481 recvOk:1766463397149 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-12-23T12:16:38.229+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923419490459455488) MsgTChatReply
2025-12-23T12:16:42.483+0800	[35mDEBUG[0m	handler/filedownload.go:126	download?	{"filename": "3tjkdo8n8l1jm.jpg", "expire": "57946-12-07 13:12:19"}
2025-12-23T12:16:42.574+0800	[35mDEBUG[0m	handler/filedownload.go:126	download?	{"filename": "1bgjz5eu5hnab.jpg", "expire": "57946-12-09 06:35:44"}
2025-12-23T12:16:51.518+0800	[35mDEBUG[0m	handler/filedownload.go:126	download?	{"filename": "1bgjz5eu5hnab.jpg", "expire": "57946-12-09 06:35:44"}
2025-12-23T12:17:08.227+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(923419490459455488) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-23T12:17:08.238+0800	[34mINFO[0m	core/session.go:256	user(10001) session(923419490459455488)
2025-12-23T12:17:09.550+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"rsD2z1s6A12FKZcSy+L7xgw+KiveOq7fIRLrgP4=\"}"}
2025-12-23T12:17:09.553+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-23T12:17:09.553+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766463429553,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T12:17:09.630+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T12:17:09.631+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923428997424091136) MsgTFriendOpRet
2025-12-23T12:17:09.662+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T12:17:09.663+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923428997424091136) MsgTFriendOpRet
2025-12-23T12:17:09.968+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:923419535472726016 chatType:ChatTypeP2P"}
2025-12-23T12:17:09.988+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-23T12:17:11.448+0800	[35mDEBUG[0m	handler/filedownload.go:126	download?	{"filename": "3tjkdo8n8l1jm.jpg", "expire": "57946-12-07 13:12:19"}
2025-12-23T12:17:18.672+0800	[35mDEBUG[0m	handler/filedownload.go:126	download?	{"filename": "3tjkdo8n8l1jm.jpg", "expire": "57946-12-07 13:12:19"}
2025-12-23T12:17:31.063+0800	[35mDEBUG[0m	handler/filedownload.go:126	download?	{"filename": "3tjkdo8n8l1jm.jpg", "expire": "57946-12-07 13:12:19"}
2025-12-23T12:17:40.382+0800	[35mDEBUG[0m	handler/filedownload.go:126	download?	{"filename": "3tjkdo8n8l1jm.jpg", "expire": "57946-12-07 13:12:19"}
2025-12-23T12:17:52.976+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923418873578000384 sendId:1461 recvOk:1766463472079 readOk:1766463472079 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-12-23T12:17:53.034+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923428997424091136) MsgTChatReply
2025-12-23T12:17:53.035+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923418910483681280 sendId:1462 recvOk:1766463472081 readOk:1766463472081 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-12-23T12:17:53.047+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923428997424091136) MsgTChatReply
2025-12-23T12:17:53.072+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923419535472726016 sendId:1481 recvOk:1766463472082 readOk:1766463472082 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-12-23T12:17:53.101+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923428997424091136) MsgTChatReply
2025-12-23T12:17:53.182+0800	[35mDEBUG[0m	handler/filedownload.go:126	download?	{"filename": "3tjkdo8n8l1jm.jpg", "expire": "57946-12-07 13:12:19"}
2025-12-23T12:17:53.248+0800	[35mDEBUG[0m	handler/filedownload.go:126	download?	{"filename": "3tjkdo8n8l1jm.jpg", "expire": "57946-12-07 13:12:19"}
2025-12-23T12:17:58.970+0800	[35mDEBUG[0m	handler/filedownload.go:126	download?	{"filename": "3tjkdo8n8l1jm.jpg", "expire": "57946-12-07 13:12:19"}
2025-12-23T12:17:58.973+0800	[35mDEBUG[0m	handler/filedownload.go:126	download?	{"filename": "1bgjz5eu5hnab.jpg", "expire": "57946-12-09 06:35:44"}
2025-12-23T12:24:23.381+0800	[34mINFO[0m	server/main.go:93	server started here...
2025-12-23T12:24:32.157+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"+DROmZxZMJ/zfTiOXlzO6Qb0OJXLl/qO/qghChE=\"}"}
2025-12-23T12:24:32.292+0800	[35mDEBUG[0m	core/commonhelper.go:421	Load user permission list	{"user": 10001, "count": 0}
2025-12-23T12:24:32.293+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-23T12:24:32.294+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766463872293,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T12:24:32.487+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"nickName":"robin","email":"*","phone":"*"},{"userId":10004,"nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*"},{"userId":10005,"nickName":"robin","email":"*","phone":"*"},{"userId":10006,"nickName":"robin fox","email":"*","phone":"*"},{"userId":10007,"nickName":"yoyo","email":"*","phone":"*"}]}
2025-12-23T12:24:32.488+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923430853755932672) MsgTFriendOpRet
2025-12-23T12:24:32.582+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T12:24:32.582+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923430853755932672) MsgTFriendOpRet
2025-12-23T12:24:42.305+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "3tjkdo8n8l1jm.jpg"}
2025-12-23T12:25:11.337+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(923430853755932672) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-23T12:25:11.338+0800	[34mINFO[0m	core/session.go:256	user(10001) session(923430853755932672)
2025-12-23T12:25:16.743+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"zGlBVe7lgICs3pxnnqhUhNuNNvIIzZUGF3zGx5s=\"}"}
2025-12-23T12:25:16.744+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-23T12:25:16.745+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766463916744,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T12:25:16.805+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T12:25:16.805+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923431040872222720) MsgTFriendOpRet
2025-12-23T12:25:16.850+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T12:25:16.851+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923431040872222720) MsgTFriendOpRet
2025-12-23T12:25:17.047+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:923419535472726016 chatType:ChatTypeP2P"}
2025-12-23T12:25:17.081+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-23T12:25:23.956+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "3tjkdo8n8l1jm.jpg"}
2025-12-23T12:25:23.957+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "1bgjz5eu5hnab.jpg"}
2025-12-23T12:26:04.347+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "1bgjz5eu5hnab.jpg"}
2025-12-23T12:26:32.587+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"xsaCPqRUdV/ipXwbDr9Yb0AlKUCaz8aDg6SLyFY=\"}"}
2025-12-23T12:26:32.590+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-12-23T12:26:32.591+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766463992590,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T12:26:32.647+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-12-23T12:26:32.648+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923431358959849472) MsgTFriendOpRet
2025-12-23T12:26:32.697+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T12:26:32.698+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923431358959849472) MsgTFriendOpRet
2025-12-23T12:26:40.547+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(923431358959849472) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-23T12:26:40.549+0800	[34mINFO[0m	core/session.go:256	user(10006) session(923431358959849472)
2025-12-23T12:26:44.711+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"uTyYWRHhEJz8vG6EHRUzI3+3wd5Ko/c44hPM8C4=\"}"}
2025-12-23T12:26:44.714+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-12-23T12:26:44.714+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766464004714,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T12:26:44.762+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923431409811591168) MsgTFriendOpRet
2025-12-23T12:26:44.830+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-12-23T12:26:44.831+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923431409811591168) MsgTFriendOpRet
2025-12-23T12:26:44.876+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T12:26:44.877+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923431409811591168) MsgTFriendOpRet
2025-12-23T12:26:45.065+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:923419535472726016 chatType:ChatTypeP2P"}
2025-12-23T12:26:45.076+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-23T12:26:45.117+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923419535472726016 sendId:1481 recvOk:1766464004156 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-12-23T12:26:45.156+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923431040872222720) MsgTChatReply
2025-12-23T12:26:48.069+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "1bgjz5eu5hnab.jpg"}
2025-12-23T12:26:48.075+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "3tjkdo8n8l1jm.jpg"}
2025-12-23T12:26:53.349+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "1bgjz5eu5hnab.jpg"}
2025-12-23T12:28:36.075+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(923431040872222720) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-23T12:28:36.076+0800	[34mINFO[0m	core/session.go:256	user(10001) session(923431040872222720)
2025-12-23T12:35:55.972+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"NeLo9QyzleCyDaPl5ctbNMBw4j2ZxUKwkiB2oyo=\"}"}
2025-12-23T12:35:55.976+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-23T12:35:55.976+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766464555976,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T12:35:56.118+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T12:35:56.119+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923433719749021696) MsgTFriendOpRet
2025-12-23T12:35:56.180+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T12:35:56.180+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923433719749021696) MsgTFriendOpRet
2025-12-23T12:35:57.511+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:923419535472726016 chatType:ChatTypeP2P"}
2025-12-23T12:35:57.525+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-23T12:36:28.949+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(923433719749021696) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-23T12:36:28.950+0800	[34mINFO[0m	core/session.go:256	user(10001) session(923433719749021696)
2025-12-23T12:37:05.196+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"fzvLolYBQoi4XgI5iiwGQ0ks+QDEsI3XBVcYhB4=\"}"}
2025-12-23T12:37:05.198+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-23T12:37:05.198+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766464625198,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T12:37:05.444+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T12:37:05.444+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923434010577866752) MsgTFriendOpRet
2025-12-23T12:37:05.591+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T12:37:05.591+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923434010577866752) MsgTFriendOpRet
2025-12-23T12:37:06.661+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:923419535472726016 chatType:ChatTypeP2P"}
2025-12-23T12:37:06.669+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-23T12:38:06.534+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(923434010577866752) close here, because ws:readLoop() error, err=read tcp 192.168.1.2:7817->192.168.1.24:49250: wsarecv: An existing connection was forcibly closed by the remote host.
2025-12-23T12:38:06.534+0800	[34mINFO[0m	core/session.go:256	user(10001) session(923434010577866752)
2025-12-23T12:39:34.497+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"N8tUuSraOMqOyZfvm6G0sm/bbkTu8K9FLIY3Ue0=\"}"}
2025-12-23T12:39:34.498+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-23T12:39:34.498+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766464774498,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T12:39:34.686+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T12:39:34.686+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923434638108659712) MsgTFriendOpRet
2025-12-23T12:39:34.717+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T12:39:34.717+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923434638108659712) MsgTFriendOpRet
2025-12-23T12:39:34.926+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:923419535472726016 chatType:ChatTypeP2P"}
2025-12-23T12:39:34.947+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-23T12:39:43.497+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "1bgjz5eu5hnab.jpg"}
2025-12-23T12:39:45.587+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "3tjkdo8n8l1jm.jpg"}
2025-12-23T12:42:12.501+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(923434638108659712) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-23T12:42:12.502+0800	[34mINFO[0m	core/session.go:256	user(10001) session(923434638108659712)
2025-12-23T12:42:54.211+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"ZbIN220X4zc7yPWyvd5mhbCCN7h411OjVll7te4=\"}"}
2025-12-23T12:42:54.212+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-23T12:42:54.213+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766464974212,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T12:42:54.282+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T12:42:54.282+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923435476063490048) MsgTFriendOpRet
2025-12-23T12:42:54.336+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T12:42:54.337+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923435476063490048) MsgTFriendOpRet
2025-12-23T12:42:54.592+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:923419535472726016 chatType:ChatTypeP2P"}
2025-12-23T12:42:54.599+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-23T12:43:01.274+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_1040g0k031pvm292e70105ofbmgh41r78odgo128.jpg", "hash": "cf164a1c26e944214cc189031a6e2b24", "send id": 1561, "chunk index": 0, "chunk count": 2}
2025-12-23T12:43:01.422+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_1040g0k031pvm292e70105ofbmgh41r78odgo128.jpg", "hash": "cf164a1c26e944214cc189031a6e2b24", "send id": 1561, "chunk index": 1, "chunk count": 2}
2025-12-23T12:43:01.551+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1561) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923435507336220672, userId: 10001, fromId: 10001, toId: 10006, tm: 1766464981384 (time: 2025-12-23 12:43:01), devId: \"47FCC883FB83DD2D\", sendId: 1561, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"i7oqy9padnm7.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"Camera_1040g0k031pvm292e70105ofbmgh41r78odgo128.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T12:43:01.609+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T12:43:01.610+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923431409811591168) MsgTChatMsg
2025-12-23T12:43:01.964+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923435507336220672 sendId:1561 recvOk:1766464980880 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-12-23T12:43:01.984+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923435476063490048) MsgTChatReply
2025-12-23T12:43:27.190+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923435507336220672 sendId:1561 recvOk:1766465006223 readOk:1766465006223 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-12-23T12:43:27.220+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923435476063490048) MsgTChatReply
2025-12-23T12:43:39.645+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(923431409811591168) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-23T12:43:39.646+0800	[34mINFO[0m	core/session.go:256	user(10006) session(923431409811591168)
2025-12-23T12:43:44.970+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"lwlxBQar9LidKAnVthT9BjilgEoEUtnTVpzoBes=\"}"}
2025-12-23T12:43:44.972+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-12-23T12:43:44.972+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766465024972,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T12:43:45.045+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923435688312049664) MsgTFriendOpRet
2025-12-23T12:43:45.114+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-12-23T12:43:45.115+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923435688312049664) MsgTFriendOpRet
2025-12-23T12:43:45.162+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T12:43:45.163+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923435688312049664) MsgTFriendOpRet
2025-12-23T12:43:45.585+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:923435507336220672 chatType:ChatTypeP2P"}
2025-12-23T12:43:45.607+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-23T12:43:45.651+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923435507336220672 sendId:1561 recvOk:1766465024685 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-12-23T12:43:45.664+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923435476063490048) MsgTChatReply
2025-12-23T12:43:51.008+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "i7oqy9padnm7.jpg"}
2025-12-23T12:43:51.198+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "i7oqy9padnm7.jpg"}
2025-12-23T12:43:54.392+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923419535472726016 sendId:1481 recvOk:1766465033424 readOk:1766465033424 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-12-23T12:43:54.415+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923435476063490048) MsgTChatReply
2025-12-23T12:44:05.042+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "i7oqy9padnm7.jpg"}
2025-12-23T12:44:09.855+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "i7oqy9padnm7.jpg"}
2025-12-23T12:44:12.826+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "i7oqy9padnm7.jpg"}
2025-12-23T12:44:17.790+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "i7oqy9padnm7.jpg"}
2025-12-23T12:45:35.727+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(923435688312049664) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-23T12:45:35.728+0800	[34mINFO[0m	core/session.go:256	user(10006) session(923435688312049664)
2025-12-23T12:57:41.793+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"EdcDRWDLBna0fMDxzRzzyGQf48QLcSG/L1XYXDw=\"}"}
2025-12-23T12:57:41.797+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-12-23T12:57:41.797+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766465861797,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T12:57:41.854+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923439198172745728) MsgTFriendOpRet
2025-12-23T12:57:41.924+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-12-23T12:57:41.925+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923439198172745728) MsgTFriendOpRet
2025-12-23T12:57:41.964+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T12:57:41.967+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923439198172745728) MsgTFriendOpRet
2025-12-23T12:57:42.376+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:923435507336220672 chatType:ChatTypeP2P"}
2025-12-23T12:57:42.390+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-23T12:57:42.410+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923435507336220672 sendId:1561 recvOk:1766465861465 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-12-23T12:57:42.424+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923435476063490048) MsgTChatReply
2025-12-23T12:57:53.132+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "i7oqy9padnm7.jpg"}
2025-12-23T12:58:02.480+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "i7oqy9padnm7.jpg"}
2025-12-23T12:58:06.829+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "i7oqy9padnm7.jpg"}
2025-12-23T12:58:26.748+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(923439198172745728) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-23T12:58:26.749+0800	[34mINFO[0m	core/session.go:256	user(10006) session(923439198172745728)
2025-12-23T12:59:51.537+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"2fPI844jR526Z6CWSNZWRE7miUHY31KfZyy2xNM=\"}"}
2025-12-23T12:59:51.539+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-12-23T12:59:51.540+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766465991539,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T12:59:51.740+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923439740869545984) MsgTFriendOpRet
2025-12-23T12:59:51.778+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-12-23T12:59:51.778+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923439740869545984) MsgTFriendOpRet
2025-12-23T12:59:51.859+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T12:59:51.859+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923439740869545984) MsgTFriendOpRet
2025-12-23T12:59:55.222+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:923435507336220672 chatType:ChatTypeP2P"}
2025-12-23T12:59:55.241+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-23T12:59:55.263+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923435507336220672 sendId:1561 recvOk:1766465994316 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-12-23T12:59:55.284+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923435476063490048) MsgTChatReply
2025-12-23T12:59:55.372+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(923439740869545984) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-23T12:59:55.373+0800	[34mINFO[0m	core/session.go:256	user(10006) session(923439740869545984)
2025-12-23T13:00:00.547+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"p356sFt2nTT758vVrQOj1kWcKg6c5hJQ7Z6zbgI=\"}"}
2025-12-23T13:00:00.548+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-12-23T13:00:00.548+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766466000548,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T13:00:00.815+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923439778773471232) MsgTFriendOpRet
2025-12-23T13:00:00.863+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-12-23T13:00:00.864+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923439778773471232) MsgTFriendOpRet
2025-12-23T13:00:00.926+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T13:00:00.927+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923439778773471232) MsgTFriendOpRet
2025-12-23T13:00:04.336+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:923435507336220672 chatType:ChatTypeP2P"}
2025-12-23T13:00:04.361+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-23T13:00:04.402+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923435507336220672 sendId:1561 recvOk:1766466003436 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-12-23T13:00:04.412+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923435476063490048) MsgTChatReply
2025-12-23T13:01:30.249+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(923439778773471232) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-23T13:01:30.251+0800	[34mINFO[0m	core/session.go:256	user(10006) session(923439778773471232)
2025-12-23T13:04:02.056+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"oaakJh0Idk7ZZDEUjD4Fk08Y6MF3Ox7WvgqdL24=\"}"}
2025-12-23T13:04:02.059+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-12-23T13:04:02.060+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766466242059,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T13:04:02.214+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923440791764996096) MsgTFriendOpRet
2025-12-23T13:04:02.272+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-12-23T13:04:02.272+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923440791764996096) MsgTFriendOpRet
2025-12-23T13:04:02.318+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T13:04:02.318+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923440791764996096) MsgTFriendOpRet
2025-12-23T13:04:06.062+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:923435507336220672 chatType:ChatTypeP2P"}
2025-12-23T13:04:06.095+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-23T13:04:06.162+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923435507336220672 sendId:1561 recvOk:1766466245898 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-12-23T13:04:06.182+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923435476063490048) MsgTChatReply
2025-12-23T13:04:45.124+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "i7oqy9padnm7.jpg"}
2025-12-23T13:04:45.940+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(923440791764996096) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-23T13:04:45.942+0800	[34mINFO[0m	core/session.go:256	user(10006) session(923440791764996096)
2025-12-23T13:11:15.383+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"bAhlzK4hxtM82cMdZXR4QbJk3CkvqgBk1G1hYa8=\"}"}
2025-12-23T13:11:15.384+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-12-23T13:11:15.385+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766466675384,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T13:11:15.530+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923442609224028160) MsgTFriendOpRet
2025-12-23T13:11:15.598+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-12-23T13:11:15.598+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923442609224028160) MsgTFriendOpRet
2025-12-23T13:11:15.646+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T13:11:15.647+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923442609224028160) MsgTFriendOpRet
2025-12-23T13:11:19.294+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:923435507336220672 chatType:ChatTypeP2P"}
2025-12-23T13:11:19.312+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-23T13:11:19.434+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923435507336220672 sendId:1561 recvOk:1766466679161 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-12-23T13:11:19.451+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923435476063490048) MsgTChatReply
2025-12-23T13:13:11.371+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(923442609224028160) close here, because ws:readLoop() error, err=read tcp 192.168.1.2:7817->192.168.1.14:46524: wsarecv: An existing connection was forcibly closed by the remote host.
2025-12-23T13:13:11.372+0800	[34mINFO[0m	core/session.go:256	user(10006) session(923442609224028160)
2025-12-23T13:15:44.339+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:-5357504718274850190 params:{key:\"checkTokenData\" value:\"dt7XkvGJ903paTLyEM6I/Y1oIdMgXW1tNYNnLU4=\"}"}
2025-12-23T13:15:44.341+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-12-23T13:15:44.342+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766466944341,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T13:15:44.494+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923443737319837696) MsgTFriendOpRet
2025-12-23T13:15:44.561+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-12-23T13:15:44.561+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923443737319837696) MsgTFriendOpRet
2025-12-23T13:15:44.624+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T13:15:44.624+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923443737319837696) MsgTFriendOpRet
2025-12-23T13:15:48.265+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:923435507336220672 chatType:ChatTypeP2P"}
2025-12-23T13:15:48.288+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-23T13:15:48.372+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923435507336220672 sendId:1561 recvOk:1766466948102 extraMsg:\"ok\" userId:10001 fromId:10006 params:{key:\"gid\" value:\"0\"}"}
2025-12-23T13:15:48.398+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923435476063490048) MsgTChatReply
2025-12-23T13:18:29.896+0800	[34mINFO[0m	server/main.go:93	server started here...
2025-12-23T13:18:39.020+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:-5357504718274850190  params:{key:\"checkTokenData\"  value:\"ybtEtRv9P6G0CXk6odVllSnn0fjm2SaFHB88B/8=\"}"}
2025-12-23T13:18:39.176+0800	[35mDEBUG[0m	core/commonhelper.go:421	Load user permission list	{"user": 10006, "count": 0}
2025-12-23T13:18:39.176+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-12-23T13:18:39.176+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766467119176,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T13:18:39.309+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*"},{"userId":10002,"nickName":"robin","email":"*","phone":"*"}]}
2025-12-23T13:18:39.309+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923444472258367488) MsgTFriendOpRet
2025-12-23T13:18:39.356+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"nickName":"yoyo","email":"*","phone":"*"}]}
2025-12-23T13:18:39.356+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923444472258367488) MsgTFriendOpRet
2025-12-23T13:18:47.147+0800	[35mDEBUG[0m	core/session.go:382	user(0) session(923444506165121024) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-23T13:18:47.147+0800	[34mINFO[0m	core/session.go:256	user(0) session(923444506165121024)
2025-12-23T13:18:48.333+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"NSckuVNTKXpU/Ff9g++CLX9EN9LuHUvMAsTmaKM=\"}"}
2025-12-23T13:18:48.336+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-23T13:18:48.337+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766467128336,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T13:18:48.387+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*"},{"userId":10005,"nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T13:18:48.388+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923444511231840256) MsgTFriendOpRet
2025-12-23T13:18:48.438+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T13:18:48.438+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923444511231840256) MsgTFriendOpRet
2025-12-23T13:18:48.648+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:923435507336220672  chatType:ChatTypeP2P"}
2025-12-23T13:18:48.666+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-23T13:19:08.742+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_1040g0k031pvm292e700g5ofbmgh41r78n1vvoco.jpg", "hash": "03337f418573b674259034d18d6a5d8f", "send id": 1581, "chunk index": 0, "chunk count": 1}
2025-12-23T13:19:08.839+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1581) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923444597600948224, userId: 10001, fromId: 10001, toId: 10006, tm: 1766467148672 (time: 2025-12-23 13:19:08), devId: \"47FCC883FB83DD2D\", sendId: 1581, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"1rw8l3024rls3.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"Camera_1040g0k031pvm292e700g5ofbmgh41r78n1vvoco.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T13:19:08.886+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T13:19:08.886+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923444472258367488) MsgTChatMsg
2025-12-23T13:19:09.054+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923444597600948224  sendId:1581  recvOk:1766467148777  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T13:19:09.081+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923444511231840256) MsgTChatReply
2025-12-23T13:19:11.279+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "1rw8l3024rls3.jpg"}
2025-12-23T13:20:23.749+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_XHS_1766153306980.jpg", "hash": "296cc60e6c37b2f2d2df860cca0d972c", "send id": 1582, "chunk index": 0, "chunk count": 2}
2025-12-23T13:20:23.921+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_XHS_1766153306980.jpg", "hash": "296cc60e6c37b2f2d2df860cca0d972c", "send id": 1582, "chunk index": 1, "chunk count": 2}
2025-12-23T13:20:24.030+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1582) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923444912974860288, userId: 10001, fromId: 10001, toId: 10006, tm: 1766467223865 (time: 2025-12-23 13:20:23), devId: \"47FCC883FB83DD2D\", sendId: 1582, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"3ov6ui87fhkbt.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"Camera_XHS_1766153306980.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T13:20:24.038+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T13:20:24.038+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923444472258367488) MsgTChatMsg
2025-12-23T13:20:24.121+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923444912974860288  sendId:1582  recvOk:1766467223835  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T13:20:24.142+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923444511231840256) MsgTChatReply
2025-12-23T13:20:25.453+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "3ov6ui87fhkbt.jpg"}
2025-12-23T13:20:46.701+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "1765616791248.png", "hash": "2af06394fccfb895db56cb95ebc1aebe", "send id": 1583, "chunk index": 0, "chunk count": 4}
2025-12-23T13:20:46.881+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "1765616791248.png", "hash": "2af06394fccfb895db56cb95ebc1aebe", "send id": 1583, "chunk index": 1, "chunk count": 4}
2025-12-23T13:20:47.097+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "1765616791248.png", "hash": "2af06394fccfb895db56cb95ebc1aebe", "send id": 1583, "chunk index": 2, "chunk count": 4}
2025-12-23T13:20:47.247+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "1765616791248.png", "hash": "2af06394fccfb895db56cb95ebc1aebe", "send id": 1583, "chunk index": 3, "chunk count": 4}
2025-12-23T13:20:47.337+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1583) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923445010731503616, userId: 10001, fromId: 10001, toId: 10006, tm: 1766467247156 (time: 2025-12-23 13:20:47), devId: \"47FCC883FB83DD2D\", sendId: 1583, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"29ysw31m34f1m.png\\\",\\\"mime\\\":\\\"image/png\\\",\\\"width\\\":0,\\\"name\\\":\\\"1765616791248.png\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T13:20:47.346+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T13:20:47.346+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923444472258367488) MsgTChatMsg
2025-12-23T13:20:47.442+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923445010731503616  sendId:1583  recvOk:1766467247182  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T13:20:47.469+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923444511231840256) MsgTChatReply
2025-12-23T13:20:48.117+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "29ysw31m34f1m.png"}
2025-12-23T13:20:53.623+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "1765615936126.png", "hash": "51b20be36a75f3246003c54398765215", "send id": 1584, "chunk index": 0, "chunk count": 5}
2025-12-23T13:20:53.823+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "1765615936126.png", "hash": "51b20be36a75f3246003c54398765215", "send id": 1584, "chunk index": 1, "chunk count": 5}
2025-12-23T13:20:54.079+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "1765615936126.png", "hash": "51b20be36a75f3246003c54398765215", "send id": 1584, "chunk index": 2, "chunk count": 5}
2025-12-23T13:20:54.322+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "1765615936126.png", "hash": "51b20be36a75f3246003c54398765215", "send id": 1584, "chunk index": 3, "chunk count": 5}
2025-12-23T13:20:54.512+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "1765615936126.png", "hash": "51b20be36a75f3246003c54398765215", "send id": 1584, "chunk index": 4, "chunk count": 5}
2025-12-23T13:20:54.569+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1584) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923445041064710144, userId: 10001, fromId: 10001, toId: 10006, tm: 1766467254423 (time: 2025-12-23 13:20:54), devId: \"47FCC883FB83DD2D\", sendId: 1584, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"k8918yagmma9.png\\\",\\\"mime\\\":\\\"image/png\\\",\\\"width\\\":0,\\\"name\\\":\\\"1765615936126.png\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T13:20:54.588+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T13:20:54.589+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923444472258367488) MsgTChatMsg
2025-12-23T13:20:54.735+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923445041064710144  sendId:1584  recvOk:1766467254463  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T13:20:54.745+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923444511231840256) MsgTChatReply
2025-12-23T13:20:55.434+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "k8918yagmma9.png"}
2025-12-23T13:20:59.482+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "1765615869466.png", "hash": "552fab36ef414884db8eeb9bc0975b83", "send id": 1585, "chunk index": 0, "chunk count": 5}
2025-12-23T13:20:59.669+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "1765615869466.png", "hash": "552fab36ef414884db8eeb9bc0975b83", "send id": 1585, "chunk index": 1, "chunk count": 5}
2025-12-23T13:20:59.930+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "1765615869466.png", "hash": "552fab36ef414884db8eeb9bc0975b83", "send id": 1585, "chunk index": 2, "chunk count": 5}
2025-12-23T13:21:00.084+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "1765615869466.png", "hash": "552fab36ef414884db8eeb9bc0975b83", "send id": 1585, "chunk index": 3, "chunk count": 5}
2025-12-23T13:21:00.190+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "1765615869466.png", "hash": "552fab36ef414884db8eeb9bc0975b83", "send id": 1585, "chunk index": 4, "chunk count": 5}
2025-12-23T13:21:00.285+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1585) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923445065039351808, userId: 10001, fromId: 10001, toId: 10006, tm: 1766467260097 (time: 2025-12-23 13:21:00), devId: \"47FCC883FB83DD2D\", sendId: 1585, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"20f3b4cypgrbp.png\\\",\\\"mime\\\":\\\"image/png\\\",\\\"width\\\":0,\\\"name\\\":\\\"1765615869466.png\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T13:21:00.298+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T13:21:00.299+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923444472258367488) MsgTChatMsg
2025-12-23T13:21:00.483+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923445065039351808  sendId:1585  recvOk:1766467260197  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T13:21:00.493+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923444511231840256) MsgTChatReply
2025-12-23T13:21:01.292+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "20f3b4cypgrbp.png"}
2025-12-23T13:21:14.239+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "1765615746474.png", "hash": "90b30fe62d8da949bda48f70e280bc3c", "send id": 1586, "chunk index": 0, "chunk count": 5}
2025-12-23T13:21:14.396+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "1765615746474.png", "hash": "90b30fe62d8da949bda48f70e280bc3c", "send id": 1586, "chunk index": 1, "chunk count": 5}
2025-12-23T13:21:14.548+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "1765615746474.png", "hash": "90b30fe62d8da949bda48f70e280bc3c", "send id": 1586, "chunk index": 2, "chunk count": 5}
2025-12-23T13:21:14.707+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "1765615746474.png", "hash": "90b30fe62d8da949bda48f70e280bc3c", "send id": 1586, "chunk index": 3, "chunk count": 5}
2025-12-23T13:21:14.825+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "1765615746474.png", "hash": "90b30fe62d8da949bda48f70e280bc3c", "send id": 1586, "chunk index": 4, "chunk count": 5}
2025-12-23T13:21:14.914+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1586) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923445126397825024, userId: 10001, fromId: 10001, toId: 10006, tm: 1766467274727 (time: 2025-12-23 13:21:14), devId: \"47FCC883FB83DD2D\", sendId: 1586, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"14brzqx9uhkeo.png\\\",\\\"mime\\\":\\\"image/png\\\",\\\"width\\\":0,\\\"name\\\":\\\"1765615746474.png\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T13:21:14.935+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T13:21:14.936+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923444472258367488) MsgTChatMsg
2025-12-23T13:21:15.192+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923445126397825024  sendId:1586  recvOk:1766467274940  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T13:21:15.214+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923444511231840256) MsgTChatReply
2025-12-23T13:21:15.352+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923445041064710144  sendId:1584  recvOk:1766467275100  readOk:1766467275100  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T13:21:15.366+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923444511231840256) MsgTChatReply
2025-12-23T13:21:15.408+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923445065039351808  sendId:1585  recvOk:1766467275102  readOk:1766467275102  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T13:21:15.431+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923444511231840256) MsgTChatReply
2025-12-23T13:21:16.019+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "14brzqx9uhkeo.png"}
2025-12-23T13:27:21.703+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10006, "filename": "IMG_1764141687901.jpg", "hash": "ea0139bda1c0edd783b605ab856a0b22", "send id": 1321, "chunk index": 0, "chunk count": 1}
2025-12-23T13:27:21.971+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1321) from 10006 -> 10001	{"msg": "MsgChat{msgId: 923446665946468352, userId: 10006, fromId: 10006, toId: 10001, tm: 1766467641698 (time: 2025-12-23 13:27:21), devId: \"BEF2A06F75075BC9\", sendId: 1321, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"3a7n4z94p4sfe.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"IMG_1764141687901.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T13:27:22.013+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T13:27:22.014+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923444511231840256) MsgTChatMsg
2025-12-23T13:27:22.110+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:923446665946468352  sendId:1321  recvOk:1766467641919  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T13:27:22.141+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923444472258367488) MsgTChatReply
2025-12-23T13:27:22.310+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "3a7n4z94p4sfe.jpg"}
2025-12-23T13:27:26.481+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10006, "filename": "IMG_1764141673112.jpg", "hash": "ea0139bda1c0edd783b605ab856a0b22", "send id": 1322, "chunk index": 0, "chunk count": 1}
2025-12-23T13:27:26.491+0800	[35mDEBUG[0m	core/filemsghander.go:280	find same file	{"uniq_name": "3a7n4z94p4sfe.jpg", "file name": "IMG_1764141687901.jpg", "hash": "ea0139bda1c0edd783b605ab856a0b22", "tags": ["IMG", "1764141673112.", "jpg"]}
2025-12-23T13:27:26.754+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1322) from 10006 -> 10001	{"msg": "MsgChat{msgId: 923446686007824384, userId: 10006, fromId: 10006, toId: 10001, tm: 1766467646446 (time: 2025-12-23 13:27:26), devId: \"BEF2A06F75075BC9\", sendId: 1322, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"3a7n4z94p4sfe.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"IMG_1764141673112.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T13:27:26.773+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T13:27:26.773+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923444511231840256) MsgTChatMsg
2025-12-23T13:27:26.917+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:923446686007824384  sendId:1322  recvOk:1766467646734  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T13:27:26.933+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923444472258367488) MsgTChatReply
2025-12-23T13:27:31.522+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10006, "filename": "IMG_1764146211345.jpg", "hash": "67fb77e899c0e9cf2aa31aa3b61dc322", "send id": 1323, "chunk index": 0, "chunk count": 4}
2025-12-23T13:27:31.892+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10006, "filename": "IMG_1764146211345.jpg", "hash": "67fb77e899c0e9cf2aa31aa3b61dc322", "send id": 1323, "chunk index": 1, "chunk count": 4}
2025-12-23T13:27:32.276+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10006, "filename": "IMG_1764146211345.jpg", "hash": "67fb77e899c0e9cf2aa31aa3b61dc322", "send id": 1323, "chunk index": 2, "chunk count": 4}
2025-12-23T13:27:32.610+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10006, "filename": "IMG_1764146211345.jpg", "hash": "67fb77e899c0e9cf2aa31aa3b61dc322", "send id": 1323, "chunk index": 3, "chunk count": 4}
2025-12-23T13:27:32.882+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1323) from 10006 -> 10001	{"msg": "MsgChat{msgId: 923446711710519296, userId: 10006, fromId: 10006, toId: 10001, tm: 1766467652620 (time: 2025-12-23 13:27:32), devId: \"BEF2A06F75075BC9\", sendId: 1323, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"35tnzl4pjn78n.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"IMG_1764146211345.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T13:27:32.901+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T13:27:32.902+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923444511231840256) MsgTChatMsg
2025-12-23T13:27:33.023+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:923446711710519296  sendId:1323  recvOk:1766467652878  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T13:27:33.035+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923444472258367488) MsgTChatReply
2025-12-23T13:27:33.282+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "35tnzl4pjn78n.jpg"}
2025-12-23T13:28:36.047+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:923446665946468352  sendId:1321  recvOk:1766467715858  readOk:1766467715858  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T13:28:36.059+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923444472258367488) MsgTChatReply
2025-12-23T13:28:36.107+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:923446686007824384  sendId:1322  recvOk:1766467715861  readOk:1766467715861  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T13:28:36.126+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923444472258367488) MsgTChatReply
2025-12-23T13:28:48.527+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:923446711710519296  sendId:1323  recvOk:1766467728327  readOk:1766467728327  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T13:28:48.559+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923444472258367488) MsgTChatReply
2025-12-23T13:37:05.252+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(923444511231840256) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-23T13:37:05.261+0800	[34mINFO[0m	core/session.go:256	user(10001) session(923444511231840256)
2025-12-23T13:37:06.415+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"fAyw/wi2FEmUqjUhTVb6Nf9AEX78asGXRerFst8=\"}"}
2025-12-23T13:37:06.417+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-23T13:37:06.420+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766468226417,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T13:37:06.461+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T13:37:06.461+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923449116929953792) MsgTFriendOpRet
2025-12-23T13:37:06.537+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T13:37:06.540+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923449116929953792) MsgTFriendOpRet
2025-12-23T13:37:06.720+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:923446711710519296  chatType:ChatTypeP2P"}
2025-12-23T13:37:06.731+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-23T13:37:06.757+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:923446711710519296  sendId:1323  recvOk:1766468226597  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T13:37:06.785+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923444472258367488) MsgTChatReply
2025-12-23T13:37:08.200+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "i7oqy9padnm7.jpg"}
2025-12-23T13:37:14.893+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10006, "filename": "1761869304903.jpg", "hash": "25ca37dc0b230e4cb6b96aa120884138", "send id": 1324, "chunk index": 0, "chunk count": 1}
2025-12-23T13:37:14.901+0800	[35mDEBUG[0m	core/filemsghander.go:280	find same file	{"uniq_name": "15mxs6lr6i4o5.jpg", "file name": "1761869304903.jpg", "hash": "25ca37dc0b230e4cb6b96aa120884138", "tags": ["1761869304903.", "jpg"]}
2025-12-23T13:37:15.108+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1324) from 10006 -> 10001	{"msg": "MsgChat{msgId: 923449153743360000, userId: 10006, fromId: 10006, toId: 10001, tm: 1766468234847 (time: 2025-12-23 13:37:14), devId: \"BEF2A06F75075BC9\", sendId: 1324, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"15mxs6lr6i4o5.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"1761869304903.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T13:37:15.116+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T13:37:15.117+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923449116929953792) MsgTChatMsg
2025-12-23T13:37:15.177+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:923449153743360000  sendId:1324  recvOk:1766468235028  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T13:37:15.204+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923444472258367488) MsgTChatReply
2025-12-23T13:52:26.018+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(923449116929953792) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-23T13:52:26.020+0800	[34mINFO[0m	core/session.go:256	user(10001) session(923449116929953792)
2025-12-23T13:53:25.292+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"F08ujxV0N6sCkJ+6arwPp/BnDqZGTMXcj7x6Ruk=\"}"}
2025-12-23T13:53:25.297+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-23T13:53:25.297+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766469205297,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T13:53:25.364+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T13:53:25.364+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923453222562172928) MsgTFriendOpRet
2025-12-23T13:53:25.408+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T13:53:25.409+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923453222562172928) MsgTFriendOpRet
2025-12-23T13:53:25.610+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:923449153743360000  chatType:ChatTypeP2P"}
2025-12-23T13:53:25.627+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-23T13:53:25.647+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:923449153743360000  sendId:1324  recvOk:1766469205491  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T13:53:25.661+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923444472258367488) MsgTChatReply
2025-12-23T13:53:40.596+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(923453222562172928) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-23T13:53:40.599+0800	[34mINFO[0m	core/session.go:256	user(10001) session(923453222562172928)
2025-12-23T14:00:36.324+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"++12h6ubJSyqXBTz2hsW64P3mkRMVf7ocSfXGRE=\"}"}
2025-12-23T14:00:36.326+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-23T14:00:36.326+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766469636326,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T14:00:36.387+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T14:00:36.387+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923455030500134912) MsgTFriendOpRet
2025-12-23T14:00:36.432+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T14:00:36.433+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923455030500134912) MsgTFriendOpRet
2025-12-23T14:00:36.682+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:923449153743360000  chatType:ChatTypeP2P"}
2025-12-23T14:00:36.697+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-23T14:00:36.716+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:923449153743360000  sendId:1324  recvOk:1766469636560  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T14:00:36.729+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923444472258367488) MsgTChatReply
2025-12-23T14:02:55.524+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(923455030500134912) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-23T14:02:55.527+0800	[34mINFO[0m	core/session.go:256	user(10001) session(923455030500134912)
2025-12-23T14:03:15.270+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"adE8PvgoHL6ALGkf8ihAz1qIpCIqcmROzTOw80I=\"}"}
2025-12-23T14:03:15.272+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-23T14:03:15.273+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766469795272,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T14:03:15.331+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T14:03:15.332+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923455697184755712) MsgTFriendOpRet
2025-12-23T14:03:15.392+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T14:03:15.393+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923455697184755712) MsgTFriendOpRet
2025-12-23T14:03:15.579+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:923449153743360000  chatType:ChatTypeP2P"}
2025-12-23T14:03:15.594+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-23T14:03:15.618+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:923449153743360000  sendId:1324  recvOk:1766469795458  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T14:03:15.646+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923444472258367488) MsgTChatReply
2025-12-23T14:03:20.573+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "15mxs6lr6i4o5.jpg"}
2025-12-23T14:03:26.102+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "35tnzl4pjn78n.jpg"}
2025-12-23T14:03:30.089+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "15mxs6lr6i4o5.jpg"}
2025-12-23T14:03:37.973+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "3a7n4z94p4sfe.jpg"}
2025-12-23T14:03:45.357+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(923455697184755712) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-23T14:03:45.358+0800	[34mINFO[0m	core/session.go:256	user(10001) session(923455697184755712)
2025-12-23T14:04:01.804+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"ErY3LekJK8FmoqQ1QLPwWCOMNXfbNzF6dp/ccUs=\"}"}
2025-12-23T14:04:01.806+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-23T14:04:01.806+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766469841806,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T14:04:01.873+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T14:04:01.877+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923455892194725888) MsgTFriendOpRet
2025-12-23T14:04:02.050+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T14:04:02.052+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923455892194725888) MsgTFriendOpRet
2025-12-23T14:04:02.120+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:923449153743360000  chatType:ChatTypeP2P"}
2025-12-23T14:04:02.151+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-23T14:04:02.259+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:923449153743360000  sendId:1324  recvOk:1766469842063  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T14:04:02.287+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923444472258367488) MsgTChatReply
2025-12-23T14:04:06.811+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "15mxs6lr6i4o5.jpg"}
2025-12-23T14:04:09.563+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(923455892194725888) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-23T14:04:09.565+0800	[34mINFO[0m	core/session.go:256	user(10001) session(923455892194725888)
2025-12-23T14:05:01.037+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"HunkVKtFBiS0RlMGNizTkWUCcWaPDYyo7H5EZiw=\"}"}
2025-12-23T14:05:01.044+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-23T14:05:01.044+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766469901044,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T14:05:01.107+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T14:05:01.108+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923456140728209408) MsgTFriendOpRet
2025-12-23T14:05:01.157+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T14:05:01.157+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923456140728209408) MsgTFriendOpRet
2025-12-23T14:05:01.391+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:923449153743360000  chatType:ChatTypeP2P"}
2025-12-23T14:05:01.406+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-23T14:05:01.441+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:923449153743360000  sendId:1324  recvOk:1766469901271  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T14:05:01.467+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923444472258367488) MsgTChatReply
2025-12-23T14:05:04.871+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "15mxs6lr6i4o5.jpg"}
2025-12-23T14:05:11.264+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "35tnzl4pjn78n.jpg"}
2025-12-23T14:05:17.912+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:923446711710519296  sendId:1323  recvOk:1766469917697  readOk:1766469917697  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T14:05:17.923+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923444472258367488) MsgTChatReply
2025-12-23T14:05:18.284+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "3a7n4z94p4sfe.jpg"}
2025-12-23T14:05:23.698+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "3a7n4z94p4sfe.jpg"}
2025-12-23T14:05:34.269+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:923449153743360000  sendId:1324  recvOk:1766469934099  readOk:1766469934099  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T14:05:34.280+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923444472258367488) MsgTChatReply
2025-12-23T14:05:35.220+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "15mxs6lr6i4o5.jpg"}
2025-12-23T14:05:39.515+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(923456140728209408) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-23T14:05:39.516+0800	[34mINFO[0m	core/session.go:256	user(10001) session(923456140728209408)
2025-12-23T14:07:04.451+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"ug4sWSYSBkHiryC7V+venBq1AE1TbAhG91a2Wsg=\"}"}
2025-12-23T14:07:04.454+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-23T14:07:04.454+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766470024454,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T14:07:04.521+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T14:07:04.523+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923456658410180608) MsgTFriendOpRet
2025-12-23T14:07:04.569+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T14:07:04.570+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923456658410180608) MsgTFriendOpRet
2025-12-23T14:07:04.813+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:923449153743360000  chatType:ChatTypeP2P"}
2025-12-23T14:07:04.828+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-23T14:07:04.855+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:923449153743360000  sendId:1324  recvOk:1766470024693  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T14:07:04.876+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923444472258367488) MsgTChatReply
2025-12-23T14:07:08.469+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "15mxs6lr6i4o5.jpg"}
2025-12-23T14:07:11.145+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "35tnzl4pjn78n.jpg"}
2025-12-23T14:07:13.394+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "3a7n4z94p4sfe.jpg"}
2025-12-23T14:07:16.510+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "3a7n4z94p4sfe.jpg"}
2025-12-23T14:07:28.903+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "i7oqy9padnm7.jpg"}
2025-12-23T14:07:32.497+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "15mxs6lr6i4o5.jpg"}
2025-12-23T14:07:47.517+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Screenshot_2025-12-10-18-12-02-345_com.xingin.xhs.jpg", "hash": "0177fb86599ee8f8b46167ca5e4a57df", "send id": 1601, "chunk index": 0, "chunk count": 1}
2025-12-23T14:07:47.624+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1601) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923456839872548864, userId: 10001, fromId: 10001, toId: 10006, tm: 1766470067448 (time: 2025-12-23 14:07:47), devId: \"47FCC883FB83DD2D\", sendId: 1601, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"3s9mo5qccd535.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"Screenshot_2025-12-10-18-12-02-345_com.xingin.xhs.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T14:07:47.636+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T14:07:47.637+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923444472258367488) MsgTChatMsg
2025-12-23T14:07:47.868+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923456839872548864  sendId:1601  recvOk:1766470066770  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T14:07:47.879+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923456658410180608) MsgTChatReply
2025-12-23T14:07:48.361+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "3s9mo5qccd535.jpg"}
2025-12-23T14:08:30.488+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "35tnzl4pjn78n.jpg"}
2025-12-23T14:10:26.760+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "audio2985952197627400211.m4a", "hash": "21678f4e4587035087edc62e830a44ea", "send id": 1602, "chunk index": 0, "chunk count": 1}
2025-12-23T14:10:28.035+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1602) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923457512685047808, userId: 10001, fromId: 10001, toId: 10006, tm: 1766470227876 (time: 2025-12-23 14:10:27), devId: \"47FCC883FB83DD2D\", sendId: 1602, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T14:10:28.055+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T14:10:28.055+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923444472258367488) MsgTChatMsg
2025-12-23T14:10:28.223+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923457512685047808  sendId:1602  recvOk:1766470227152  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T14:10:28.241+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923456658410180608) MsgTChatReply
2025-12-23T14:10:39.163+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923456839872548864  sendId:1601  recvOk:1766470237954  readOk:1766470237954  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T14:10:39.191+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923456658410180608) MsgTChatReply
2025-12-23T14:19:10.320+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(923444472258367488) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-23T14:19:10.321+0800	[34mINFO[0m	core/session.go:256	user(10006) session(923444472258367488)
2025-12-23T14:19:20.393+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:-5357504718274850190  params:{key:\"checkTokenData\"  value:\"/nWkWmBWQCEF/MlbCZkHcsmevLetax1Do1+J5R4=\"}"}
2025-12-23T14:19:20.395+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-12-23T14:19:20.396+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766470760395,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T14:19:20.651+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923459742876176384) MsgTFriendOpRet
2025-12-23T14:19:20.700+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-12-23T14:19:20.701+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923459742876176384) MsgTFriendOpRet
2025-12-23T14:19:20.762+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T14:19:20.762+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923459742876176384) MsgTFriendOpRet
2025-12-23T14:19:36.017+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:923457512685047808  chatType:ChatTypeP2P"}
2025-12-23T14:19:36.037+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-23T14:19:36.179+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923457512685047808  sendId:1602  recvOk:1766470775069  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T14:19:36.197+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923456658410180608) MsgTChatReply
2025-12-23T14:20:04.617+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "3s9mo5qccd535.jpg"}
2025-12-23T14:20:48.354+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(923459742876176384) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-23T14:20:48.355+0800	[34mINFO[0m	core/session.go:256	user(10006) session(923459742876176384)
2025-12-23T14:22:43.258+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:-5357504718274850190  params:{key:\"checkTokenData\"  value:\"zbn+xeum0QW7JEhW4J5G+CqCcOrXKe0BKnKpBrc=\"}"}
2025-12-23T14:22:43.261+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-12-23T14:22:43.262+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766470963261,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T14:22:43.409+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923460592923185152) MsgTFriendOpRet
2025-12-23T14:22:43.473+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-12-23T14:22:43.473+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923460592923185152) MsgTFriendOpRet
2025-12-23T14:22:57.431+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(923460592923185152) close here, because ws:readLoop() error, err=read tcp 192.168.1.2:7817->192.168.1.14:46802: wsarecv: An existing connection was forcibly closed by the remote host.
2025-12-23T14:22:57.432+0800	[34mINFO[0m	core/session.go:256	user(10006) session(923460592923185152)
2025-12-23T14:27:07.676+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:-5357504718274850190  params:{key:\"checkTokenData\"  value:\"U17L01L1vQoEbh5H2raIxG2YdGSKaEZWjZt4EDo=\"}"}
2025-12-23T14:27:07.679+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-12-23T14:27:07.679+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766471227679,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T14:27:07.868+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923461702887018496) MsgTFriendOpRet
2025-12-23T14:27:07.949+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-12-23T14:27:07.950+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923461702887018496) MsgTFriendOpRet
2025-12-23T14:27:08.001+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T14:27:08.001+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923461702887018496) MsgTFriendOpRet
2025-12-23T14:27:23.569+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:923457512685047808  chatType:ChatTypeP2P"}
2025-12-23T14:27:23.584+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-23T14:27:23.661+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923457512685047808  sendId:1602  recvOk:1766471242578  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T14:27:23.671+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923456658410180608) MsgTChatReply
2025-12-23T14:28:01.301+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "audio1629259181566449601.m4a", "hash": "dffc9498233bc9c8bfe92b62500ed1d6", "send id": 1603, "chunk index": 0, "chunk count": 1}
2025-12-23T14:28:06.142+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1603) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923461950707470336, userId: 10001, fromId: 10001, toId: 10006, tm: 1766471285950 (time: 2025-12-23 14:28:05), devId: \"47FCC883FB83DD2D\", sendId: 1603, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T14:28:06.156+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T14:28:06.156+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923461702887018496) MsgTChatMsg
2025-12-23T14:28:47.181+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(923461702887018496) close here, because ws:readLoop() error, err=read tcp 192.168.1.2:7817->192.168.1.14:46868: i/o timeout
2025-12-23T14:28:47.181+0800	[34mINFO[0m	core/session.go:256	user(10006) session(923461702887018496)
2025-12-23T14:29:10.767+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:-5357504718274850190  params:{key:\"checkTokenData\"  value:\"VaEDddAu6UgHztERPHH8+dBf4uZPqlZOgIXE1X4=\"}"}
2025-12-23T14:29:10.769+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-12-23T14:29:10.770+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766471350769,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T14:29:10.984+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-12-23T14:29:10.985+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923462220883562496) MsgTFriendOpRet
2025-12-23T14:29:11.043+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T14:29:11.044+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923462220883562496) MsgTFriendOpRet
2025-12-23T14:29:17.848+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923457512685047808  sendId:1602  recvOk:1766471356739  readOk:1766471356739  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T14:29:17.872+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923456658410180608) MsgTChatReply
2025-12-23T14:29:30.400+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(923462220883562496) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-23T14:29:30.401+0800	[34mINFO[0m	core/session.go:256	user(10006) session(923462220883562496)
2025-12-23T14:30:33.278+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(923456658410180608) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-23T14:30:33.280+0800	[34mINFO[0m	core/session.go:256	user(10001) session(923456658410180608)
2025-12-23T14:30:41.533+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"sma2w+rd280Vh75/ZGraNykthAEfRZSKIxt2uD8=\"}"}
2025-12-23T14:30:41.535+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-23T14:30:41.536+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766471441535,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T14:30:41.725+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T14:30:41.726+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923462600052838400) MsgTFriendOpRet
2025-12-23T14:30:41.801+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T14:30:41.801+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923462600052838400) MsgTFriendOpRet
2025-12-23T14:30:43.216+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:923461950707470336  chatType:ChatTypeP2P"}
2025-12-23T14:30:43.231+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-23T14:31:04.351+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "audio3147284334213670416.m4a", "hash": "8a94774b613c32c211b08a2d99678179", "send id": 1621, "chunk index": 0, "chunk count": 1}
2025-12-23T14:32:04.362+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(923462600052838400) close here, because ws:readLoop() error, err=read tcp 192.168.1.2:7817->192.168.1.24:37002: i/o timeout
2025-12-23T14:32:04.366+0800	[34mINFO[0m	core/session.go:256	user(10001) session(923462600052838400)
2025-12-23T14:36:16.616+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"So/gtqk/6fg6SbqNXqa9FJ5V0YMcwHCHTulaY3k=\"}"}
2025-12-23T14:36:16.619+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-23T14:36:16.620+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766471776619,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T14:36:16.669+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T14:36:16.672+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923464007606734848) MsgTFriendOpRet
2025-12-23T14:36:16.731+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T14:36:16.731+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923464007606734848) MsgTFriendOpRet
2025-12-23T14:36:16.921+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:923461950707470336  chatType:ChatTypeP2P"}
2025-12-23T14:36:16.928+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-23T14:36:30.263+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "audio4148010241890366183.m4a", "hash": "668fe61288c135c85b6b9b880c6037ac", "send id": 1641, "chunk index": 0, "chunk count": 1}
2025-12-23T14:36:30.358+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1641) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923464065542656000, userId: 10001, fromId: 10001, toId: 10006, tm: 1766471790180 (time: 2025-12-23 14:36:30), devId: \"47FCC883FB83DD2D\", sendId: 1641, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T14:36:30.381+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T14:36:30.381+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-12-23T14:36:37.892+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:-5357504718274850190  params:{key:\"checkTokenData\"  value:\"mvzAOIPEyZq/Vq//6XG68D8AhtRNGP0Eh89K81k=\"}"}
2025-12-23T14:36:37.897+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-12-23T14:36:37.897+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766471797897,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T14:36:37.945+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923464096651808768) MsgTFriendOpRet
2025-12-23T14:36:38.002+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-12-23T14:36:38.005+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923464096651808768) MsgTFriendOpRet
2025-12-23T14:36:38.055+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T14:36:38.055+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923464096651808768) MsgTFriendOpRet
2025-12-23T14:36:38.360+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:923461950707470336  chatType:ChatTypeP2P"}
2025-12-23T14:36:38.380+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 2}
2025-12-23T14:36:38.397+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923461950707470336  sendId:1603  recvOk:1766471797330  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T14:36:38.415+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923464007606734848) MsgTChatReply
2025-12-23T14:36:38.466+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923464065542656000  sendId:1641  recvOk:1766471797331  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T14:36:38.497+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923464007606734848) MsgTChatReply
2025-12-23T14:36:43.426+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923461950707470336  sendId:1603  recvOk:1766471802347  readOk:1766471802347  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T14:36:43.444+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923464007606734848) MsgTChatReply
2025-12-23T14:36:59.102+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "audio1886476883235072498.m4a", "hash": "525bb5a46c097e99afb9947c19a43bb3", "send id": 1642, "chunk index": 0, "chunk count": 1}
2025-12-23T14:36:59.200+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1642) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923464186514771968, userId: 10001, fromId: 10001, toId: 10006, tm: 1766471819037 (time: 2025-12-23 14:36:59), devId: \"47FCC883FB83DD2D\", sendId: 1642, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T14:36:59.230+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T14:36:59.231+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923464096651808768) MsgTChatMsg
2025-12-23T14:36:59.364+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923464186514771968  sendId:1642  recvOk:1766471818259  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T14:36:59.575+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923464007606734848) MsgTChatReply
2025-12-23T14:37:05.241+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "2c140wvfl0uhe.m4a"}
2025-12-23T14:37:13.521+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(923464096651808768) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-23T14:37:13.523+0800	[34mINFO[0m	core/session.go:256	user(10006) session(923464096651808768)
2025-12-23T14:37:16.663+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:-5357504718274850190  params:{key:\"checkTokenData\"  value:\"h5jSR1s+QXFrpybpFt6JxdyUVsRhgNDPM2LM/iY=\"}"}
2025-12-23T14:37:16.667+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-12-23T14:37:16.668+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766471836667,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T14:37:16.714+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923464259302723584) MsgTFriendOpRet
2025-12-23T14:37:16.795+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-12-23T14:37:16.795+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923464259302723584) MsgTFriendOpRet
2025-12-23T14:37:16.824+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T14:37:16.825+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923464259302723584) MsgTFriendOpRet
2025-12-23T14:37:17.125+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:923464186514771968  chatType:ChatTypeP2P"}
2025-12-23T14:37:17.146+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-23T14:37:17.174+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923464186514771968  sendId:1642  recvOk:1766471836095  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T14:37:17.189+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923464007606734848) MsgTChatReply
2025-12-23T14:37:21.923+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "31lukj770xjza.m4a"}
2025-12-23T14:37:50.490+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "audio3795396148003152912.m4a", "hash": "ab8ae58bea1285ade23ccdb8400fe469", "send id": 1643, "chunk index": 0, "chunk count": 1}
2025-12-23T14:37:50.587+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1643) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923464402047471616, userId: 10001, fromId: 10001, toId: 10006, tm: 1766471870399 (time: 2025-12-23 14:37:50), devId: \"47FCC883FB83DD2D\", sendId: 1643, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T14:37:50.599+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T14:37:50.599+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923464259302723584) MsgTChatMsg
2025-12-23T14:37:50.767+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923464402047471616  sendId:1643  recvOk:1766471869666  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T14:37:50.776+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923464007606734848) MsgTChatReply
2025-12-23T14:37:53.186+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "2mztoqmslakdn.m4a"}
2025-12-23T14:38:53.523+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "audio1100281670050759767.m4a", "hash": "f1bc91b123e5e0a46df5243e32c8d20a", "send id": 1644, "chunk index": 0, "chunk count": 1}
2025-12-23T14:38:53.644+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1644) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923464666527698944, userId: 10001, fromId: 10001, toId: 10006, tm: 1766471933466 (time: 2025-12-23 14:38:53), devId: \"47FCC883FB83DD2D\", sendId: 1644, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T14:38:53.665+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T14:38:53.665+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923464259302723584) MsgTChatMsg
2025-12-23T14:38:53.709+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923464666527698944  sendId:1644  recvOk:1766471932638  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T14:38:53.728+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923464007606734848) MsgTChatReply
2025-12-23T14:39:12.936+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "2i9ill8ifnwtt.m4a"}
2025-12-23T14:40:43.341+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "audio2045300472843300177.m4a", "hash": "3d19bc372f9d37492fdad691c5470e6a", "send id": 1645, "chunk index": 0, "chunk count": 1}
2025-12-23T14:40:43.490+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1645) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923465127255216128, userId: 10001, fromId: 10001, toId: 10006, tm: 1766472043290 (time: 2025-12-23 14:40:43), devId: \"47FCC883FB83DD2D\", sendId: 1645, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T14:40:43.511+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T14:40:43.511+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923464259302723584) MsgTChatMsg
2025-12-23T14:40:43.600+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923465127255216128  sendId:1645  recvOk:1766472042516  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T14:40:43.624+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923464007606734848) MsgTChatReply
2025-12-23T14:40:51.804+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(923464007606734848) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-23T14:40:51.806+0800	[34mINFO[0m	core/session.go:256	user(10001) session(923464007606734848)
2025-12-23T14:55:01.339+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"qbhTTSF39Rva1vmiQYUDBJNDSU/26hPLFL+yrCE=\"}"}
2025-12-23T14:55:01.342+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-23T14:55:01.342+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766472901342,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T14:55:01.385+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T14:55:01.385+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923468724827197440) MsgTFriendOpRet
2025-12-23T14:55:01.452+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T14:55:01.452+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923468724827197440) MsgTFriendOpRet
2025-12-23T14:55:01.692+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:923465127255216128  chatType:ChatTypeP2P"}
2025-12-23T14:55:01.713+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-23T14:55:14.169+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1661) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923468779147628544, userId: 10001, fromId: 10001, toId: 10006, tm: 1766472913984 (time: 2025-12-23 14:55:13), devId: \"47FCC883FB83DD2D\", sendId: 1661, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T14:55:14.194+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T14:55:14.194+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923464259302723584) MsgTChatMsg
2025-12-23T14:55:14.406+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923468779147628544  sendId:1661  recvOk:1766472913486  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T14:55:14.436+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923468724827197440) MsgTChatReply
2025-12-23T14:56:13.571+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "audio5587873292093194474.m4a", "hash": "7b5fa40e2858299a68935486547a1667", "send id": 1662, "chunk index": 0, "chunk count": 1}
2025-12-23T14:56:13.701+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1662) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923469028842934272, userId: 10001, fromId: 10001, toId: 10006, tm: 1766472973521 (time: 2025-12-23 14:56:13), devId: \"47FCC883FB83DD2D\", sendId: 1662, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T14:56:13.727+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T14:56:13.727+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923464259302723584) MsgTChatMsg
2025-12-23T14:56:13.899+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923469028842934272  sendId:1662  recvOk:1766472972960  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T14:56:13.913+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923468724827197440) MsgTChatReply
2025-12-23T14:56:17.540+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1663) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923469044944867328, userId: 10001, fromId: 10001, toId: 10006, tm: 1766472977356 (time: 2025-12-23 14:56:17), devId: \"47FCC883FB83DD2D\", sendId: 1663, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T14:56:17.547+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T14:56:17.547+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923464259302723584) MsgTChatMsg
2025-12-23T14:56:17.596+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923469044944867328  sendId:1663  recvOk:1766472976688  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T14:56:17.615+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923468724827197440) MsgTChatReply
2025-12-23T14:56:27.784+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "audio9103690225214147831.m4a", "hash": "3ad77d54345a9f108e81f6507c502f19", "send id": 1664, "chunk index": 0, "chunk count": 1}
2025-12-23T14:56:27.878+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1664) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923469088305582080, userId: 10001, fromId: 10001, toId: 10006, tm: 1766472987699 (time: 2025-12-23 14:56:27), devId: \"47FCC883FB83DD2D\", sendId: 1664, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T14:56:27.894+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T14:56:27.894+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923464259302723584) MsgTChatMsg
2025-12-23T14:56:28.148+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923469088305582080  sendId:1664  recvOk:1766472987204  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T14:56:28.161+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923468724827197440) MsgTChatReply
2025-12-23T15:10:42.152+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(923468724827197440) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-23T15:10:42.153+0800	[34mINFO[0m	core/session.go:256	user(10001) session(923468724827197440)
2025-12-23T15:10:43.063+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"S3oyZ+aU5TPq3ngitetedscohGK2VdAssQLvssU=\"}"}
2025-12-23T15:10:43.065+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-23T15:10:43.065+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766473843065,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T15:10:43.166+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T15:10:43.166+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923472674863321088) MsgTFriendOpRet
2025-12-23T15:10:43.210+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T15:10:43.210+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923472674863321088) MsgTFriendOpRet
2025-12-23T15:10:43.358+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:923469088305582080  chatType:ChatTypeP2P"}
2025-12-23T15:10:43.380+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-23T15:11:21.493+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "audio4164544856241762879.m4a", "hash": "4af5e51ddaa6a7ccfa8dd6973c463faf", "send id": 1681, "chunk index": 0, "chunk count": 1}
2025-12-23T15:11:21.642+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1681) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923472837023502336, userId: 10001, fromId: 10001, toId: 10006, tm: 1766473881428 (time: 2025-12-23 15:11:21), devId: \"47FCC883FB83DD2D\", sendId: 1681, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T15:11:21.659+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T15:11:21.659+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923464259302723584) MsgTChatMsg
2025-12-23T15:11:21.958+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923472837023502336  sendId:1681  recvOk:1766473881028  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T15:11:21.975+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923472674863321088) MsgTChatReply
2025-12-23T15:11:30.329+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "audio1667600517428008246.m4a", "hash": "44bb01d26a325cdda8e7a69a7d8fb669", "send id": 1682, "chunk index": 0, "chunk count": 1}
2025-12-23T15:11:30.429+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1682) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923472873874657280, userId: 10001, fromId: 10001, toId: 10006, tm: 1766473890240 (time: 2025-12-23 15:11:30), devId: \"47FCC883FB83DD2D\", sendId: 1682, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T15:11:30.444+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T15:11:30.444+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923464259302723584) MsgTChatMsg
2025-12-23T15:11:30.662+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923472873874657280  sendId:1682  recvOk:1766473889722  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T15:11:30.683+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923472674863321088) MsgTChatReply
2025-12-23T15:13:37.754+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(923472674863321088) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-23T15:13:37.755+0800	[34mINFO[0m	core/session.go:256	user(10001) session(923472674863321088)
2025-12-23T15:13:43.601+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"23DOXAgR8k22HHkJtlIIsKjMyTJwDNWB6lNSoLg=\"}"}
2025-12-23T15:13:43.608+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-23T15:13:43.608+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766474023608,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T15:13:43.767+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T15:13:43.767+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923473430261665792) MsgTFriendOpRet
2025-12-23T15:13:43.811+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T15:13:43.811+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923473430261665792) MsgTFriendOpRet
2025-12-23T15:13:45.224+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:923472873874657280  chatType:ChatTypeP2P"}
2025-12-23T15:13:45.235+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-23T15:14:02.080+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(923473430261665792) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-23T15:14:02.081+0800	[34mINFO[0m	core/session.go:256	user(10001) session(923473430261665792)
2025-12-23T15:21:23.785+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"61ve2Prq8RPvcdnjFoIuMljklZW6XfZzaTqRp40=\"}"}
2025-12-23T15:21:23.786+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-23T15:21:23.786+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766474483786,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T15:21:23.873+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T15:21:23.873+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923475362137116672) MsgTFriendOpRet
2025-12-23T15:21:24.000+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T15:21:24.001+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923475362137116672) MsgTFriendOpRet
2025-12-23T15:21:24.083+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:923472873874657280  chatType:ChatTypeP2P"}
2025-12-23T15:21:24.125+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-23T15:21:37.614+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1701) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923475420597325824, userId: 10001, fromId: 10001, toId: 10006, tm: 1766474497379 (time: 2025-12-23 15:21:37), devId: \"47FCC883FB83DD2D\", sendId: 1701, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T15:21:37.662+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T15:21:37.662+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923464259302723584) MsgTChatMsg
2025-12-23T15:21:37.898+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923475420597325824  sendId:1701  recvOk:1766474496968  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T15:21:37.960+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923475362137116672) MsgTChatReply
2025-12-23T15:21:47.374+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "audio8612192818598844254.m4a", "hash": "93a75a90fcdd8361585a5896313e62b1", "send id": 1702, "chunk index": 0, "chunk count": 1}
2025-12-23T15:21:47.527+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1702) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923475462175461376, userId: 10001, fromId: 10001, toId: 10006, tm: 1766474507312 (time: 2025-12-23 15:21:47), devId: \"47FCC883FB83DD2D\", sendId: 1702, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T15:21:47.535+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T15:21:47.535+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923464259302723584) MsgTChatMsg
2025-12-23T15:21:47.782+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923475462175461376  sendId:1702  recvOk:1766474506846  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T15:21:47.796+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923475362137116672) MsgTChatReply
2025-12-23T15:21:51.535+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "audio6406635559411966545.m4a", "hash": "11a14d411c3d6e47de4baf78f490e4e2", "send id": 1703, "chunk index": 0, "chunk count": 1}
2025-12-23T15:21:51.686+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1703) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923475479619571712, userId: 10001, fromId: 10001, toId: 10006, tm: 1766474511492 (time: 2025-12-23 15:21:51), devId: \"47FCC883FB83DD2D\", sendId: 1703, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T15:21:51.708+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T15:21:51.709+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923464259302723584) MsgTChatMsg
2025-12-23T15:21:51.801+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923475479619571712  sendId:1703  recvOk:1766474510854  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T15:21:51.831+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923475362137116672) MsgTChatReply
2025-12-23T15:21:55.331+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1704) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923475494907809792, userId: 10001, fromId: 10001, toId: 10006, tm: 1766474515113 (time: 2025-12-23 15:21:55), devId: \"47FCC883FB83DD2D\", sendId: 1704, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T15:21:55.356+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T15:21:55.357+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923464259302723584) MsgTChatMsg
2025-12-23T15:21:55.499+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923475494907809792  sendId:1704  recvOk:1766474514584  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T15:21:55.525+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923475362137116672) MsgTChatReply
2025-12-23T15:22:33.952+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1705) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923475656891830272, userId: 10001, fromId: 10001, toId: 10006, tm: 1766474553746 (time: 2025-12-23 15:22:33), devId: \"47FCC883FB83DD2D\", sendId: 1705, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T15:22:33.987+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T15:22:33.988+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923464259302723584) MsgTChatMsg
2025-12-23T15:22:34.227+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923475656891830272  sendId:1705  recvOk:1766474553287  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T15:22:34.242+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923475362137116672) MsgTChatReply
2025-12-23T15:22:43.947+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1706) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923475698818093056, userId: 10001, fromId: 10001, toId: 10006, tm: 1766474563742 (time: 2025-12-23 15:22:43), devId: \"47FCC883FB83DD2D\", sendId: 1706, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T15:22:43.958+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T15:22:43.959+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923464259302723584) MsgTChatMsg
2025-12-23T15:22:44.244+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923475698818093056  sendId:1706  recvOk:1766474563272  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T15:22:44.280+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923475362137116672) MsgTChatReply
2025-12-23T15:22:50.213+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "audio2927337491354708486.m4a", "hash": "7b8c6c44486cb791c12ce6e6335b60fb", "send id": 1707, "chunk index": 0, "chunk count": 1}
2025-12-23T15:22:50.306+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1707) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923475725489672192, userId: 10001, fromId: 10001, toId: 10006, tm: 1766474570112 (time: 2025-12-23 15:22:50), devId: \"47FCC883FB83DD2D\", sendId: 1707, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T15:22:50.327+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T15:22:50.328+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923464259302723584) MsgTChatMsg
2025-12-23T15:22:50.552+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923475725489672192  sendId:1707  recvOk:1766474569611  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T15:22:50.574+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923475362137116672) MsgTChatReply
2025-12-23T15:22:59.659+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1708) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923475764718997504, userId: 10001, fromId: 10001, toId: 10006, tm: 1766474579459 (time: 2025-12-23 15:22:59), devId: \"47FCC883FB83DD2D\", sendId: 1708, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T15:22:59.669+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T15:22:59.671+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923464259302723584) MsgTChatMsg
2025-12-23T15:22:59.874+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923475764718997504  sendId:1708  recvOk:1766474578938  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T15:22:59.898+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923475362137116672) MsgTChatReply
2025-12-23T15:27:59.984+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(923475362137116672) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-23T15:27:59.985+0800	[34mINFO[0m	core/session.go:256	user(10001) session(923475362137116672)
2025-12-23T15:28:01.000+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"WXpFGquKrNFaepwUa6IbBkBGH0IDndDhkqhqmKc=\"}"}
2025-12-23T15:28:01.001+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-23T15:28:01.001+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766474881001,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T15:28:01.070+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T15:28:01.071+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923477028102082560) MsgTFriendOpRet
2025-12-23T15:28:01.100+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T15:28:01.100+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923477028102082560) MsgTFriendOpRet
2025-12-23T15:28:01.301+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:923475764718997504  chatType:ChatTypeP2P"}
2025-12-23T15:28:01.317+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-23T15:28:19.640+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "audio5942470093201861672.m4a", "hash": "9af189ea8a22ac623e058ff39951bbcc", "send id": 1721, "chunk index": 0, "chunk count": 1}
2025-12-23T15:28:19.797+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1721) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923477107475091456, userId: 10001, fromId: 10001, toId: 10006, tm: 1766474899584 (time: 2025-12-23 15:28:19), devId: \"47FCC883FB83DD2D\", sendId: 1721, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T15:28:19.816+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T15:28:19.817+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923464259302723584) MsgTChatMsg
2025-12-23T15:28:20.013+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923477107475091456  sendId:1721  recvOk:1766474899068  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T15:28:20.037+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923477028102082560) MsgTChatReply
2025-12-23T15:28:27.642+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "audio3436536829861033388.m4a", "hash": "d42bb2a59a7359e6b760acf4ce0c04b4", "send id": 1722, "chunk index": 0, "chunk count": 1}
2025-12-23T15:28:27.743+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1722) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923477140803031040, userId: 10001, fromId: 10001, toId: 10006, tm: 1766474907549 (time: 2025-12-23 15:28:27), devId: \"47FCC883FB83DD2D\", sendId: 1722, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T15:28:27.764+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T15:28:27.764+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923464259302723584) MsgTChatMsg
2025-12-23T15:28:27.955+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923477140803031040  sendId:1722  recvOk:1766474907017  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T15:28:27.968+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923477028102082560) MsgTChatReply
2025-12-23T15:28:35.797+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(923477028102082560) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-23T15:28:35.798+0800	[34mINFO[0m	core/session.go:256	user(10001) session(923477028102082560)
2025-12-23T15:50:46.530+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"w1zzBe8x1E2X5pTJmMWQFcDDMRS3wnJz57Wg8+E=\"}"}
2025-12-23T15:50:46.531+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-23T15:50:46.532+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766476246531,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T15:50:46.602+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T15:50:46.602+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923482755663269888) MsgTFriendOpRet
2025-12-23T15:50:46.633+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T15:50:46.634+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923482755663269888) MsgTFriendOpRet
2025-12-23T15:50:46.831+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:923477140803031040  chatType:ChatTypeP2P"}
2025-12-23T15:50:46.850+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-23T15:50:57.394+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "audio7400445085884802273.m4a", "hash": "7e3394bbcdd09aa4898b718f5d12e3ab", "send id": 1741, "chunk index": 0, "chunk count": 1}
2025-12-23T15:50:57.501+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1741) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923482802098409472, userId: 10001, fromId: 10001, toId: 10006, tm: 1766476257306 (time: 2025-12-23 15:50:57), devId: \"47FCC883FB83DD2D\", sendId: 1741, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T15:50:57.513+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T15:50:57.513+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923464259302723584) MsgTChatMsg
2025-12-23T15:50:57.709+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923482802098409472  sendId:1741  recvOk:1766476257133  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T15:50:57.719+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923482755663269888) MsgTChatReply
2025-12-23T15:51:05.974+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "audio1846044576771757966.m4a", "hash": "0f94df5d5fd11cec6508f0100ca1fff7", "send id": 1742, "chunk index": 0, "chunk count": 1}
2025-12-23T15:51:06.069+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1742) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923482838035206144, userId: 10001, fromId: 10001, toId: 10006, tm: 1766476265902 (time: 2025-12-23 15:51:05), devId: \"47FCC883FB83DD2D\", sendId: 1742, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T15:51:06.079+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T15:51:06.079+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923464259302723584) MsgTChatMsg
2025-12-23T15:51:06.312+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923482838035206144  sendId:1742  recvOk:1766476265731  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T15:51:06.335+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923482755663269888) MsgTChatReply
2025-12-23T15:51:16.306+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "audio3511037790788060124.m4a", "hash": "f00e9bd3071e4a0f122545295c9c6419", "send id": 1743, "chunk index": 0, "chunk count": 1}
2025-12-23T15:51:16.432+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1743) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923482881500778496, userId: 10001, fromId: 10001, toId: 10006, tm: 1766476276242 (time: 2025-12-23 15:51:16), devId: \"47FCC883FB83DD2D\", sendId: 1743, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T15:51:16.455+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T15:51:16.456+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923464259302723584) MsgTChatMsg
2025-12-23T15:51:16.642+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923482881500778496  sendId:1743  recvOk:1766476276056  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T15:51:16.658+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923482755663269888) MsgTChatReply
2025-12-23T15:51:33.201+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "audio7720198003451584971.m4a", "hash": "547fca087bc545fb84ffaa79ad8ede01", "send id": 1744, "chunk index": 0, "chunk count": 1}
2025-12-23T15:51:33.353+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1744) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923482952472596480, userId: 10001, fromId: 10001, toId: 10006, tm: 1766476293131 (time: 2025-12-23 15:51:33), devId: \"47FCC883FB83DD2D\", sendId: 1744, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T15:51:33.362+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T15:51:33.363+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923464259302723584) MsgTChatMsg
2025-12-23T15:51:33.541+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923482952472596480  sendId:1744  recvOk:1766476292956  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T15:51:33.555+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923482755663269888) MsgTChatReply
2025-12-23T15:57:56.185+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(923482755663269888) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-23T15:57:56.186+0800	[34mINFO[0m	core/session.go:256	user(10001) session(923482755663269888)
2025-12-23T15:58:01.733+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"dF1wIIj3YqOXSTNQZjODOkQUF1rA4O1Rf1TpJ1g=\"}"}
2025-12-23T15:58:01.736+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-23T15:58:01.736+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766476681736,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T15:58:01.788+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T15:58:01.789+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923484581171171328) MsgTFriendOpRet
2025-12-23T15:58:01.850+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T15:58:01.850+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923484581171171328) MsgTFriendOpRet
2025-12-23T15:58:02.037+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:923482952472596480  chatType:ChatTypeP2P"}
2025-12-23T15:58:02.050+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-23T15:58:10.236+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "audio4593085919834344888.m4a", "hash": "7a59b6417f9ac96b5dbde31102020213", "send id": 1761, "chunk index": 0, "chunk count": 1}
2025-12-23T15:58:10.437+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1761) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923484617963606016, userId: 10001, fromId: 10001, toId: 10006, tm: 1766476690232 (time: 2025-12-23 15:58:10), devId: \"47FCC883FB83DD2D\", sendId: 1761, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T15:58:10.449+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T15:58:10.449+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923464259302723584) MsgTChatMsg
2025-12-23T15:58:10.669+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923484617963606016  sendId:1761  recvOk:1766476690086  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T15:58:10.684+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923484581171171328) MsgTChatReply
2025-12-23T15:58:18.972+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(923484581171171328) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-23T15:58:18.973+0800	[34mINFO[0m	core/session.go:256	user(10001) session(923484581171171328)
2025-12-23T16:00:36.813+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"lsT6aJtsFgdCP52op6Jdk8Q59fKK1BAaO36xgPo=\"}"}
2025-12-23T16:00:36.815+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-23T16:00:36.815+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766476836815,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T16:00:36.874+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T16:00:36.874+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923485231577698304) MsgTFriendOpRet
2025-12-23T16:00:36.923+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T16:00:36.923+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923485231577698304) MsgTFriendOpRet
2025-12-23T16:00:37.066+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:923484617963606016  chatType:ChatTypeP2P"}
2025-12-23T16:00:37.076+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-23T16:00:45.572+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "audio4897977921206462544.m4a", "hash": "eda1405a3031439c8a6b399e5bbc68c5", "send id": 1781, "chunk index": 0, "chunk count": 1}
2025-12-23T16:00:45.678+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1781) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923485269091553280, userId: 10001, fromId: 10001, toId: 10006, tm: 1766476845495 (time: 2025-12-23 16:00:45), devId: \"47FCC883FB83DD2D\", sendId: 1781, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T16:00:45.694+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T16:00:45.694+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923464259302723584) MsgTChatMsg
2025-12-23T16:00:45.934+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923485269091553280  sendId:1781  recvOk:1766476845340  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T16:00:45.966+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923485231577698304) MsgTChatReply
2025-12-23T16:00:54.998+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "audio8906974935291791231.m4a", "hash": "d5e873dc473a7c7104e8f27c2ed0651e", "send id": 1782, "chunk index": 0, "chunk count": 1}
2025-12-23T16:00:55.087+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1782) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923485308555759616, userId: 10001, fromId: 10001, toId: 10006, tm: 1766476854906 (time: 2025-12-23 16:00:54), devId: \"47FCC883FB83DD2D\", sendId: 1782, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T16:00:55.096+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T16:00:55.097+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923464259302723584) MsgTChatMsg
2025-12-23T16:00:55.323+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923485308555759616  sendId:1782  recvOk:1766476854736  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T16:00:55.334+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923485231577698304) MsgTChatReply
2025-12-23T16:00:59.523+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(923485231577698304) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-23T16:00:59.525+0800	[34mINFO[0m	core/session.go:256	user(10001) session(923485231577698304)
2025-12-23T16:10:03.827+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(923464259302723584) close here, because ws:readLoop() error, err=read tcp 192.168.1.2:7817->192.168.1.14:46926: i/o timeout
2025-12-23T16:10:03.910+0800	[34mINFO[0m	core/session.go:256	user(10006) session(923464259302723584)
2025-12-23T16:10:17.959+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:-5357504718274850190  params:{key:\"checkTokenData\"  value:\"ZO5w9mDnMxUmOIvr02LyHkoCFzppoJWpVNu3bSw=\"}"}
2025-12-23T16:10:17.961+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-12-23T16:10:17.961+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766477417961,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T16:10:18.014+0800	[31mERROR[0m	core/friendhandler.go:692	handleFriendList() query scylladb error	{"error": "gocql: no hosts available in the pool"}
2025-12-23T16:10:18.022+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": null}
2025-12-23T16:10:18.022+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923487669172965376) MsgTFriendOpRet
2025-12-23T16:10:18.068+0800	[31mERROR[0m	core/friendhandler.go:692	handleFriendList() query scylladb error	{"error": "gocql: no hosts available in the pool"}
2025-12-23T16:10:18.068+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": null}
2025-12-23T16:10:18.068+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923487669172965376) MsgTFriendOpRet
2025-12-23T19:22:05.822+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(923487669172965376) close here, because ws:readLoop() error, err=read tcp 192.168.1.2:7817->192.168.1.14:47134: i/o timeout
2025-12-23T19:22:06.224+0800	[34mINFO[0m	core/session.go:256	user(10006) session(923487669172965376)
2025-12-23T19:22:13.792+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:-5357504718274850190  params:{key:\"checkTokenData\"  value:\"FJ541fRdTZCR75fkbwKltPuKFbAWzOCx1Jv+AIg=\"}"}
2025-12-23T19:22:13.794+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-12-23T19:22:13.794+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766488933794,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T20:02:03.934+0800	[31mERROR[0m	core/friendhandler.go:692	handleFriendList() query scylladb error	{"error": "gocql: no response received from cassandra within timeout period"}
2025-12-23T20:02:04.021+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": null}
2025-12-23T20:02:04.022+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923535969955745792) MsgTFriendOpRet
2025-12-23T20:02:04.023+0800	[31mERROR[0m	core/friendhandler.go:692	handleFriendList() query scylladb error	{"error": "gocql: no hosts available in the pool"}
2025-12-23T20:02:04.023+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": null}
2025-12-23T20:02:04.023+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923535969955745792) MsgTFriendOpRet
2025-12-23T20:02:13.782+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(923535969955745792) close here, because ws:readLoop() error, err=read tcp 192.168.1.2:7817->192.168.1.14:48108: wsarecv: An existing connection was forcibly closed by the remote host.
2025-12-23T20:02:13.783+0800	[34mINFO[0m	core/session.go:256	user(10006) session(923535969955745792)
2025-12-23T20:02:26.549+0800	[34mINFO[0m	server/main.go:93	server started here...
2025-12-23T20:02:36.294+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:-5357504718274850190  params:{key:\"checkTokenData\"  value:\"iXpx5yrmjZMMMC1icGWummMaEcEAMWGach6jDYQ=\"}"}
2025-12-23T20:02:36.465+0800	[35mDEBUG[0m	core/commonhelper.go:421	Load user permission list	{"user": 10006, "count": 0}
2025-12-23T20:02:36.466+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-12-23T20:02:36.466+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766491356466,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T20:02:36.526+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*"},{"userId":10002,"nickName":"robin","email":"*","phone":"*"}]}
2025-12-23T20:02:36.526+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923546130887872512) MsgTFriendOpRet
2025-12-23T20:02:36.679+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"nickName":"yoyo","email":"*","phone":"*"}]}
2025-12-23T20:02:36.679+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923546130887872512) MsgTFriendOpRet
2025-12-23T20:02:48.779+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"Xg5PXEaGsN7qTtJjx/R8PjLbZ2ml74UjvANvux8=\"}"}
2025-12-23T20:02:48.780+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-23T20:02:48.780+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766491368780,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T20:02:48.834+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*"},{"userId":10005,"nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T20:02:48.835+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923546182968545280) MsgTFriendOpRet
2025-12-23T20:02:48.880+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T20:02:48.880+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923546182968545280) MsgTFriendOpRet
2025-12-23T20:02:49.065+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:923485308555759616  chatType:ChatTypeP2P"}
2025-12-23T20:02:49.107+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-23T20:03:39.344+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "audio3959046112528499855.m4a", "hash": "5c99c0e5f4d3e06b8675130bc5798fa8", "send id": 1801, "chunk index": 0, "chunk count": 1}
2025-12-23T20:03:39.487+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1801) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923546396076937216, userId: 10001, fromId: 10001, toId: 10006, tm: 1766491419343 (time: 2025-12-23 20:03:39), devId: \"47FCC883FB83DD2D\", sendId: 1801, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T20:03:39.555+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T20:03:39.555+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923546130887872512) MsgTChatMsg
2025-12-23T20:03:39.657+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1801) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923546396789968896, userId: 10001, fromId: 10001, toId: 10006, tm: 1766491419532 (time: 2025-12-23 20:03:39), devId: \"47FCC883FB83DD2D\", sendId: 1801, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T20:03:39.683+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T20:03:39.683+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923546130887872512) MsgTChatMsg
2025-12-23T20:03:39.750+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923546396076937216  sendId:1801  recvOk:1766491419112  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T20:03:39.788+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923546182968545280) MsgTChatReply
2025-12-23T20:03:39.902+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923546396789968896  sendId:1801  recvOk:1766491419288  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T20:03:39.927+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923546182968545280) MsgTChatReply
2025-12-23T20:03:52.397+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1802) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923546450225401856, userId: 10001, fromId: 10001, toId: 10006, tm: 1766491432286 (time: 2025-12-23 20:03:52), devId: \"47FCC883FB83DD2D\", sendId: 1802, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T20:03:52.411+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T20:03:52.412+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923546130887872512) MsgTChatMsg
2025-12-23T20:03:52.696+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923546450225401856  sendId:1802  recvOk:1766491432068  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T20:03:52.719+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923546182968545280) MsgTChatReply
2025-12-23T20:14:16.834+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(923546182968545280) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-23T20:14:16.836+0800	[34mINFO[0m	core/session.go:256	user(10001) session(923546182968545280)
2025-12-23T20:14:18.354+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"IZf/varMJw6Vj62tcVTf1tdMLo8fqkh8nj+J1GA=\"}"}
2025-12-23T20:14:18.355+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-23T20:14:18.355+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766492058355,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T20:14:18.405+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T20:14:18.405+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923549075251531776) MsgTFriendOpRet
2025-12-23T20:14:18.453+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T20:14:18.454+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923549075251531776) MsgTFriendOpRet
2025-12-23T20:14:18.707+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:923546450225401856  chatType:ChatTypeP2P"}
2025-12-23T20:14:18.716+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-23T20:14:31.434+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "audio4894561352001277244.m4a", "hash": "35eedf04906d909845f2a09fcc95ad18", "send id": 1821, "chunk index": 0, "chunk count": 1}
2025-12-23T20:14:31.556+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1821) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923549131052552192, userId: 10001, fromId: 10001, toId: 10006, tm: 1766492071441 (time: 2025-12-23 20:14:31), devId: \"47FCC883FB83DD2D\", sendId: 1821, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T20:14:31.568+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T20:14:31.568+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923546130887872512) MsgTChatMsg
2025-12-23T20:14:31.624+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923549131052552192  sendId:1821  recvOk:1766492070996  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T20:14:31.648+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923549075251531776) MsgTChatReply
2025-12-23T20:14:41.001+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "audio6355012574976736613.m4a", "hash": "bf70cba16244466cd3f7d67236077b93", "send id": 1822, "chunk index": 0, "chunk count": 1}
2025-12-23T20:14:41.114+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1822) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923549171141709824, userId: 10001, fromId: 10001, toId: 10006, tm: 1766492081002 (time: 2025-12-23 20:14:41), devId: \"47FCC883FB83DD2D\", sendId: 1822, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T20:14:41.124+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T20:14:41.125+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923546130887872512) MsgTChatMsg
2025-12-23T20:14:41.410+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923549171141709824  sendId:1822  recvOk:1766492080773  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T20:14:41.437+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923549075251531776) MsgTChatReply
2025-12-23T20:14:52.162+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(923549075251531776) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-23T20:14:52.163+0800	[34mINFO[0m	core/session.go:256	user(10001) session(923549075251531776)
2025-12-23T20:19:19.560+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"TUyseijSca48E2DxtKhdxCpZ5ClZvitvgck33pU=\"}"}
2025-12-23T20:19:19.562+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-23T20:19:19.563+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766492359562,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T20:19:19.621+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T20:19:19.621+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923550338622033920) MsgTFriendOpRet
2025-12-23T20:19:19.667+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T20:19:19.667+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923550338622033920) MsgTFriendOpRet
2025-12-23T20:19:19.941+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:923549171141709824  chatType:ChatTypeP2P"}
2025-12-23T20:19:19.962+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-23T20:19:28.041+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "audio7731469044025214620.m4a", "hash": "29de0dd9e03911c7b2b8b7ecfa8f45c0", "send id": 1841, "chunk index": 0, "chunk count": 1}
2025-12-23T20:19:28.226+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1841) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923550375376719872, userId: 10001, fromId: 10001, toId: 10006, tm: 1766492368083 (time: 2025-12-23 20:19:28), devId: \"47FCC883FB83DD2D\", sendId: 1841, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T20:19:28.249+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T20:19:28.250+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923546130887872512) MsgTChatMsg
2025-12-23T20:19:28.543+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923550375376719872  sendId:1841  recvOk:1766492367907  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T20:19:28.561+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923550338622033920) MsgTChatReply
2025-12-23T20:19:44.015+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "audio9076802717205547726.m4a", "hash": "ae7a4420055d81f4e3f7e6a25f0b1ba2", "send id": 1842, "chunk index": 0, "chunk count": 1}
2025-12-23T20:19:44.212+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1842) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923550442422669312, userId: 10001, fromId: 10001, toId: 10006, tm: 1766492384034 (time: 2025-12-23 20:19:44), devId: \"47FCC883FB83DD2D\", sendId: 1842, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T20:19:44.236+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T20:19:44.236+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923546130887872512) MsgTChatMsg
2025-12-23T20:19:44.518+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923550442422669312  sendId:1842  recvOk:1766492383880  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T20:19:44.530+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923550338622033920) MsgTChatReply
2025-12-23T20:19:48.368+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "audio8133528474200443581.m4a", "hash": "f739432e238e5eb8573c0d0e528df3f9", "send id": 1843, "chunk index": 0, "chunk count": 1}
2025-12-23T20:19:48.511+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1843) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923550460458176512, userId: 10001, fromId: 10001, toId: 10006, tm: 1766492388385 (time: 2025-12-23 20:19:48), devId: \"47FCC883FB83DD2D\", sendId: 1843, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T20:19:48.529+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T20:19:48.529+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923546130887872512) MsgTChatMsg
2025-12-23T20:19:48.818+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923550460458176512  sendId:1843  recvOk:1766492388122  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T20:19:48.843+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923550338622033920) MsgTChatReply
2025-12-23T20:19:54.694+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "audio916629117497366497.m4a", "hash": "db27ac362e36c94575db7a10ce64405e", "send id": 1844, "chunk index": 0, "chunk count": 1}
2025-12-23T20:19:54.860+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1844) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923550487087812608, userId: 10001, fromId: 10001, toId: 10006, tm: 1766492394728 (time: 2025-12-23 20:19:54), devId: \"47FCC883FB83DD2D\", sendId: 1844, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T20:19:54.880+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T20:19:54.880+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923546130887872512) MsgTChatMsg
2025-12-23T20:19:55.033+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923550487087812608  sendId:1844  recvOk:1766492394403  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T20:19:55.044+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923550338622033920) MsgTChatReply
2025-12-23T20:20:02.551+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "audio5522888967478400894.m4a", "hash": "eae9890bd645da9e64e1cb59c90567dc", "send id": 1845, "chunk index": 0, "chunk count": 1}
2025-12-23T20:20:02.633+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1845) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923550519690137600, userId: 10001, fromId: 10001, toId: 10006, tm: 1766492402557 (time: 2025-12-23 20:20:02), devId: \"47FCC883FB83DD2D\", sendId: 1845, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T20:20:02.648+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T20:20:02.649+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923546130887872512) MsgTChatMsg
2025-12-23T20:20:02.880+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923550519690137600  sendId:1845  recvOk:1766492402252  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T20:20:02.891+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923550338622033920) MsgTChatReply
2025-12-23T20:20:06.545+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "audio112743942972867284.m4a", "hash": "1a673c8a66ee857b664d5c06469c8d11", "send id": 1846, "chunk index": 0, "chunk count": 1}
2025-12-23T20:20:06.648+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1846) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923550536530268160, userId: 10001, fromId: 10001, toId: 10006, tm: 1766492406535 (time: 2025-12-23 20:20:06), devId: \"47FCC883FB83DD2D\", sendId: 1846, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T20:20:06.673+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T20:20:06.673+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923546130887872512) MsgTChatMsg
2025-12-23T20:20:07.046+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923550536530268160  sendId:1846  recvOk:1766492406352  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T20:20:07.056+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923550338622033920) MsgTChatReply
2025-12-23T20:20:40.938+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(923550338622033920) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-23T20:20:40.938+0800	[34mINFO[0m	core/session.go:256	user(10001) session(923550338622033920)
2025-12-23T20:20:41.816+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"tIo40JWDTeOXwxqaUCoj5eSve/bTHPIdVitVwWc=\"}"}
2025-12-23T20:20:41.817+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-23T20:20:41.817+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766492441817,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T20:20:41.895+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T20:20:41.896+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923550683779698688) MsgTFriendOpRet
2025-12-23T20:20:41.940+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T20:20:41.940+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923550683779698688) MsgTFriendOpRet
2025-12-23T20:20:42.186+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:923550536530268160  chatType:ChatTypeP2P"}
2025-12-23T20:20:42.206+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-23T20:20:49.038+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "audio4006453491464713896.m4a", "hash": "5f49c85f1785b0873ff069680b0301c0", "send id": 1861, "chunk index": 0, "chunk count": 1}
2025-12-23T20:20:49.143+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1861) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923550714767216640, userId: 10001, fromId: 10001, toId: 10006, tm: 1766492449044 (time: 2025-12-23 20:20:49), devId: \"47FCC883FB83DD2D\", sendId: 1861, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T20:20:49.154+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T20:20:49.154+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923546130887872512) MsgTChatMsg
2025-12-23T20:20:49.543+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923550714767216640  sendId:1861  recvOk:1766492448825  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T20:20:49.558+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923550683779698688) MsgTChatReply
2025-12-23T20:20:56.060+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "audio3029272937663317837.m4a", "hash": "372b4cc4d6eb361a9e1b96d0b7438a94", "send id": 1862, "chunk index": 0, "chunk count": 1}
2025-12-23T20:20:56.148+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1862) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923550744148316160, userId: 10001, fromId: 10001, toId: 10006, tm: 1766492456056 (time: 2025-12-23 20:20:56), devId: \"47FCC883FB83DD2D\", sendId: 1862, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T20:20:56.165+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T20:20:56.166+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923546130887872512) MsgTChatMsg
2025-12-23T20:20:56.403+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923550744148316160  sendId:1862  recvOk:1766492455746  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T20:20:56.417+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923550683779698688) MsgTChatReply
2025-12-23T20:23:17.512+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(923550683779698688) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-23T20:23:17.513+0800	[34mINFO[0m	core/session.go:256	user(10001) session(923550683779698688)
2025-12-23T20:23:18.331+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"Nqtj6K6LlTiaKEVTW9w0dmDUyAc2UDV4u/T7vA4=\"}"}
2025-12-23T20:23:18.331+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-23T20:23:18.332+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766492598331,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T20:23:18.430+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T20:23:18.430+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923551339945005056) MsgTFriendOpRet
2025-12-23T20:23:18.463+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T20:23:18.465+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923551339945005056) MsgTFriendOpRet
2025-12-23T20:23:18.598+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:923550744148316160  chatType:ChatTypeP2P"}
2025-12-23T20:23:18.618+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-23T20:23:26.995+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "audio6026625085166656110.m4a", "hash": "cbc2e59a13039120a5ca7d5afa2e9ddc", "send id": 1881, "chunk index": 0, "chunk count": 1}
2025-12-23T20:23:27.241+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1881) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923551377878290432, userId: 10001, fromId: 10001, toId: 10006, tm: 1766492607002 (time: 2025-12-23 20:23:27), devId: \"47FCC883FB83DD2D\", sendId: 1881, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T20:23:27.265+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T20:23:27.265+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923546130887872512) MsgTChatMsg
2025-12-23T20:23:27.547+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923551377878290432  sendId:1881  recvOk:1766492606915  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T20:23:27.558+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923551339945005056) MsgTChatReply
2025-12-23T20:23:33.739+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "audio4697162366976599115.m4a", "hash": "e89fcf645db6d20904ac34c673edbda2", "send id": 1882, "chunk index": 0, "chunk count": 1}
2025-12-23T20:23:33.809+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1882) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923551405426479104, userId: 10001, fromId: 10001, toId: 10006, tm: 1766492613731 (time: 2025-12-23 20:23:33), devId: \"47FCC883FB83DD2D\", sendId: 1882, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T20:23:33.819+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T20:23:33.820+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923546130887872512) MsgTChatMsg
2025-12-23T20:23:34.101+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923551405426479104  sendId:1882  recvOk:1766492613460  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T20:23:34.121+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923551339945005056) MsgTChatReply
2025-12-23T20:23:41.801+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "audio3746868977693179863.m4a", "hash": "2393e4c0069ea9c4bc2559753b910f07", "send id": 1883, "chunk index": 0, "chunk count": 1}
2025-12-23T20:23:41.986+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1883) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923551439723302912, userId: 10001, fromId: 10001, toId: 10006, tm: 1766492621864 (time: 2025-12-23 20:23:41), devId: \"47FCC883FB83DD2D\", sendId: 1883, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T20:23:41.992+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T20:23:41.993+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923546130887872512) MsgTChatMsg
2025-12-23T20:23:42.292+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923551439723302912  sendId:1883  recvOk:1766492621665  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T20:23:42.318+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923551339945005056) MsgTChatReply
2025-12-23T20:23:46.721+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1884) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923551459583332352, userId: 10001, fromId: 10001, toId: 10006, tm: 1766492626635 (time: 2025-12-23 20:23:46), devId: \"47FCC883FB83DD2D\", sendId: 1884, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T20:23:46.739+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T20:23:46.740+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923546130887872512) MsgTChatMsg
2025-12-23T20:23:46.848+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923551459583332352  sendId:1884  recvOk:1766492626253  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T20:23:46.858+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923551339945005056) MsgTChatReply
2025-12-23T20:23:59.403+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1885) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923551512775495680, userId: 10001, fromId: 10001, toId: 10006, tm: 1766492639244 (time: 2025-12-23 20:23:59), devId: \"47FCC883FB83DD2D\", sendId: 1885, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T20:23:59.413+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T20:23:59.414+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923546130887872512) MsgTChatMsg
2025-12-23T20:23:59.646+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923551512775495680  sendId:1885  recvOk:1766492639008  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T20:23:59.666+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923551339945005056) MsgTChatReply
2025-12-23T20:24:23.253+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(923551339945005056) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-23T20:24:23.254+0800	[34mINFO[0m	core/session.go:256	user(10001) session(923551339945005056)
2025-12-23T20:26:40.640+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"ljfmsONwYsPRft9Kr+XjStW1c3G9QaQHJcRCx/I=\"}"}
2025-12-23T20:26:40.641+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-23T20:26:40.642+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766492800641,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T20:26:40.729+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T20:26:40.730+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923552188637253632) MsgTFriendOpRet
2025-12-23T20:26:40.778+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T20:26:40.779+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923552188637253632) MsgTFriendOpRet
2025-12-23T20:26:40.923+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:923551512775495680  chatType:ChatTypeP2P"}
2025-12-23T20:26:40.943+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-23T20:26:48.670+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "audio2753489884073641301.m4a", "hash": "1e100dca74e23976fe8f0e59fe19afa8", "send id": 1901, "chunk index": 0, "chunk count": 1}
2025-12-23T20:26:48.877+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1901) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923552223600971776, userId: 10001, fromId: 10001, toId: 10006, tm: 1766492808715 (time: 2025-12-23 20:26:48), devId: \"47FCC883FB83DD2D\", sendId: 1901, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T20:26:48.902+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T20:26:48.902+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923546130887872512) MsgTChatMsg
2025-12-23T20:26:49.174+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923552223600971776  sendId:1901  recvOk:1766492808543  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T20:26:49.197+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923552188637253632) MsgTChatReply
2025-12-23T20:26:56.039+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "audio1143518374198632538.m4a", "hash": "8bd46e6db016d586b874d0f086aac3a0", "send id": 1902, "chunk index": 0, "chunk count": 1}
2025-12-23T20:26:56.235+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1902) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923552254462660608, userId: 10001, fromId: 10001, toId: 10006, tm: 1766492816115 (time: 2025-12-23 20:26:56), devId: \"47FCC883FB83DD2D\", sendId: 1902, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T20:26:56.249+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T20:26:56.250+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923546130887872512) MsgTChatMsg
2025-12-23T20:26:56.462+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923552254462660608  sendId:1902  recvOk:1766492815829  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T20:26:56.487+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923552188637253632) MsgTChatReply
2025-12-23T20:27:43.854+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(923552188637253632) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-23T20:27:43.856+0800	[34mINFO[0m	core/session.go:256	user(10001) session(923552188637253632)
2025-12-23T20:36:55.187+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"kpYFDn6Dk/cWgeClzmgVftLh8D1sDHHucA6j06o=\"}"}
2025-12-23T20:36:55.189+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-23T20:36:55.189+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766493415189,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T20:36:55.340+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T20:36:55.341+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923554765529550848) MsgTFriendOpRet
2025-12-23T20:36:55.386+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T20:36:55.387+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923554765529550848) MsgTFriendOpRet
2025-12-23T20:36:55.802+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:923552254462660608  chatType:ChatTypeP2P"}
2025-12-23T20:36:55.821+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-23T20:37:33.220+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "audio8515235400209596535.m4a", "hash": "2d2fc5dab366ba0d8c3e33dfe570ca3e", "send id": 1921, "chunk index": 0, "chunk count": 1}
2025-12-23T20:37:33.356+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1921) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923554926741819392, userId: 10001, fromId: 10001, toId: 10006, tm: 1766493453272 (time: 2025-12-23 20:37:33), devId: \"47FCC883FB83DD2D\", sendId: 1921, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T20:37:33.372+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T20:37:33.373+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923546130887872512) MsgTChatMsg
2025-12-23T20:37:33.516+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923554926741819392  sendId:1921  recvOk:1766493452446  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T20:37:33.528+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923554765529550848) MsgTChatReply
2025-12-23T20:38:00.210+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_XHS_17651776483281040g2sg31pcv43gt28l05oo4egqjoj253fb7bno.jpg", "hash": "0bc99ce21ce62f9c3d438d71256f9bef", "send id": 1922, "chunk index": 0, "chunk count": 1}
2025-12-23T20:38:00.309+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1922) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923555039790895104, userId: 10001, fromId: 10001, toId: 10006, tm: 1766493480230 (time: 2025-12-23 20:38:00), devId: \"47FCC883FB83DD2D\", sendId: 1922, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"2di7zlahxzhmz.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"Camera_XHS_17651776483281040g2sg31pcv43gt28l05oo4egqjoj253fb7bno.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T20:38:00.321+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T20:38:00.321+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923546130887872512) MsgTChatMsg
2025-12-23T20:38:00.615+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923555039790895104  sendId:1922  recvOk:1766493479551  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T20:38:00.632+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923554765529550848) MsgTChatReply
2025-12-23T20:38:01.143+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "2di7zlahxzhmz.jpg"}
2025-12-23T20:38:16.522+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_XHS_1765183659779.jpg", "hash": "c2b80da308bc94cf4255cc7ab6db248a", "send id": 1923, "chunk index": 0, "chunk count": 2}
2025-12-23T20:38:16.704+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_XHS_1765183659779.jpg", "hash": "c2b80da308bc94cf4255cc7ab6db248a", "send id": 1923, "chunk index": 1, "chunk count": 2}
2025-12-23T20:38:16.787+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1923) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923555108904636416, userId: 10001, fromId: 10001, toId: 10006, tm: 1766493496685 (time: 2025-12-23 20:38:16), devId: \"47FCC883FB83DD2D\", sendId: 1923, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"35n4cyx0g2y0y.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"Camera_XHS_1765183659779.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T20:38:16.803+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T20:38:16.804+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923546130887872512) MsgTChatMsg
2025-12-23T20:38:17.264+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923555108904636416  sendId:1923  recvOk:1766493496192  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T20:38:17.285+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923554765529550848) MsgTChatReply
2025-12-23T20:38:17.623+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "35n4cyx0g2y0y.jpg"}
2025-12-23T20:38:28.653+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(923554765529550848) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-23T20:38:28.654+0800	[34mINFO[0m	core/session.go:256	user(10001) session(923554765529550848)
2025-12-23T20:44:15.924+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"ixZniAgSpHr4w61gOztvkb5IDa2DZ8EU9JSJ93I=\"}"}
2025-12-23T20:44:15.927+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-23T20:44:15.927+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766493855927,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T20:44:16.137+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T20:44:16.138+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923556613892214784) MsgTFriendOpRet
2025-12-23T20:44:16.167+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T20:44:16.168+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923556613892214784) MsgTFriendOpRet
2025-12-23T20:44:16.536+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:923555108904636416  chatType:ChatTypeP2P"}
2025-12-23T20:44:16.545+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-23T20:44:25.556+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(923556613892214784) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-23T20:44:25.557+0800	[34mINFO[0m	core/session.go:256	user(10001) session(923556613892214784)
2025-12-23T20:45:50.746+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"IXqWxbCgRRAMqslUy+WUFKgU97YwWVYjauNNjrY=\"}"}
2025-12-23T20:45:50.748+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-23T20:45:50.748+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766493950748,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T20:45:50.825+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T20:45:50.825+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923557012271403008) MsgTFriendOpRet
2025-12-23T20:45:50.857+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T20:45:50.857+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923557012271403008) MsgTFriendOpRet
2025-12-23T20:45:51.059+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:923555108904636416  chatType:ChatTypeP2P"}
2025-12-23T20:45:51.067+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-23T20:45:52.535+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "35n4cyx0g2y0y.jpg"}
2025-12-23T20:45:54.955+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "35n4cyx0g2y0y.jpg"}
2025-12-23T20:45:57.098+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "35n4cyx0g2y0y.jpg"}
2025-12-23T20:46:55.668+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(923557012271403008) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-23T20:46:55.669+0800	[34mINFO[0m	core/session.go:256	user(10001) session(923557012271403008)
2025-12-23T20:55:24.707+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"fdb8032zia8dEDLNXBZ1fPJ4RwRYTMZJhsMTUYU=\"}"}
2025-12-23T20:55:24.710+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-23T20:55:24.711+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766494524710,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T20:55:24.758+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T20:55:24.759+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923559419827064832) MsgTFriendOpRet
2025-12-23T20:55:24.810+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T20:55:24.811+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923559419827064832) MsgTFriendOpRet
2025-12-23T20:55:25.013+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:923555108904636416  chatType:ChatTypeP2P"}
2025-12-23T20:55:25.026+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-23T20:55:28.866+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "35n4cyx0g2y0y.jpg"}
2025-12-23T20:55:33.001+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(923559419827064832) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-23T20:55:33.003+0800	[34mINFO[0m	core/session.go:256	user(10001) session(923559419827064832)
2025-12-23T20:56:18.568+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"oEY9xLzci/OVr9kpeJA2FK1L/GI6Sg1xL6wwtko=\"}"}
2025-12-23T20:56:18.570+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-23T20:56:18.570+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766494578570,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T20:56:18.666+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T20:56:18.667+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923559645602254848) MsgTFriendOpRet
2025-12-23T20:56:18.713+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T20:56:18.713+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923559645602254848) MsgTFriendOpRet
2025-12-23T20:56:18.841+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:923555108904636416  chatType:ChatTypeP2P"}
2025-12-23T20:56:18.864+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-23T20:56:21.847+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "35n4cyx0g2y0y.jpg"}
2025-12-23T20:56:26.455+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(923559645602254848) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-23T20:56:26.455+0800	[34mINFO[0m	core/session.go:256	user(10001) session(923559645602254848)
2025-12-23T20:56:39.628+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"IdKtYaH0OTuCp60aBhaoM82r9njG1ECPzMNk0vY=\"}"}
2025-12-23T20:56:39.630+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-23T20:56:39.631+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766494599630,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T20:56:39.728+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T20:56:39.729+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923559734034960384) MsgTFriendOpRet
2025-12-23T20:56:39.769+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T20:56:39.770+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923559734034960384) MsgTFriendOpRet
2025-12-23T20:56:39.911+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:923555108904636416  chatType:ChatTypeP2P"}
2025-12-23T20:56:39.925+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-23T20:56:42.642+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "35n4cyx0g2y0y.jpg"}
2025-12-23T20:56:49.020+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(923559734034960384) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-23T20:56:49.020+0800	[34mINFO[0m	core/session.go:256	user(10001) session(923559734034960384)
2025-12-23T20:58:09.366+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"6dBQ2670GDK4tbmwSU/Lpw4Lnkn61RADC1rRXv4=\"}"}
2025-12-23T20:58:09.369+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-23T20:58:09.369+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766494689369,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T20:58:09.477+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T20:58:09.477+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923560110247251968) MsgTFriendOpRet
2025-12-23T20:58:09.514+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T20:58:09.515+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923560110247251968) MsgTFriendOpRet
2025-12-23T20:58:09.658+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:923555108904636416  chatType:ChatTypeP2P"}
2025-12-23T20:58:09.674+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-23T20:58:12.195+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "35n4cyx0g2y0y.jpg"}
2025-12-23T21:01:31.178+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(923560110247251968) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-23T21:01:31.182+0800	[34mINFO[0m	core/session.go:256	user(10001) session(923560110247251968)
2025-12-23T21:01:33.555+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"lLXV0HDmB6iB9TogNWcDUukQBAXWW3sN2ddOkD4=\"}"}
2025-12-23T21:01:33.557+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-23T21:01:33.558+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766494893557,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T21:01:33.632+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T21:01:33.633+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923560966464081920) MsgTFriendOpRet
2025-12-23T21:01:33.677+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T21:01:33.678+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923560966464081920) MsgTFriendOpRet
2025-12-23T21:01:33.965+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:923555108904636416  chatType:ChatTypeP2P"}
2025-12-23T21:01:33.991+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-23T21:01:42.904+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_1040g3k831pmqhbuf4kcg5o83fnd096ah66bck30.jpg", "hash": "c75f4f4ad1fada204a643e1dcadb29ef", "send id": 1941, "chunk index": 0, "chunk count": 2}
2025-12-23T21:01:43.142+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_1040g3k831pmqhbuf4kcg5o83fnd096ah66bck30.jpg", "hash": "c75f4f4ad1fada204a643e1dcadb29ef", "send id": 1941, "chunk index": 1, "chunk count": 2}
2025-12-23T21:01:43.268+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1941) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923561008113520640, userId: 10001, fromId: 10001, toId: 10006, tm: 1766494903147 (time: 2025-12-23 21:01:43), devId: \"47FCC883FB83DD2D\", sendId: 1941, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"hzj5qhgu0z47.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"Camera_1040g3k831pmqhbuf4kcg5o83fnd096ah66bck30.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T21:01:43.292+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T21:01:43.292+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923546130887872512) MsgTChatMsg
2025-12-23T21:01:43.436+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923561008113520640  sendId:1941  recvOk:1766494902368  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T21:01:43.449+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923560966464081920) MsgTChatReply
2025-12-23T21:01:44.000+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "hzj5qhgu0z47.jpg"}
2025-12-23T21:03:18.823+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(923560966464081920) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-23T21:03:18.824+0800	[34mINFO[0m	core/session.go:256	user(10001) session(923560966464081920)
2025-12-23T21:13:06.703+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"MVStK/CFzZuXGwiAvTvkfK5vm00sWATAIsKwyhA=\"}"}
2025-12-23T21:13:06.704+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-23T21:13:06.704+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766495586704,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T21:13:06.763+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T21:13:06.763+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923563874102415360) MsgTFriendOpRet
2025-12-23T21:13:06.808+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T21:13:06.809+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923563874102415360) MsgTFriendOpRet
2025-12-23T21:13:07.119+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:923561008113520640  chatType:ChatTypeP2P"}
2025-12-23T21:13:07.137+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-23T21:13:19.408+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(923563874102415360) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-23T21:13:19.408+0800	[34mINFO[0m	core/session.go:256	user(10001) session(923563874102415360)
2025-12-23T21:14:11.985+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"adGA0x4FHCI5yrnL2fuEcVagT6etkfOk3WplO64=\"}"}
2025-12-23T21:14:11.988+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-23T21:14:11.988+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766495651988,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T21:14:12.050+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T21:14:12.051+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923564148011438080) MsgTFriendOpRet
2025-12-23T21:14:12.094+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T21:14:12.094+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923564148011438080) MsgTFriendOpRet
2025-12-23T21:14:12.349+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:923561008113520640  chatType:ChatTypeP2P"}
2025-12-23T21:14:12.358+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-23T21:14:13.910+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "hzj5qhgu0z47.jpg"}
2025-12-23T21:14:13.980+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "hzj5qhgu0z47.jpg"}
2025-12-23T21:14:15.627+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "hzj5qhgu0z47.jpg"}
2025-12-23T21:14:26.641+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(923564148011438080) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-23T21:14:26.643+0800	[34mINFO[0m	core/session.go:256	user(10001) session(923564148011438080)
2025-12-23T21:15:27.276+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"UXQpE6Cf+GgGfVAoct/+LAjbJc5dEvRJGODTZEk=\"}"}
2025-12-23T21:15:27.279+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-23T21:15:27.280+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766495727279,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-23T21:15:27.379+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T21:15:27.379+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923564463574093824) MsgTFriendOpRet
2025-12-23T21:15:27.441+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-23T21:15:27.442+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923564463574093824) MsgTFriendOpRet
2025-12-23T21:15:27.552+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:923561008113520640  chatType:ChatTypeP2P"}
2025-12-23T21:15:27.594+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-23T21:15:30.584+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "hzj5qhgu0z47.jpg"}
2025-12-23T21:15:44.705+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_1040g3k031mbpo3gt521g5oo9c38lb7lm5ocemao.jpg", "hash": "81e88b252f15dfd03405615d6c0d506a", "send id": 1961, "chunk index": 0, "chunk count": 2}
2025-12-23T21:15:44.958+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_1040g3k031mbpo3gt521g5oo9c38lb7lm5ocemao.jpg", "hash": "81e88b252f15dfd03405615d6c0d506a", "send id": 1961, "chunk index": 1, "chunk count": 2}
2025-12-23T21:15:45.065+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1961) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923564538866044928, userId: 10001, fromId: 10001, toId: 10006, tm: 1766495744948 (time: 2025-12-23 21:15:44), devId: \"47FCC883FB83DD2D\", sendId: 1961, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"36cjxbfzxjq81.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"Camera_1040g3k031mbpo3gt521g5oo9c38lb7lm5ocemao.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T21:15:45.096+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T21:15:45.097+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923546130887872512) MsgTChatMsg
2025-12-23T21:15:45.279+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923564538866044928  sendId:1961  recvOk:1766495744200  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T21:15:45.336+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923564463574093824) MsgTChatReply
2025-12-23T21:15:45.785+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "36cjxbfzxjq81.jpg"}
2025-12-23T21:16:47.952+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_XHS_17650313070781040g2sg317heggdq4a705o7bps90btqth58cl28.jpg", "hash": "7a2c63ca43b006b073360a28118b63e5", "send id": 1962, "chunk index": 0, "chunk count": 1}
2025-12-23T21:16:49.023+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1962) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923564807125340160, userId: 10001, fromId: 10001, toId: 10006, tm: 1766495807934 (time: 2025-12-23 21:16:47), devId: \"47FCC883FB83DD2D\", sendId: 1962, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"2od7xjx1etdoa.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"Camera_XHS_17650313070781040g2sg317heggdq4a705o7bps90btqth58cl28.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T21:16:49.036+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T21:16:49.037+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923546130887872512) MsgTChatMsg
2025-12-23T21:16:49.043+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1962) from 10001 -> 10006	{"msg": "MsgChat{msgId: 923564807209226240, userId: 10001, fromId: 10001, toId: 10006, tm: 1766495808494 (time: 2025-12-23 21:16:48), devId: \"47FCC883FB83DD2D\", sendId: 1962, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"2od7xjx1etdoa.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"Camera_XHS_17650313070781040g2sg317heggdq4a705o7bps90btqth58cl28.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-23T21:16:49.066+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-23T21:16:49.067+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(923546130887872512) MsgTChatMsg
2025-12-23T21:16:49.278+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923564807125340160  sendId:1962  recvOk:1766495808209  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T21:16:49.303+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923564463574093824) MsgTChatReply
2025-12-23T21:16:49.535+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923564807209226240  sendId:1962  recvOk:1766495808411  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-23T21:16:49.563+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(923564463574093824) MsgTChatReply
2025-12-23T21:16:49.946+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "2od7xjx1etdoa.jpg"}
2025-12-23T21:16:50.457+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "2od7xjx1etdoa.jpg"}
2025-12-23T21:16:50.468+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "2od7xjx1etdoa.jpg"}
2025-12-25T12:01:23.036+0800	[34mINFO[0m	server/main.go:93	server started here...
2025-12-25T12:02:34.567+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"r8pv43ElzBNtiaYqfUSBVyE2WtT3Da1Mjwdlk90=\"}"}
2025-12-25T12:02:34.721+0800	[35mDEBUG[0m	core/commonhelper.go:421	Load user permission list	{"user": 10001, "count": 0}
2025-12-25T12:02:34.727+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-25T12:02:34.728+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766635354727,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-25T12:02:34.844+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"nickName":"robin","email":"*","phone":"*"},{"userId":10004,"nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*"},{"userId":10005,"nickName":"robin","email":"*","phone":"*"},{"userId":10006,"nickName":"robin fox","email":"*","phone":"*"},{"userId":10007,"nickName":"yoyo","email":"*","phone":"*"}]}
2025-12-25T12:02:34.852+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924150103277703168) MsgTFriendOpRet
2025-12-25T12:02:34.888+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-25T12:02:34.888+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924150103277703168) MsgTFriendOpRet
2025-12-25T12:02:35.079+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:923564807125340160  chatType:ChatTypeP2P"}
2025-12-25T12:02:35.107+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 2}
2025-12-25T12:02:37.125+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "2od7xjx1etdoa.jpg"}
2025-12-25T12:02:47.275+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "2od7xjx1etdoa.jpg"}
2025-12-25T12:03:07.682+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "2od7xjx1etdoa.jpg"}
2025-12-25T12:03:12.076+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "2od7xjx1etdoa.jpg"}
2025-12-25T12:03:45.623+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "hzj5qhgu0z47.jpg"}
2025-12-25T12:03:49.163+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "35n4cyx0g2y0y.jpg"}
2025-12-25T12:03:56.127+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "35n4cyx0g2y0y.jpg"}
2025-12-25T12:04:18.792+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:-5357504718274850190  params:{key:\"checkTokenData\"  value:\"pOqpBa/IrCl1t76zM5n9/C7Do3Sf/pz0VVuIyTY=\"}"}
2025-12-25T12:04:18.797+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-12-25T12:04:18.798+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766635458797,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-12-25T12:04:18.885+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924150540189962240) MsgTFriendOpRet
2025-12-25T12:04:18.957+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-12-25T12:04:18.957+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924150540189962240) MsgTFriendOpRet
2025-12-25T12:04:19.011+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-25T12:04:19.011+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924150540189962240) MsgTFriendOpRet
2025-12-25T12:04:19.237+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:923564807209226240  chatType:ChatTypeP2P"}
2025-12-25T12:04:19.253+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-25T12:04:19.289+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923564807209226240  sendId:1962  recvOk:1766635457495  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-25T12:04:19.346+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924150103277703168) MsgTChatReply
2025-12-25T12:07:47.547+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "hzj5qhgu0z47.jpg"}
2025-12-25T12:07:57.543+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "35n4cyx0g2y0y.jpg"}
2025-12-25T12:08:01.778+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "35n4cyx0g2y0y.jpg"}
2025-12-25T12:08:55.956+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924150103277703168) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-25T12:08:55.958+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924150103277703168)
2025-12-25T12:09:03.590+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"OLft5opLsT1R5sX93qolLfsV5inHjGLjLnAsWfY=\"}"}
2025-12-25T12:09:03.591+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-25T12:09:03.591+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766635743591,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-25T12:09:03.870+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-25T12:09:03.870+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924151732806750208) MsgTFriendOpRet
2025-12-25T12:09:03.916+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-25T12:09:03.917+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924151732806750208) MsgTFriendOpRet
2025-12-25T12:09:06.189+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:923564807209226240  chatType:ChatTypeP2P"}
2025-12-25T12:09:06.212+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-25T12:09:35.781+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924151732806750208) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-25T12:09:35.784+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924151732806750208)
2025-12-25T12:11:09.390+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"FEwUBaJBbDgTyQaVe08/1vAbpS/6/uwf+2OCM2w=\"}"}
2025-12-25T12:11:09.392+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-25T12:11:09.392+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766635869392,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-25T12:11:09.445+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-25T12:11:09.446+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924152262543151104) MsgTFriendOpRet
2025-12-25T12:11:09.492+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-25T12:11:09.492+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924152262543151104) MsgTFriendOpRet
2025-12-25T12:11:09.683+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:923564807209226240  chatType:ChatTypeP2P"}
2025-12-25T12:11:09.693+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-25T12:11:37.094+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_1040g3k831pvkt0emng905oob778kgcarkiofeno.jpg", "hash": "fce8b9adb918af4f0326ba564161faf1", "send id": 1981, "chunk index": 0, "chunk count": 2}
2025-12-25T12:11:37.305+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_1040g3k831pvkt0emng905oob778kgcarkiofeno.jpg", "hash": "fce8b9adb918af4f0326ba564161faf1", "send id": 1981, "chunk index": 1, "chunk count": 2}
2025-12-25T12:11:37.452+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1981) from 10001 -> 10006	{"msg": "MsgChat{msgId: 924152380575059968, userId: 10001, fromId: 10001, toId: 10006, tm: 1766635896547 (time: 2025-12-25 12:11:36), devId: \"47FCC883FB83DD2D\", sendId: 1981, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"17mgepwjhay9o.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"Camera_1040g3k831pvkt0emng905oob778kgcarkiofeno.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-25T12:11:37.510+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-25T12:11:37.511+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924150540189962240) MsgTChatMsg
2025-12-25T12:11:37.690+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:924152380575059968  sendId:1981  recvOk:1766635895883  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-25T12:11:37.716+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924152262543151104) MsgTChatReply
2025-12-25T12:11:51.546+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "17mgepwjhay9o.jpg"}
2025-12-25T12:11:53.971+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "17mgepwjhay9o.jpg"}
2025-12-25T12:13:57.923+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(924150540189962240) close here, because ws:readLoop() error, err=read tcp 192.168.1.2:7817->192.168.1.14:39903: wsarecv: A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond.
2025-12-25T12:13:57.931+0800	[34mINFO[0m	core/session.go:256	user(10006) session(924150540189962240)
2025-12-25T12:23:09.733+0800	[34mINFO[0m	server/main.go:93	server started here...
2025-12-25T12:23:14.697+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"C6ukZC98uw/wLYT4OFLdYmfc/DcOCkkIEm9Z0yI=\"}"}
2025-12-25T12:23:14.878+0800	[35mDEBUG[0m	core/commonhelper.go:421	Load user permission list	{"user": 10001, "count": 0}
2025-12-25T12:23:14.882+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-25T12:23:14.882+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766636594882,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-25T12:23:15.054+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"nickName":"robin","email":"*","phone":"*"},{"userId":10004,"nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*"},{"userId":10005,"nickName":"robin","email":"*","phone":"*"},{"userId":10006,"nickName":"robin fox","email":"*","phone":"*"},{"userId":10007,"nickName":"yoyo","email":"*","phone":"*"}]}
2025-12-25T12:23:15.054+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924155304680230912) MsgTFriendOpRet
2025-12-25T12:23:15.101+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-25T12:23:15.101+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924155304680230912) MsgTFriendOpRet
2025-12-25T12:24:41.075+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:-5357504718274850190  params:{key:\"checkTokenData\"  value:\"d4DOT8ebUGvazfF3VkjngzvM8XwRmNfqrLdLedE=\"}"}
2025-12-25T12:24:41.080+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-12-25T12:24:41.081+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766636681080,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-12-25T12:24:41.125+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924155666594140160) MsgTFriendOpRet
2025-12-25T12:24:41.200+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-12-25T12:24:41.202+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924155666594140160) MsgTFriendOpRet
2025-12-25T12:24:41.246+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-25T12:24:41.247+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924155666594140160) MsgTFriendOpRet
2025-12-25T12:24:41.628+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924152380575059968  chatType:ChatTypeP2P"}
2025-12-25T12:24:41.654+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-25T12:24:41.680+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:924152380575059968  sendId:1981  recvOk:1766636680177  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-25T12:24:41.719+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924155304680230912) MsgTChatReply
2025-12-25T12:25:06.231+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923564538866044928  sendId:1961  recvOk:1766636704702  readOk:1766636704702  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-25T12:25:06.266+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924155304680230912) MsgTChatReply
2025-12-25T12:25:09.450+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:923564807209226240  sendId:1962  recvOk:1766636707935  readOk:1766636707935  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-25T12:25:09.467+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924155304680230912) MsgTChatReply
2025-12-25T12:25:10.065+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:924152380575059968  sendId:1981  recvOk:1766636708538  readOk:1766636708538  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-25T12:25:10.083+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924155304680230912) MsgTChatReply
2025-12-25T12:25:25.954+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_xhs_1762596143774.mp4", "hash": "85d378d486658db7926180a9db48ce45", "send id": 1982, "chunk index": 0, "chunk count": 7}
2025-12-25T12:25:26.112+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_xhs_1762596143774.mp4", "hash": "85d378d486658db7926180a9db48ce45", "send id": 1982, "chunk index": 1, "chunk count": 7}
2025-12-25T12:25:26.297+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_xhs_1762596143774.mp4", "hash": "85d378d486658db7926180a9db48ce45", "send id": 1982, "chunk index": 2, "chunk count": 7}
2025-12-25T12:25:26.524+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_xhs_1762596143774.mp4", "hash": "85d378d486658db7926180a9db48ce45", "send id": 1982, "chunk index": 3, "chunk count": 7}
2025-12-25T12:25:26.777+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_xhs_1762596143774.mp4", "hash": "85d378d486658db7926180a9db48ce45", "send id": 1982, "chunk index": 4, "chunk count": 7}
2025-12-25T12:25:27.012+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_xhs_1762596143774.mp4", "hash": "85d378d486658db7926180a9db48ce45", "send id": 1982, "chunk index": 5, "chunk count": 7}
2025-12-25T12:25:27.192+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_xhs_1762596143774.mp4", "hash": "85d378d486658db7926180a9db48ce45", "send id": 1982, "chunk index": 6, "chunk count": 7}
2025-12-25T12:25:27.354+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1982) from 10001 -> 10006	{"msg": "MsgChat{msgId: 924155861444726784, userId: 10001, fromId: 10001, toId: 10006, tm: 1766636726379 (time: 2025-12-25 12:25:26), devId: \"47FCC883FB83DD2D\", sendId: 1982, msgType: FILE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"fid\\\":10001,\\\"cur\\\":0,\\\"ref\\\":\\\"2shjtzhqfxls5.mp4\\\",\\\"size\\\":6958571,\\\"mime\\\":\\\"video/mp4\\\",\\\"name\\\":\\\"Camera_xhs_1762596143774.mp4\\\",\\\"msgid\\\":1982},\\\"tp\\\":\\\"EX\\\"}],\\\"fmt\\\":[{\\\"at\\\":-1,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}]}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-25T12:25:27.409+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-25T12:25:27.410+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924155666594140160) MsgTChatMsg
2025-12-25T12:25:27.629+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:924155861444726784  sendId:1982  recvOk:1766636726088  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-25T12:25:27.651+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924155304680230912) MsgTChatReply
2025-12-25T12:36:45.427+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(924155666594140160) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-25T12:36:45.431+0800	[34mINFO[0m	core/session.go:256	user(10006) session(924155666594140160)
2025-12-25T12:36:49.988+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:-5357504718274850190  params:{key:\"checkTokenData\"  value:\"EZiQ5Gv0q2NE0KAo34KhZGVh+DIPmlbifLXYE5c=\"}"}
2025-12-25T12:36:49.990+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-12-25T12:36:49.991+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766637409990,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-12-25T12:36:50.038+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924158723579056128) MsgTFriendOpRet
2025-12-25T12:36:50.097+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-12-25T12:36:50.098+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924158723579056128) MsgTFriendOpRet
2025-12-25T12:36:50.148+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-25T12:36:50.149+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924158723579056128) MsgTFriendOpRet
2025-12-25T12:36:50.558+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924155861444726784  chatType:ChatTypeP2P"}
2025-12-25T12:36:50.577+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-25T12:36:50.594+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:924155861444726784  sendId:1982  recvOk:1766637409094  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-25T12:36:50.610+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924155304680230912) MsgTChatReply
2025-12-25T12:37:04.621+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "2shjtzhqfxls5.mp4"}
2025-12-25T12:37:32.324+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:924155861444726784  sendId:1982  recvOk:1766637450771  readOk:1766637450771  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-25T12:37:32.340+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924155304680230912) MsgTChatReply
2025-12-25T12:41:10.174+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(924158723579056128) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-25T12:41:10.175+0800	[34mINFO[0m	core/session.go:256	user(10006) session(924158723579056128)
2025-12-25T12:41:23.104+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:-5357504718274850190  params:{key:\"checkTokenData\"  value:\"YJSN3jP1K2LfZSqxzdqboYjqNWYlehP9x0hK2Pk=\"}"}
2025-12-25T12:41:23.105+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-12-25T12:41:23.105+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766637683105,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-12-25T12:41:23.155+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924159869274165248) MsgTFriendOpRet
2025-12-25T12:41:23.216+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-12-25T12:41:23.216+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924159869274165248) MsgTFriendOpRet
2025-12-25T12:41:23.296+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-25T12:41:23.297+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924159869274165248) MsgTFriendOpRet
2025-12-25T12:41:23.674+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924155861444726784  chatType:ChatTypeP2P"}
2025-12-25T12:41:23.695+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-25T12:41:23.708+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:924155861444726784  sendId:1982  recvOk:1766637682210  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-25T12:41:23.729+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924155304680230912) MsgTChatReply
2025-12-25T12:41:33.998+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_xhs_1766588123217.mp4", "hash": "db3abf47f9ed9ca19f68608ecca93e00", "send id": 1983, "chunk index": 0, "chunk count": 8}
2025-12-25T12:41:34.228+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_xhs_1766588123217.mp4", "hash": "db3abf47f9ed9ca19f68608ecca93e00", "send id": 1983, "chunk index": 1, "chunk count": 8}
2025-12-25T12:41:34.429+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_xhs_1766588123217.mp4", "hash": "db3abf47f9ed9ca19f68608ecca93e00", "send id": 1983, "chunk index": 2, "chunk count": 8}
2025-12-25T12:41:34.739+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_xhs_1766588123217.mp4", "hash": "db3abf47f9ed9ca19f68608ecca93e00", "send id": 1983, "chunk index": 3, "chunk count": 8}
2025-12-25T12:41:35.042+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_xhs_1766588123217.mp4", "hash": "db3abf47f9ed9ca19f68608ecca93e00", "send id": 1983, "chunk index": 4, "chunk count": 8}
2025-12-25T12:41:35.254+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_xhs_1766588123217.mp4", "hash": "db3abf47f9ed9ca19f68608ecca93e00", "send id": 1983, "chunk index": 5, "chunk count": 8}
2025-12-25T12:41:35.448+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_xhs_1766588123217.mp4", "hash": "db3abf47f9ed9ca19f68608ecca93e00", "send id": 1983, "chunk index": 6, "chunk count": 8}
2025-12-25T12:41:35.546+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_xhs_1766588123217.mp4", "hash": "db3abf47f9ed9ca19f68608ecca93e00", "send id": 1983, "chunk index": 7, "chunk count": 8}
2025-12-25T12:41:35.617+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1983) from 10001 -> 10006	{"msg": "MsgChat{msgId: 924159922634100736, userId: 10001, fromId: 10001, toId: 10006, tm: 1766637694662 (time: 2025-12-25 12:41:34), devId: \"47FCC883FB83DD2D\", sendId: 1983, msgType: FILE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"fid\\\":10001,\\\"cur\\\":0,\\\"ref\\\":\\\"2gh5pi9yrhfbv.mp4\\\",\\\"size\\\":7700946,\\\"mime\\\":\\\"video/mp4\\\",\\\"name\\\":\\\"Camera_xhs_1766588123217.mp4\\\",\\\"msgid\\\":1983},\\\"tp\\\":\\\"EX\\\"}],\\\"fmt\\\":[{\\\"at\\\":-1,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}]}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-25T12:41:35.637+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-25T12:41:35.637+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924159869274165248) MsgTChatMsg
2025-12-25T12:41:35.691+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:924159922634100736  sendId:1983  recvOk:1766637694188  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-25T12:41:35.705+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924155304680230912) MsgTChatReply
2025-12-25T12:42:06.797+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "2gh5pi9yrhfbv.mp4"}
2025-12-25T12:44:52.181+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(924159869274165248) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-25T12:44:52.183+0800	[34mINFO[0m	core/session.go:256	user(10006) session(924159869274165248)
2025-12-25T13:03:46.197+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:-5357504718274850190  params:{key:\"checkTokenData\"  value:\"r0Lme1obJa9CgAgEwNrvD9t5gs4dwjicEePMEYM=\"}"}
2025-12-25T13:03:46.200+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-12-25T13:03:46.201+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766639026200,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-12-25T13:03:46.247+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924165502685810688) MsgTFriendOpRet
2025-12-25T13:03:46.320+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-12-25T13:03:46.321+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924165502685810688) MsgTFriendOpRet
2025-12-25T13:03:46.368+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-25T13:03:46.369+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924165502685810688) MsgTFriendOpRet
2025-12-25T13:03:46.766+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924159922634100736  chatType:ChatTypeP2P"}
2025-12-25T13:03:46.785+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-25T13:03:46.802+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:924159922634100736  sendId:1983  recvOk:1766639025239  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-25T13:03:46.818+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924155304680230912) MsgTChatReply
2025-12-25T13:05:35.234+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_XHS_17650261420961040g00831pi6u4m54a2g4a87nudui4un13u5g0g.jpg", "hash": "f25c3d4bcb157cfc873f8db6b7c011a4", "send id": 1984, "chunk index": 0, "chunk count": 3}
2025-12-25T13:05:35.492+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_XHS_17650261420961040g00831pi6u4m54a2g4a87nudui4un13u5g0g.jpg", "hash": "f25c3d4bcb157cfc873f8db6b7c011a4", "send id": 1984, "chunk index": 1, "chunk count": 3}
2025-12-25T13:05:35.772+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_XHS_17650261420961040g00831pi6u4m54a2g4a87nudui4un13u5g0g.jpg", "hash": "f25c3d4bcb157cfc873f8db6b7c011a4", "send id": 1984, "chunk index": 2, "chunk count": 3}
2025-12-25T13:05:35.976+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1984) from 10001 -> 10006	{"msg": "MsgChat{msgId: 924165963937615872, userId: 10001, fromId: 10001, toId: 10006, tm: 1766639134978 (time: 2025-12-25 13:05:34), devId: \"47FCC883FB83DD2D\", sendId: 1984, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"3u83wfdat8naq.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"Camera_XHS_17650261420961040g00831pi6u4m54a2g4a87nudui4un13u5g0g.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-25T13:05:36.007+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-25T13:05:36.007+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924165502685810688) MsgTChatMsg
2025-12-25T13:05:36.119+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:924165963937615872  sendId:1984  recvOk:1766639134513  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-25T13:05:36.135+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924155304680230912) MsgTChatReply
2025-12-25T13:05:50.977+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "3u83wfdat8naq.jpg"}
2025-12-25T13:14:10.465+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(924165502685810688) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-25T13:14:10.469+0800	[34mINFO[0m	core/session.go:256	user(10006) session(924165502685810688)
2025-12-25T13:14:14.964+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:-5357504718274850190  params:{key:\"checkTokenData\"  value:\"vCukcpzg73DD203No9MuBYKIWsIoS21Cd7uVivE=\"}"}
2025-12-25T13:14:14.965+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-12-25T13:14:14.965+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766639654965,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-12-25T13:14:15.014+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924168139934142464) MsgTFriendOpRet
2025-12-25T13:14:15.079+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-12-25T13:14:15.079+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924168139934142464) MsgTFriendOpRet
2025-12-25T13:14:15.127+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-25T13:14:15.127+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924168139934142464) MsgTFriendOpRet
2025-12-25T13:14:15.534+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924165963937615872  chatType:ChatTypeP2P"}
2025-12-25T13:14:15.547+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-25T13:14:15.569+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:924165963937615872  sendId:1984  recvOk:1766639654005  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-25T13:14:15.596+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924155304680230912) MsgTChatReply
2025-12-25T13:16:39.501+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:924155861444726784  sendId:1982  recvOk:1766639797900  readOk:1766639797900  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-25T13:16:39.530+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924155304680230912) MsgTChatReply
2025-12-25T13:16:39.555+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:924159922634100736  sendId:1983  recvOk:1766639797902  readOk:1766639797902  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-25T13:16:39.575+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924155304680230912) MsgTChatReply
2025-12-25T13:16:40.170+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:924165963937615872  sendId:1984  recvOk:1766639798570  readOk:1766639798570  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-25T13:16:40.195+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924155304680230912) MsgTChatReply
2025-12-25T13:16:52.323+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924155304680230912) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-25T13:16:52.324+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924155304680230912)
2025-12-25T13:16:52.491+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"nJXoEci8w6jzNIETa32q88caVgwLD7KKZpmN6hE=\"}"}
2025-12-25T13:16:52.493+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-25T13:16:52.493+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766639812493,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-25T13:16:52.544+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-25T13:16:52.545+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924168800998395904) MsgTFriendOpRet
2025-12-25T13:16:52.606+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-25T13:16:52.607+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924168800998395904) MsgTFriendOpRet
2025-12-25T13:16:52.850+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924165963937615872  chatType:ChatTypeP2P"}
2025-12-25T13:16:52.867+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-25T13:17:21.486+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(2001) from 10001 -> 10006	{"msg": "MsgChat{msgId: 924168923048448000, userId: 10001, fromId: 10001, toId: 10006, tm: 1766639840507 (time: 2025-12-25 13:17:20), devId: \"47FCC883FB83DD2D\", sendId: 2001, msgType: TEXT, data: \"æ”¶åˆ°äº†ä¹ˆï¼Ÿ\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-25T13:17:21.496+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-25T13:17:21.496+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924168139934142464) MsgTChatMsg
2025-12-25T13:17:21.656+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:924168923048448000  sendId:2001  recvOk:1766639840059  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-25T13:17:21.679+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924168800998395904) MsgTChatReply
2025-12-25T13:18:02.602+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(2002) from 10001 -> 10006	{"msg": "MsgChat{msgId: 924169095514034176, userId: 10001, fromId: 10001, toId: 10006, tm: 1766639881620 (time: 2025-12-25 13:18:01), devId: \"47FCC883FB83DD2D\", sendId: 2002, msgType: TEXT, data: \"{\\\"icon\\\":\\\"sys:9\\\",\\\"nick\\\":\\\"é£žé¸ŸçœŸäºº1\\\",\\\"points\\\":[[40.031452,116.28201],[40.031334,116.282058],[40.031117,116.282042],[40.030979,116.2819],[40.030831,116.281728],[40.030658,116.281378],[40.030455,116.280972],[40.030237,116.280537],[40.030037,116.280151],[40.029832,116.279874],[40.029758,116.279747],[40.029706,116.279648],[40.029581,116.279378],[40.029459,116.2791],[40.029281,116.27869],[40.029068,116.278204],[40.028876,116.277759],[40.028846,116.277485],[40.028826,116.27724],[40.028737,116.277065],[40.028688,116.276973],[40.028644,116.276883],[40.02855,116.276723],[40.028458,116.276546],[40.028235,116.276359],[40.027878,116.276469],[40.027427,116.276813],[40.026971,116.277104],[40.026513,116.277495],[40.025999,116.277957],[40.025555,116.278354],[40.025219,116.278641],[40.024942,116.278877],[40.02469,116.279094],[40.024348,116.279387],[40.023936,116.279749],[40.023552,116.280083],[40.023257,116.280353],[40.022942,116.280632],[40.022595,116.280952],[40.02229,116.281291],[40.021954,116.28159],[40.021698,116.281815],[40.021583,116.281914],[40.021376,116.282085],[40.021096,116.282285],[40.020714,116.28261],[40.020262,116.283007],[40.019817,116.2834],[40.019469,116.283707],[40.019127,116.284001],[40.018762,116.284322],[40.018381,116.284709],[40.017925,116.285127],[40.01746,116.285532],[40.016983,116.285943],[40.0165,116.286277],[40.016149,116.286477],[40.015871,116.286613],[40.015645,116.286711],[40.015392,116.286786],[40.015122,116.286713],[40.014969,116.286402],[40.014916,116.286022],[40.014871,116.285614],[40.014813,116.285093],[40.014734,116.284441],[40.014637,116.283824],[40.014374,116.283284],[40.013908,116.282967],[40.013416,116.282704],[40.013068,116.282215],[40.012922,116.281551],[40.012818,116.280777],[40.012704,116.279901],[40.01258,116.279],[40.012429,116.278053],[40.012273,116.277123],[40.012084,116.276211],[40.011825,116.275321],[40.011477,116.274471],[40.011035,116.273669],[40.010489,116.272934],[40.009844,116.272284],[40.009127,116.271751],[40.008442,116.271344],[40.007727,116.270948],[40.006975,116.270505],[40.00627,116.270008],[40.00565,116.26945],[40.005114,116.268831],[40.004657,116.268162],[40.004269,116.267444],[40.00393,116.266645],[40.003647,116.265739],[40.003434,116.264716],[40.003315,116.263639],[40.003269,116.262627],[40.003252,116.261705],[40.003234,116.260793],[40.003204,116.259885],[40.003185,116.25905],[40.003158,116.258351],[40.003138,116.257783],[40.003123,116.257403],[40.003188,116.257256],[40.003362,116.25726],[40.003535,116.257244],[40.003721,116.257226],[40.003931,116.257214],[40.004148,116.257196],[40.004372,116.257183],[40.004684,116.257162],[40.004766,116.257157],[40.005021,116.257149],[40.005363,116.257115],[40.005685,116.257068],[40.005773,116.257052],[40.005981,116.257002],[40.006349,116.257001],[40.006605,116.257023],[40.006643,116.257088],[40.006659,116.257249],[40.006671,116.257552],[40.006658,116.257997],[40.006657,116.258423],[40.006662,116.258649],[40.006659,116.258745],[40.00666,116.258831],[40.006663,116.258987],[40.006663,116.259054]],\\\"title\\\":\\\"åŽ¢çº¢æ——åŽ»è¥¿å±±æœ€è¿‘çš„è·¯\\\",\\\"uid\\\":\\\"1008\\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-25T13:18:02.621+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-25T13:18:02.621+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924168139934142464) MsgTChatMsg
2025-12-25T13:18:02.849+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:924169095514034176  sendId:2002  recvOk:1766639881252  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-25T13:18:02.873+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924168800998395904) MsgTChatReply
2025-12-25T13:18:30.899+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:924168923048448000  sendId:2001  recvOk:1766639909292  readOk:1766639909292  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-25T13:18:30.923+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924168800998395904) MsgTChatReply
2025-12-25T13:26:14.392+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924168800998395904) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-25T13:26:14.392+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924168800998395904)
2025-12-25T13:26:17.755+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"fhUeCYTVfQ+jcl2CLVPFn2s2qFBB9TKqRKulo7c=\"}"}
2025-12-25T13:26:17.758+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-25T13:26:17.758+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766640377758,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-25T13:26:17.851+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-25T13:26:17.852+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924171171946172416) MsgTFriendOpRet
2025-12-25T13:26:17.902+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-25T13:26:17.902+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924171171946172416) MsgTFriendOpRet
2025-12-25T13:26:18.122+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924169095514034176  chatType:ChatTypeP2P"}
2025-12-25T13:26:18.135+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-25T13:26:24.990+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "3u83wfdat8naq.jpg"}
2025-12-25T13:27:09.250+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924171171946172416) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-25T13:27:09.253+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924171171946172416)
2025-12-25T13:50:29.949+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"lDY4Y/IKB6MqXM28euE51Ox0SzCbh/Vhy26jmSc=\"}"}
2025-12-25T13:50:29.950+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-25T13:50:29.950+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766641829950,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-25T13:50:30.005+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-25T13:50:30.007+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924177262843138048) MsgTFriendOpRet
2025-12-25T13:50:30.055+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-25T13:50:30.060+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924177262843138048) MsgTFriendOpRet
2025-12-25T13:50:30.216+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924169095514034176  chatType:ChatTypeP2P"}
2025-12-25T13:50:30.242+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-25T13:50:42.967+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924177262843138048) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-25T13:50:42.969+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924177262843138048)
2025-12-25T13:50:43.875+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"jbR9dnECdqQIjB8uLdWvSsBlYOSbPFPGT+tGoyY=\"}"}
2025-12-25T13:50:43.876+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-25T13:50:43.876+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766641843876,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-25T13:50:43.998+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-25T13:50:43.998+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924177321391427584) MsgTFriendOpRet
2025-12-25T13:50:44.045+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-25T13:50:44.045+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924177321391427584) MsgTFriendOpRet
2025-12-25T13:50:44.175+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924169095514034176  chatType:ChatTypeP2P"}
2025-12-25T13:50:44.188+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-25T13:51:35.473+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924177321391427584) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-25T13:51:35.474+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924177321391427584)
2025-12-25T13:56:58.303+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"cJ1wUsuS1lU3xciQ2f6RyyXWtAtAMTacPVGFXMs=\"}"}
2025-12-25T13:56:58.305+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-25T13:56:58.305+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766642218305,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-25T13:56:58.354+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-25T13:56:58.354+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924178891751428096) MsgTFriendOpRet
2025-12-25T13:56:58.417+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-25T13:56:58.417+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924178891751428096) MsgTFriendOpRet
2025-12-25T13:56:58.546+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924169095514034176  chatType:ChatTypeP2P"}
2025-12-25T13:56:58.557+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-25T13:57:00.497+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924178891751428096) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-25T13:57:00.498+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924178891751428096)
2025-12-25T13:58:24.564+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"ZOfUc0D4l4M8agDHFE0f2UFYqpMc6so/zPrw/tg=\"}"}
2025-12-25T13:58:24.564+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-25T13:58:24.564+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766642304564,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-25T13:58:24.641+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-25T13:58:24.641+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924179253652754432) MsgTFriendOpRet
2025-12-25T13:58:24.678+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-25T13:58:24.679+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924179253652754432) MsgTFriendOpRet
2025-12-25T13:58:24.823+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924169095514034176  chatType:ChatTypeP2P"}
2025-12-25T13:58:24.968+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-25T13:59:08.937+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924179253652754432) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-25T13:59:08.938+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924179253652754432)
2025-12-25T14:03:46.827+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"8YKuoNnWkICJ6yAD7QAl5npEEz88QYBjo3MRuEY=\"}"}
2025-12-25T14:03:46.829+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-25T14:03:46.829+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766642626829,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-25T14:03:46.889+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-25T14:03:46.890+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924180605208498176) MsgTFriendOpRet
2025-12-25T14:03:46.924+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-25T14:03:46.925+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924180605208498176) MsgTFriendOpRet
2025-12-25T14:03:47.084+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924169095514034176  chatType:ChatTypeP2P"}
2025-12-25T14:03:47.111+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-25T14:12:46.473+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924180605208498176) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-25T14:12:46.473+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924180605208498176)
2025-12-25T14:12:48.723+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"adrn8P27QrmJH/prIDr1EigiJEzesENeXHE4W0k=\"}"}
2025-12-25T14:12:48.725+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-25T14:12:48.725+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766643168725,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-25T14:12:48.797+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-25T14:12:48.797+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924182878022144000) MsgTFriendOpRet
2025-12-25T14:12:48.830+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-25T14:12:48.831+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924182878022144000) MsgTFriendOpRet
2025-12-25T14:12:48.972+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924169095514034176  chatType:ChatTypeP2P"}
2025-12-25T14:12:48.998+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-25T14:13:44.487+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924182878022144000) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-25T14:13:44.487+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924182878022144000)
2025-12-25T14:14:38.289+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"SKyJpjGot5/cL/WqO19crkMCFllArT7iLF9Cxws=\"}"}
2025-12-25T14:14:38.291+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-25T14:14:38.291+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766643278291,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-25T14:14:38.366+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-25T14:14:38.367+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924183337814331392) MsgTFriendOpRet
2025-12-25T14:14:38.413+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-25T14:14:38.413+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924183337814331392) MsgTFriendOpRet
2025-12-25T14:14:38.577+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924169095514034176  chatType:ChatTypeP2P"}
2025-12-25T14:14:38.591+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-25T14:15:32.553+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924183337814331392) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-25T14:15:32.555+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924183337814331392)
2025-12-25T14:17:48.618+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"KUaIUyO22uSTtD4qaHNJ5YZjl+qKFkRAIOLb6Lw=\"}"}
2025-12-25T14:17:48.620+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-25T14:17:48.620+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766643468620,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-25T14:17:48.702+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-25T14:17:48.703+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924184135906496512) MsgTFriendOpRet
2025-12-25T14:17:48.781+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-25T14:17:48.781+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924184135906496512) MsgTFriendOpRet
2025-12-25T14:17:48.853+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924169095514034176  chatType:ChatTypeP2P"}
2025-12-25T14:17:48.904+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-25T14:18:27.101+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924184135906496512) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-25T14:18:27.102+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924184135906496512)
2025-12-25T14:19:17.697+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"D1yCLoqX4Y1yqwcAkFi9UieMtpq+rHyFq6+vndY=\"}"}
2025-12-25T14:19:17.699+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-25T14:19:17.700+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766643557699,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-25T14:19:17.753+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-25T14:19:17.753+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924184509551874048) MsgTFriendOpRet
2025-12-25T14:19:17.800+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-25T14:19:17.800+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924184509551874048) MsgTFriendOpRet
2025-12-25T14:19:17.949+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924169095514034176  chatType:ChatTypeP2P"}
2025-12-25T14:19:17.967+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-25T14:20:06.600+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924184509551874048) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-25T14:20:06.600+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924184509551874048)
2025-12-25T14:26:24.092+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"V5ge8KtK+r4ColfC88ZustNwQLFYWyMg6WI2I0k=\"}"}
2025-12-25T14:26:24.094+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-25T14:26:24.095+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766643984094,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-25T14:26:24.154+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-25T14:26:24.155+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924186298003099648) MsgTFriendOpRet
2025-12-25T14:26:24.199+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-25T14:26:24.200+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924186298003099648) MsgTFriendOpRet
2025-12-25T14:26:24.382+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924169095514034176  chatType:ChatTypeP2P"}
2025-12-25T14:26:24.390+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-25T14:27:28.520+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924186298003099648) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-25T14:27:28.522+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924186298003099648)
2025-12-25T14:34:41.021+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"e0zFei74Upnexg2chH/6VIaEZT0c9l2l9GGLGEY=\"}"}
2025-12-25T14:34:41.023+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-25T14:34:41.023+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766644481023,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-25T14:34:41.141+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-25T14:34:41.142+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924188382219866112) MsgTFriendOpRet
2025-12-25T14:34:41.172+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-25T14:34:41.172+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924188382219866112) MsgTFriendOpRet
2025-12-25T14:34:41.309+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924169095514034176  chatType:ChatTypeP2P"}
2025-12-25T14:34:41.329+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-25T14:34:45.402+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(2021) from 10001 -> 10006	{"msg": "MsgChat{msgId: 924188401014542336, userId: 10001, fromId: 10001, toId: 10006, tm: 1766644484418 (time: 2025-12-25 14:34:44), devId: \"47FCC883FB83DD2D\", sendId: 2021, msgType: TEXT, data: \"ðŸ˜€\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-25T14:34:45.447+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-25T14:34:45.447+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924168139934142464) MsgTChatMsg
2025-12-25T14:34:45.489+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:924188401014542336  sendId:2021  recvOk:1766644483582  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-25T14:34:45.518+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924188382219866112) MsgTChatReply
2025-12-25T14:35:08.356+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(2022) from 10001 -> 10006	{"msg": "MsgChat{msgId: 924188497332539392, userId: 10001, fromId: 10001, toId: 10006, tm: 1766644507381 (time: 2025-12-25 14:35:07), devId: \"47FCC883FB83DD2D\", sendId: 2022, msgType: TEXT, data: \"ðŸŒðŸŒðŸŒšðŸŒšðŸ˜…ðŸ˜…ðŸ˜…\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-25T14:35:08.373+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-25T14:35:08.374+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924168139934142464) MsgTChatMsg
2025-12-25T14:35:08.556+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:924188497332539392  sendId:2022  recvOk:1766644506601  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-25T14:35:08.576+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924188382219866112) MsgTChatReply
2025-12-25T14:38:40.733+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924188382219866112) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-25T14:38:40.734+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924188382219866112)
2025-12-25T15:19:45.422+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"kV6nRQfjLYHhkwxyZFirIzxkHJPkkWg2yfDzImw=\"}"}
2025-12-25T15:19:45.423+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-25T15:19:45.424+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766647185423,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-25T15:19:45.505+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-25T15:19:45.505+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924199725446598656) MsgTFriendOpRet
2025-12-25T15:19:45.535+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-25T15:19:45.536+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924199725446598656) MsgTFriendOpRet
2025-12-25T15:19:45.626+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924188497332539392  chatType:ChatTypeP2P"}
2025-12-25T15:19:45.643+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-25T15:20:13.996+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_1040g3k031op2j5di504g5oe2hbp41dqc4b04jl0.jpg", "hash": "ad19b7954d38e54a2a2a8c39e589b8b3", "send id": 2041, "chunk index": 0, "chunk count": 1}
2025-12-25T15:20:14.065+0800	[35mDEBUG[0m	core/filemsghander.go:280	find same file	{"uniq_name": "1502vfcf2qbal.jpg", "file name": "Camera_1040g3k031op2j5di504g5oe2hbp41dqc4b04jl0.jpg", "hash": "ad19b7954d38e54a2a2a8c39e589b8b3", "tags": ["Camera", "1040", "g3k031op2j5di504g5oe2hbp41dqc4b04jl0", "jpg"]}
2025-12-25T15:20:14.125+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(2041) from 10001 -> 10006	{"msg": "MsgChat{msgId: 924199846150279168, userId: 10001, fromId: 10001, toId: 10006, tm: 1766647213175 (time: 2025-12-25 15:20:13), devId: \"47FCC883FB83DD2D\", sendId: 2041, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"1502vfcf2qbal.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"Camera_1040g3k031op2j5di504g5oe2hbp41dqc4b04jl0.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-25T15:20:14.143+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-25T15:20:14.143+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924168139934142464) MsgTChatMsg
2025-12-25T15:20:14.400+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:924199846150279168  sendId:2041  recvOk:1766647212876  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-25T15:20:14.425+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924199725446598656) MsgTChatReply
2025-12-25T15:33:51.495+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924199725446598656) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-25T15:33:51.497+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924199725446598656)
2025-12-25T15:34:15.990+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"Spi88vJYoXHQ5sG9bK+o/2qJYH63frpdhVCH8QM=\"}"}
2025-12-25T15:34:15.991+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-25T15:34:15.991+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766648055991,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-25T15:34:16.088+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-25T15:34:16.089+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924203376646950912) MsgTFriendOpRet
2025-12-25T15:34:16.158+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-25T15:34:16.158+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924203376646950912) MsgTFriendOpRet
2025-12-25T15:34:16.299+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924199846150279168  chatType:ChatTypeP2P"}
2025-12-25T15:34:16.313+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-25T15:34:19.290+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924203376646950912) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-25T15:34:19.291+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924203376646950912)
2025-12-25T15:34:20.325+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"71xq4T9VT1R1dluj4hYtKcbYapJVhwMP6/av8FY=\"}"}
2025-12-25T15:34:20.327+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-25T15:34:20.327+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766648060327,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-25T15:34:20.375+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-25T15:34:20.375+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924203394946699264) MsgTFriendOpRet
2025-12-25T15:34:20.440+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-25T15:34:20.441+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924203394946699264) MsgTFriendOpRet
2025-12-25T15:34:20.515+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924199846150279168  chatType:ChatTypeP2P"}
2025-12-25T15:34:20.533+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-25T15:34:25.357+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "1502vfcf2qbal.jpg"}
2025-12-25T15:34:45.357+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924203394946699264) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-25T15:34:45.359+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924203394946699264)
2025-12-25T16:02:10.927+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"2JHvYoxCREO3MK0b52aKMk5XrhqQ1UkgfFpCMhM=\"}"}
2025-12-25T16:02:10.931+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-25T16:02:10.931+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766649730931,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-25T16:02:11.000+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-25T16:02:11.000+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924210401950961664) MsgTFriendOpRet
2025-12-25T16:02:11.036+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-25T16:02:11.036+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924210401950961664) MsgTFriendOpRet
2025-12-25T16:02:11.179+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924199846150279168  chatType:ChatTypeP2P"}
2025-12-25T16:02:11.197+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-25T16:02:19.322+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924210401950961664) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-25T16:02:19.324+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924210401950961664)
2025-12-25T16:06:00.489+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"2EdJA/57Hbww2vMneQkpN8ocCJKJW4bzqwq6Css=\"}"}
2025-12-25T16:06:00.490+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-25T16:06:00.491+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766649960490,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-25T16:06:00.540+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-25T16:06:00.541+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924211364682141696) MsgTFriendOpRet
2025-12-25T16:06:00.587+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-25T16:06:00.588+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924211364682141696) MsgTFriendOpRet
2025-12-25T16:06:00.730+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924199846150279168  chatType:ChatTypeP2P"}
2025-12-25T16:06:00.741+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-25T16:06:04.904+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924211364682141696) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-25T16:06:04.905+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924211364682141696)
2025-12-25T16:08:00.478+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"ufdF6eb/Rw5JSeFzdHkNjh+xz5mcY4kZ84Nv0yI=\"}"}
2025-12-25T16:08:00.479+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-25T16:08:00.479+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766650080479,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-25T16:08:00.562+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-25T16:08:00.563+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924211868082507776) MsgTFriendOpRet
2025-12-25T16:08:00.593+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-25T16:08:00.593+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924211868082507776) MsgTFriendOpRet
2025-12-25T16:08:00.680+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924199846150279168  chatType:ChatTypeP2P"}
2025-12-25T16:08:00.701+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-25T16:08:05.510+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924211868082507776) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-25T16:08:05.511+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924211868082507776)
2025-12-25T16:09:37.589+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"rGBYHFnc0F5JZ2BAkpRwhOhDWMjBUkukvWCbR+U=\"}"}
2025-12-25T16:09:37.591+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-25T16:09:37.591+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766650177591,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-25T16:09:37.660+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-25T16:09:37.660+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924212275336843264) MsgTFriendOpRet
2025-12-25T16:09:37.696+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-25T16:09:37.696+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924212275336843264) MsgTFriendOpRet
2025-12-25T16:09:37.840+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924199846150279168  chatType:ChatTypeP2P"}
2025-12-25T16:09:37.862+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-25T16:11:39.978+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924212275336843264) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-25T16:11:39.979+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924212275336843264)
2025-12-25T16:14:50.574+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"Bfab4EzxrXK85UcOmLSURhIxF7xuJ8JdCJSfE1Y=\"}"}
2025-12-25T16:14:50.577+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-25T16:14:50.577+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766650490577,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-25T16:14:50.677+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-25T16:14:50.678+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924213588124635136) MsgTFriendOpRet
2025-12-25T16:14:50.738+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-25T16:14:50.738+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924213588124635136) MsgTFriendOpRet
2025-12-25T16:14:50.826+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924199846150279168  chatType:ChatTypeP2P"}
2025-12-25T16:14:50.877+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-25T16:16:13.527+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924213588124635136) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-25T16:16:13.527+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924213588124635136)
2025-12-25T16:16:33.308+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"9DDgH/9R3n9Psmvy75cOsCACm/l5LFCCqh210eU=\"}"}
2025-12-25T16:16:33.310+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-25T16:16:33.310+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766650593310,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-25T16:16:33.396+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-25T16:16:33.398+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924214019110342656) MsgTFriendOpRet
2025-12-25T16:16:33.427+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-25T16:16:33.428+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924214019110342656) MsgTFriendOpRet
2025-12-25T16:16:33.514+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924199846150279168  chatType:ChatTypeP2P"}
2025-12-25T16:16:33.533+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-25T16:16:43.468+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924214019110342656) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-25T16:16:43.469+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924214019110342656)
2025-12-25T16:21:28.016+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"wuzMbgxNF0rzbes1Wf/dFHFc9bDext0XDHc7/zw=\"}"}
2025-12-25T16:21:28.019+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-25T16:21:28.019+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766650888019,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-25T16:21:28.103+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-25T16:21:28.104+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924215255096233984) MsgTFriendOpRet
2025-12-25T16:21:28.126+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-25T16:21:28.128+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924215255096233984) MsgTFriendOpRet
2025-12-25T16:21:28.284+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924199846150279168  chatType:ChatTypeP2P"}
2025-12-25T16:21:28.303+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-25T16:21:37.089+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924215255096233984) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-25T16:21:37.090+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924215255096233984)
2025-12-26T11:08:18.986+0800	[34mINFO[0m	server/main.go:93	server started here...
2025-12-26T11:09:52.829+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"hXvkD/WVaNDDFkHQT0XiPxAKfDlHJjnw1Sv9XSQ=\"}"}
2025-12-26T11:09:53.023+0800	[35mDEBUG[0m	core/commonhelper.go:421	Load user permission list	{"user": 10001, "count": 0}
2025-12-26T11:09:53.028+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-26T11:09:53.028+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766718593028,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-26T11:09:53.134+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"nickName":"robin","email":"*","phone":"*"},{"userId":10004,"nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*"},{"userId":10005,"nickName":"robin","email":"*","phone":"*"},{"userId":10006,"nickName":"robin fox","email":"*","phone":"*"},{"userId":10007,"nickName":"yoyo","email":"*","phone":"*"}]}
2025-12-26T11:09:53.135+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924499229609693184) MsgTFriendOpRet
2025-12-26T11:09:53.176+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T11:09:53.176+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924499229609693184) MsgTFriendOpRet
2025-12-26T11:09:53.425+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924199846150279168  chatType:ChatTypeP2P"}
2025-12-26T11:09:53.458+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-26T11:59:28.593+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924499229609693184) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-26T11:59:28.593+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924499229609693184)
2025-12-26T11:59:30.559+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"OgvHgFWb8PsgRXSQBzQms8Hbt3ZaEFV0lnso8+Y=\"}"}
2025-12-26T11:59:30.566+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-26T11:59:30.566+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766721570566,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-26T11:59:30.676+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T11:59:30.677+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924511719148097536) MsgTFriendOpRet
2025-12-26T11:59:30.721+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T11:59:30.721+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924511719148097536) MsgTFriendOpRet
2025-12-26T11:59:30.861+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924199846150279168  chatType:ChatTypeP2P"}
2025-12-26T11:59:30.875+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-26T11:59:53.798+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924511719148097536) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-26T11:59:53.799+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924511719148097536)
2025-12-26T12:00:00.542+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"sVJWEdy4GFKIpJ3JDUPb4gea2umd8xZn4zgfIXM=\"}"}
2025-12-26T12:00:00.570+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-26T12:00:00.570+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766721600570,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-26T12:00:00.625+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T12:00:00.625+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924511844834611200) MsgTFriendOpRet
2025-12-26T12:00:00.689+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T12:00:00.690+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924511844834611200) MsgTFriendOpRet
2025-12-26T12:00:00.818+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924199846150279168  chatType:ChatTypeP2P"}
2025-12-26T12:00:00.839+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-26T12:26:39.680+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924511844834611200) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-26T12:26:39.682+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924511844834611200)
2025-12-26T12:26:40.821+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"NlA++/LDqQY1Aj7LDQPTVPUZqlZri2GMh/kNbGQ=\"}"}
2025-12-26T12:26:40.822+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-26T12:26:40.822+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766723200822,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-26T12:26:40.872+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T12:26:40.872+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924518557021245440) MsgTFriendOpRet
2025-12-26T12:26:40.931+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T12:26:40.931+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924518557021245440) MsgTFriendOpRet
2025-12-26T12:26:41.108+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924199846150279168  chatType:ChatTypeP2P"}
2025-12-26T12:26:41.155+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-26T12:27:25.541+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924518557021245440) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-26T12:27:25.542+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924518557021245440)
2025-12-26T12:56:30.462+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"REjFAAnaXRzqIPFBpGyI4yD5eWFKjkVstNFnpkA=\"}"}
2025-12-26T12:56:30.466+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-26T12:56:30.466+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766724990466,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-26T12:56:30.522+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T12:56:30.523+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924526062975717376) MsgTFriendOpRet
2025-12-26T12:56:30.573+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T12:56:30.574+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924526062975717376) MsgTFriendOpRet
2025-12-26T12:56:30.719+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924199846150279168  chatType:ChatTypeP2P"}
2025-12-26T12:56:30.726+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-26T12:56:43.857+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:-5357504718274850190  params:{key:\"checkTokenData\"  value:\"sUBINm29XI09k8eWOvtD3KXOejgOX2gLlyQwzGA=\"}"}
2025-12-26T12:56:43.858+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-12-26T12:56:43.858+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766725003858,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-12-26T12:56:43.908+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924526119464603648) MsgTFriendOpRet
2025-12-26T12:56:43.968+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-12-26T12:56:43.970+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924526119464603648) MsgTFriendOpRet
2025-12-26T12:56:44.016+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T12:56:44.016+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924526119464603648) MsgTFriendOpRet
2025-12-26T12:56:44.211+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924199846150279168  chatType:ChatTypeP2P"}
2025-12-26T12:56:44.230+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-26T12:56:44.261+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:924199846150279168  sendId:2041  recvOk:1766725002986  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T12:56:44.309+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924526062975717376) MsgTChatReply
2025-12-26T12:56:54.240+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1341) from 10006 -> 10001	{"msg": "MsgChat{msgId: 924526163483824128, userId: 10006, fromId: 10006, toId: 10001, tm: 1766725012971 (time: 2025-12-26 12:56:52), devId: \"BEF2A06F75075BC9\", sendId: 1341, msgType: TEXT, data: \"ä½ å¥½\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-26T12:56:54.318+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-26T12:56:54.319+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924526062975717376) MsgTChatMsg
2025-12-26T12:56:54.502+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:924526163483824128  sendId:1341  recvOk:1766725013311  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T12:56:54.512+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924526119464603648) MsgTChatReply
2025-12-26T12:57:02.096+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1342) from 10006 -> 10001	{"msg": "MsgChat{msgId: 924526196434276352, userId: 10006, fromId: 10006, toId: 10001, tm: 1766725020801 (time: 2025-12-26 12:57:00), devId: \"BEF2A06F75075BC9\", sendId: 1342, msgType: TEXT, data: \"ä½ å¥½\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-26T12:57:02.117+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-26T12:57:02.117+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924526062975717376) MsgTChatMsg
2025-12-26T12:57:02.292+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:924526196434276352  sendId:1342  recvOk:1766725021101  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T12:57:02.306+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924526119464603648) MsgTChatReply
2025-12-26T12:57:09.708+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1343) from 10006 -> 10001	{"msg": "MsgChat{msgId: 924526228361318400, userId: 10006, fromId: 10006, toId: 10001, tm: 1766725028389 (time: 2025-12-26 12:57:08), devId: \"BEF2A06F75075BC9\", sendId: 1343, msgType: TEXT, data: \"æµ‹è¯•\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-26T12:57:09.734+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-26T12:57:09.734+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924526062975717376) MsgTChatMsg
2025-12-26T12:57:09.845+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:924526228361318400  sendId:1343  recvOk:1766725028675  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T12:57:09.862+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924526119464603648) MsgTChatReply
2025-12-26T12:57:29.036+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1344) from 10006 -> 10001	{"msg": "MsgChat{msgId: 924526309424631808, userId: 10006, fromId: 10006, toId: 10001, tm: 1766725047776 (time: 2025-12-26 12:57:27), devId: \"BEF2A06F75075BC9\", sendId: 1344, msgType: TEXT, data: \"å£°éŸ³\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-26T12:57:29.043+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-26T12:57:29.044+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924526062975717376) MsgTChatMsg
2025-12-26T12:57:29.186+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:924526309424631808  sendId:1344  recvOk:1766725048025  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T12:57:29.203+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924526119464603648) MsgTChatReply
2025-12-26T12:57:37.637+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1345) from 10006 -> 10001	{"msg": "MsgChat{msgId: 924526345504034816, userId: 10006, fromId: 10006, toId: 10001, tm: 1766725056348 (time: 2025-12-26 12:57:36), devId: \"BEF2A06F75075BC9\", sendId: 1345, msgType: TEXT, data: \"å‘ä¸€ä¸ª\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-26T12:57:37.656+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-26T12:57:37.657+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924526062975717376) MsgTChatMsg
2025-12-26T12:57:37.802+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:924526345504034816  sendId:1345  recvOk:1766725056631  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T12:57:37.826+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924526119464603648) MsgTChatReply
2025-12-26T13:01:20.875+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(924526119464603648) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-26T13:01:20.876+0800	[34mINFO[0m	core/session.go:256	user(10006) session(924526119464603648)
2025-12-26T13:01:27.416+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:-5357504718274850190  params:{key:\"checkTokenData\"  value:\"XkmVZXdsB/Hdj9R0japZmfASXM55SYAbVpKBwoc=\"}"}
2025-12-26T13:01:27.418+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-12-26T13:01:27.418+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766725287418,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":2,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-12-26T13:01:27.477+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"}]}
2025-12-26T13:01:27.478+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924527308306518016) MsgTFriendOpRet
2025-12-26T13:01:27.539+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T13:01:27.540+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924527308306518016) MsgTFriendOpRet
2025-12-26T13:01:27.784+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924526345504034816  chatType:ChatTypeP2P"}
2025-12-26T13:01:27.802+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-26T13:01:45.291+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(2061) from 10001 -> 10006	{"msg": "MsgChat{msgId: 924527384240197632, userId: 10001, fromId: 10001, toId: 10006, tm: 1766725304119 (time: 2025-12-26 13:01:44), devId: \"47FCC883FB83DD2D\", sendId: 2061, msgType: TEXT, data: \"å†è¯•\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-26T13:01:45.314+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-26T13:01:45.314+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924527308306518016) MsgTChatMsg
2025-12-26T13:01:45.461+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:924527384240197632  sendId:2061  recvOk:1766725304156  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T13:01:45.490+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924526062975717376) MsgTChatReply
2025-12-26T13:07:37.521+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"49D204D9C06B1CE8\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:1271890416231516115  params:{key:\"checkTokenData\"  value:\"PUk6JMF83LxAGcWmddsv/+2WQbnzXUAS8WttaIo=\"}"}
2025-12-26T13:07:37.524+0800	[34mINFO[0m	core/userhandler.go:1023	user(10007) login ok
2025-12-26T13:07:37.524+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766725657524,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10007,"userName":"user10007","nickName":"yoyo","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž","follows":3,"fans":1,"params":{"nfans":"","nfollows":""}}],"params":{"status":"loginok"}}}}}}}
2025-12-26T13:07:37.645+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10007, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"}]}
2025-12-26T13:07:37.646+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10007) sid(924528860660371456) MsgTFriendOpRet
2025-12-26T13:07:37.700+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10007, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"}]}
2025-12-26T13:07:37.700+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10007) sid(924528860660371456) MsgTFriendOpRet
2025-12-26T13:07:37.726+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:906095393224396800  chatType:ChatTypeP2P"}
2025-12-26T13:07:37.734+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-26T13:07:48.186+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1301) from 10007 -> 10006	{"msg": "MsgChat{msgId: 924528906332147712, userId: 10007, fromId: 10007, toId: 10006, tm: 1766725665691 (time: 2025-12-26 13:07:45), devId: \"49D204D9C06B1CE8\", sendId: 1301, msgType: TEXT, data: \"æµ‹è¯•\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-26T13:07:48.209+0800	[35mDEBUG[0m	core/commonmsggen.go:38	not friend	{"user id": 10007, "err code": 21}
2025-12-26T13:08:21.246+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10007) sid(924528860660371456) MsgTFriendOpRet
2025-12-26T13:08:21.246+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924527308306518016) MsgTFriendOpRet
2025-12-26T13:08:31.363+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1302) from 10007 -> 10006	{"msg": "MsgChat{msgId: 924529087429611520, userId: 10007, fromId: 10007, toId: 10006, tm: 1766725708888 (time: 2025-12-26 13:08:28), devId: \"49D204D9C06B1CE8\", sendId: 1302, msgType: TEXT, data: \"æµ‹è¯•\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-26T13:08:31.402+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-26T13:08:31.402+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924527308306518016) MsgTChatMsg
2025-12-26T13:08:31.436+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10007, "msg": "msgId:924529087429611520  sendId:1302  recvOk:1766725710163  extraMsg:\"ok\"  userId:10007  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T13:08:31.455+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10007) sid(924528860660371456) MsgTChatReply
2025-12-26T13:08:52.902+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251225_202724.jpg", "hash": "ba1bf47806e03fbe23718863539e9025", "send id": 2062, "chunk index": 0, "chunk count": 8}
2025-12-26T13:08:53.204+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251225_202724.jpg", "hash": "ba1bf47806e03fbe23718863539e9025", "send id": 2062, "chunk index": 1, "chunk count": 8}
2025-12-26T13:08:53.442+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251225_202724.jpg", "hash": "ba1bf47806e03fbe23718863539e9025", "send id": 2062, "chunk index": 2, "chunk count": 8}
2025-12-26T13:08:53.672+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251225_202724.jpg", "hash": "ba1bf47806e03fbe23718863539e9025", "send id": 2062, "chunk index": 3, "chunk count": 8}
2025-12-26T13:08:53.881+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251225_202724.jpg", "hash": "ba1bf47806e03fbe23718863539e9025", "send id": 2062, "chunk index": 4, "chunk count": 8}
2025-12-26T13:08:54.072+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251225_202724.jpg", "hash": "ba1bf47806e03fbe23718863539e9025", "send id": 2062, "chunk index": 5, "chunk count": 8}
2025-12-26T13:08:54.347+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251225_202724.jpg", "hash": "ba1bf47806e03fbe23718863539e9025", "send id": 2062, "chunk index": 6, "chunk count": 8}
2025-12-26T13:08:54.487+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "IMG_20251225_202724.jpg", "hash": "ba1bf47806e03fbe23718863539e9025", "send id": 2062, "chunk index": 7, "chunk count": 8}
2025-12-26T13:08:54.664+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(2062) from 10001 -> 10006	{"msg": "MsgChat{msgId: 924529185161089024, userId: 10001, fromId: 10001, toId: 10006, tm: 1766725733478 (time: 2025-12-26 13:08:53), devId: \"47FCC883FB83DD2D\", sendId: 2062, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"2w5jjb6xbte4a.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"IMG_20251225_202724.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-26T13:08:54.684+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-26T13:08:54.684+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924527308306518016) MsgTChatMsg
2025-12-26T13:08:54.779+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:924529185161089024  sendId:2062  recvOk:1766725733477  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T13:08:54.796+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924526062975717376) MsgTChatReply
2025-12-26T13:09:13.728+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10007, "filename": "d4paY3qHEGvVXEnv8ljzcoPQpkV3WY.jpg", "hash": "3a8dce6f4589d602024447fbf60dfb16", "send id": 1303, "chunk index": 0, "chunk count": 1}
2025-12-26T13:09:13.751+0800	[35mDEBUG[0m	core/filemsghander.go:280	find same file	{"uniq_name": "1jxltpmcpf7e.jpg", "file name": "d4paY3qHEGvVXEnv8ljzcoPQpkV3WY.jpg", "hash": "3a8dce6f4589d602024447fbf60dfb16", "tags": ["d4paY3qHEGvVXEnv8ljzcoPQpkV3WY", "jpg"]}
2025-12-26T13:09:13.936+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1303) from 10007 -> 10006	{"msg": "MsgChat{msgId: 924529265993715712, userId: 10007, fromId: 10007, toId: 10006, tm: 1766725751441 (time: 2025-12-26 13:09:11), devId: \"49D204D9C06B1CE8\", sendId: 1303, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"1jxltpmcpf7e.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"d4paY3qHEGvVXEnv8ljzcoPQpkV3WY.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-26T13:09:13.956+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-26T13:09:13.959+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924527308306518016) MsgTChatMsg
2025-12-26T13:09:14.053+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10007, "msg": "msgId:924529265993715712  sendId:1303  recvOk:1766725752784  extraMsg:\"ok\"  userId:10007  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T13:09:14.081+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10007) sid(924528860660371456) MsgTChatReply
2025-12-26T13:09:26.243+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10007, "filename": "audio1421065962088893480.m4a", "hash": "ceace35a25f59e0d799c64e9edcaaaa6", "send id": 1304, "chunk index": 0, "chunk count": 1}
2025-12-26T13:09:26.442+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1304) from 10007 -> 10006	{"msg": "MsgChat{msgId: 924529318447681536, userId: 10007, fromId: 10007, toId: 10006, tm: 1766725763923 (time: 2025-12-26 13:09:23), devId: \"49D204D9C06B1CE8\", sendId: 1304, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-26T13:09:26.466+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-26T13:09:26.466+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924527308306518016) MsgTChatMsg
2025-12-26T13:09:26.566+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10007, "msg": "msgId:924529318447681536  sendId:1304  recvOk:1766725765528  extraMsg:\"ok\"  userId:10007  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T13:09:26.596+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10007) sid(924528860660371456) MsgTChatReply
2025-12-26T13:09:55.520+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10007, "filename": "audio8688695825301120174.m4a", "hash": "1265b92a23b4975c0d2eca7799f8189d", "send id": 1305, "chunk index": 0, "chunk count": 1}
2025-12-26T13:09:55.708+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1305) from 10007 -> 10006	{"msg": "MsgChat{msgId: 924529441198182400, userId: 10007, fromId: 10007, toId: 10006, tm: 1766725793195 (time: 2025-12-26 13:09:53), devId: \"49D204D9C06B1CE8\", sendId: 1305, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-26T13:09:55.734+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-26T13:09:55.734+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924527308306518016) MsgTChatMsg
2025-12-26T13:09:55.938+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10007, "msg": "msgId:924529441198182400  sendId:1305  recvOk:1766725794889  extraMsg:\"ok\"  userId:10007  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T13:09:55.949+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10007) sid(924528860660371456) MsgTChatReply
2025-12-26T13:10:12.200+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "7gg5mr0dobf2.m4a"}
2025-12-26T13:10:15.141+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "1eov6er4171n6.m4a"}
2025-12-26T13:10:50.622+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1306) from 10007 -> 10001	{"msg": "MsgChat{msgId: 924529671524192256, userId: 10007, fromId: 10007, toId: 10001, tm: 1766725848141 (time: 2025-12-26 13:10:48), devId: \"49D204D9C06B1CE8\", sendId: 1306, msgType: TEXT, data: \"å‘é€\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-26T13:10:50.649+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-26T13:10:50.649+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924526062975717376) MsgTChatMsg
2025-12-26T13:10:50.815+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10007, "msg": "msgId:924529671524192256  sendId:1306  recvOk:1766725849628  extraMsg:\"ok\"  userId:10007  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T13:10:50.840+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10007) sid(924528860660371456) MsgTChatReply
2025-12-26T13:12:32.951+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924526062975717376) close here, because ws:readLoop() error, err=read tcp 192.168.1.2:7817->192.168.1.31:39880: wsarecv: An existing connection was forcibly closed by the remote host.
2025-12-26T13:12:32.953+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924526062975717376)
2025-12-26T13:12:33.312+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"M31OBLi1IStUW9UPG/8/CtKTCFpyEb7ZlLExGv0=\"}"}
2025-12-26T13:12:33.331+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-26T13:12:33.332+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766725953331,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-26T13:12:33.421+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T13:12:33.438+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924530101939474432) MsgTFriendOpRet
2025-12-26T13:12:33.462+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T13:12:33.463+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924530101939474432) MsgTFriendOpRet
2025-12-26T13:12:33.508+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924529671524192256  chatType:ChatTypeP2P"}
2025-12-26T13:12:33.515+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-26T13:12:33.561+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10007, "msg": "msgId:924529671524192256  sendId:1306  recvOk:1766725952385  extraMsg:\"ok\"  userId:10007  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T13:12:33.605+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10007) sid(924528860660371456) MsgTChatReply
2025-12-26T13:13:07.563+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:924526163483824128  sendId:1341  recvOk:1766725986399  readOk:1766725986399  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T13:13:07.589+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924527308306518016) MsgTChatReply
2025-12-26T13:13:07.614+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:924526196434276352  sendId:1342  recvOk:1766725986402  readOk:1766725986402  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T13:13:07.633+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924527308306518016) MsgTChatReply
2025-12-26T13:13:07.664+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:924526228361318400  sendId:1343  recvOk:1766725986404  readOk:1766725986404  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T13:13:07.680+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924527308306518016) MsgTChatReply
2025-12-26T13:13:07.753+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:924526309424631808  sendId:1344  recvOk:1766725986405  readOk:1766725986405  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T13:13:07.772+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924527308306518016) MsgTChatReply
2025-12-26T13:13:07.798+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:924526345504034816  sendId:1345  recvOk:1766725986406  readOk:1766725986406  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T13:13:07.820+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924527308306518016) MsgTChatReply
2025-12-26T13:20:51.441+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924530101939474432) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-26T13:20:51.442+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924530101939474432)
2025-12-26T13:20:52.889+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"0f0MlOXmCSxPP4OnIVUz46dMeGI8K4uNgd5TnNQ=\"}"}
2025-12-26T13:20:52.892+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-26T13:20:52.894+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766726452892,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-26T13:20:52.941+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T13:20:52.945+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924532197199843328) MsgTFriendOpRet
2025-12-26T13:20:53.004+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T13:20:53.004+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924532197199843328) MsgTFriendOpRet
2025-12-26T13:20:53.109+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924529671524192256  chatType:ChatTypeP2P"}
2025-12-26T13:20:53.127+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-26T13:20:53.177+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10007, "msg": "msgId:924529671524192256  sendId:1306  recvOk:1766726452000  extraMsg:\"ok\"  userId:10007  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T13:20:53.209+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10007) sid(924528860660371456) MsgTChatReply
2025-12-26T13:21:26.106+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924532197199843328) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-26T13:21:26.108+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924532197199843328)
2025-12-26T13:21:31.947+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"3XLk3xTKUfgE7FDlUVT1v6SAMA3hoE4JDH6NcTg=\"}"}
2025-12-26T13:21:31.949+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-26T13:21:31.950+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766726491949,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-26T13:21:32.098+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T13:21:32.099+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924532359313887232) MsgTFriendOpRet
2025-12-26T13:21:32.148+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T13:21:32.148+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924532359313887232) MsgTFriendOpRet
2025-12-26T13:21:32.723+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924529671524192256  chatType:ChatTypeP2P"}
2025-12-26T13:21:32.739+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-26T13:21:32.779+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10007, "msg": "msgId:924529671524192256  sendId:1306  recvOk:1766726491615  extraMsg:\"ok\"  userId:10007  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T13:21:32.790+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10007) sid(924528860660371456) MsgTChatReply
2025-12-26T13:23:11.542+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924532359313887232) close here, because ws:readLoop() error, err=read tcp 192.168.1.2:7817->192.168.1.31:40246: i/o timeout
2025-12-26T13:23:11.542+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924532359313887232)
2025-12-26T13:24:00.165+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"MKKTpzdeaVkEoCItIVUvHF4CvnzYsJ8Qrd3cUho=\"}"}
2025-12-26T13:24:00.173+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-26T13:24:00.175+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766726640173,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-26T13:24:00.358+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T13:24:00.358+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924532982641987584) MsgTFriendOpRet
2025-12-26T13:24:00.437+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T13:24:00.437+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924532982641987584) MsgTFriendOpRet
2025-12-26T13:25:17.637+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924532982641987584) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-26T13:25:17.637+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924532982641987584)
2025-12-26T13:28:00.641+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"Rge/bow7HCgK6noTwmjV6ss4K8oR5PzgLk7mGw0=\"}"}
2025-12-26T13:28:00.641+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-26T13:28:00.642+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766726880641,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-26T13:28:00.691+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T13:28:00.692+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924533991351128064) MsgTFriendOpRet
2025-12-26T13:28:00.737+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T13:28:00.737+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924533991351128064) MsgTFriendOpRet
2025-12-26T13:28:00.836+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924529671524192256  chatType:ChatTypeP2P"}
2025-12-26T13:28:00.860+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-26T13:28:00.875+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10007, "msg": "msgId:924529671524192256  sendId:1306  recvOk:1766726879735  extraMsg:\"ok\"  userId:10007  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T13:28:00.893+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10007) sid(924528860660371456) MsgTChatReply
2025-12-26T13:30:43.667+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924533991351128064) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-26T13:30:43.667+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924533991351128064)
2025-12-26T13:49:13.445+0800	[34mINFO[0m	server/main.go:93	server started here...
2025-12-26T13:50:02.545+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"49D204D9C06B1CE8\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:1271890416231516115  params:{key:\"checkTokenData\"  value:\"YKZyOAF0XL4RDHe0Lfxfzlv4ly4ZnINtD1/h1w8=\"}"}
2025-12-26T13:50:02.745+0800	[35mDEBUG[0m	core/commonhelper.go:421	Load user permission list	{"user": 10007, "count": 0}
2025-12-26T13:50:02.748+0800	[34mINFO[0m	core/userhandler.go:1023	user(10007) login ok
2025-12-26T13:50:02.748+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766728202748,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10007,"userName":"user10007","nickName":"yoyo","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž","follows":3,"fans":2,"params":{"nfans":"","nfollows":""}}],"params":{"status":"loginok"}}}}}}}
2025-12-26T13:50:02.933+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10007, "mode": "follows", "friends": [{"userId":10001,"nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*"},{"userId":10002,"nickName":"robin","email":"*","phone":"*"},{"userId":10006,"nickName":"robin fox","email":"*","phone":"*"}]}
2025-12-26T13:50:02.933+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10007) sid(924539535721893888) MsgTFriendOpRet
2025-12-26T13:50:02.991+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10007, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"}]}
2025-12-26T13:50:02.992+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10007) sid(924539535721893888) MsgTFriendOpRet
2025-12-26T13:51:39.083+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:-5357504718274850190  params:{key:\"checkTokenData\"  value:\"HPggUa/7ACSI2NOEOsEUYoR0pHfaX2JeZIpUPoo=\"}"}
2025-12-26T13:51:39.088+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-12-26T13:51:39.088+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766728299088,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":3,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-12-26T13:51:39.202+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T13:51:39.203+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924539940866494464) MsgTFriendOpRet
2025-12-26T13:51:39.249+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T13:51:39.250+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924539940866494464) MsgTFriendOpRet
2025-12-26T14:03:06.307+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"ffoeXFA89CMqQGvbO1N4KtC98HB6i+REOHXwmhg=\"}"}
2025-12-26T14:03:06.309+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-26T14:03:06.309+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766728986309,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-26T14:03:06.368+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*"},{"userId":10005,"nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T14:03:06.369+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924542823133483008) MsgTFriendOpRet
2025-12-26T14:03:06.476+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T14:03:06.477+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924542823133483008) MsgTFriendOpRet
2025-12-26T14:03:06.564+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924529671524192256  chatType:ChatTypeP2P"}
2025-12-26T14:03:06.605+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-26T14:03:06.659+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10007, "msg": "msgId:924529671524192256  sendId:1306  recvOk:1766728986439  extraMsg:\"ok\"  userId:10007  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T14:03:06.704+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10007) sid(924539535721893888) MsgTChatReply
2025-12-26T14:03:06.854+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924542823133483008) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-26T14:03:06.856+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924542823133483008)
2025-12-26T14:03:28.384+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"WsoWqx2AeT3ZF10leEiZ/NT0F3yDcWWIOAfHxk0=\"}"}
2025-12-26T14:03:28.389+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-26T14:03:28.391+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766729008389,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-26T14:03:28.473+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T14:03:28.473+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924542915924070400) MsgTFriendOpRet
2025-12-26T14:03:28.517+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T14:03:28.526+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924542915924070400) MsgTFriendOpRet
2025-12-26T14:03:28.535+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924529671524192256  chatType:ChatTypeP2P"}
2025-12-26T14:03:28.548+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-26T14:03:28.587+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10007, "msg": "msgId:924529671524192256  sendId:1306  recvOk:1766729008373  extraMsg:\"ok\"  userId:10007  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T14:03:28.613+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10007) sid(924539535721893888) MsgTChatReply
2025-12-26T14:03:33.065+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924542915924070400) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-26T14:03:33.067+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924542915924070400)
2025-12-26T14:03:53.385+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"dxuQhWNpYRhcG03f/JEolegJmBr6ryVs952uUjk=\"}"}
2025-12-26T14:03:53.389+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-26T14:03:53.393+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766729033389,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-26T14:03:53.438+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T14:03:53.438+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924543020550983680) MsgTFriendOpRet
2025-12-26T14:03:53.484+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T14:03:53.484+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924543020550983680) MsgTFriendOpRet
2025-12-26T14:03:53.529+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924529671524192256  chatType:ChatTypeP2P"}
2025-12-26T14:03:53.552+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-26T14:03:53.580+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10007, "msg": "msgId:924529671524192256  sendId:1306  recvOk:1766729033387  extraMsg:\"ok\"  userId:10007  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T14:03:53.596+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10007) sid(924539535721893888) MsgTChatReply
2025-12-26T14:07:27.041+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924543020550983680) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-26T14:07:27.047+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924543020550983680)
2025-12-26T14:14:28.581+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"cO9VlD/9q84dU8VUrM//yhbwLjslFEB3HAIVcac=\"}"}
2025-12-26T14:14:28.582+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-26T14:14:28.583+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766729668582,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-26T14:14:28.644+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T14:14:28.645+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924545684613500928) MsgTFriendOpRet
2025-12-26T14:14:28.704+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T14:14:28.705+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924545684613500928) MsgTFriendOpRet
2025-12-26T14:14:28.847+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924529671524192256  chatType:ChatTypeP2P"}
2025-12-26T14:14:28.857+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-26T14:14:28.884+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10007, "msg": "msgId:924529671524192256  sendId:1306  recvOk:1766729668685  extraMsg:\"ok\"  userId:10007  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T14:14:28.907+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10007) sid(924539535721893888) MsgTChatReply
2025-12-26T14:15:13.396+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924545684613500928) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-26T14:15:13.398+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924545684613500928)
2025-12-26T14:16:18.612+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"EW66eu3kpCn8VR9r6I+u8jo00i5oDfN69OyF33I=\"}"}
2025-12-26T14:16:18.615+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-26T14:16:18.615+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766729778615,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-26T14:16:18.770+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T14:16:18.771+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924546144883838976) MsgTFriendOpRet
2025-12-26T14:16:18.846+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T14:16:18.846+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924546144883838976) MsgTFriendOpRet
2025-12-26T14:16:19.409+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924529671524192256  chatType:ChatTypeP2P"}
2025-12-26T14:16:19.432+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-26T14:16:19.489+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10007, "msg": "msgId:924529671524192256  sendId:1306  recvOk:1766729779265  extraMsg:\"ok\"  userId:10007  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T14:16:19.502+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10007) sid(924539535721893888) MsgTChatReply
2025-12-26T14:17:06.974+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924546144883838976) close here, because ws:readLoop() error, err=read tcp 192.168.1.2:7817->192.168.1.31:41942: wsarecv: An existing connection was forcibly closed by the remote host.
2025-12-26T14:17:06.976+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924546144883838976)
2025-12-26T14:19:06.001+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"6wIgdmOuxfBO8wLMjIIT6DP/bC3c610krxChSfI=\"}"}
2025-12-26T14:19:06.018+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-26T14:19:06.019+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766729946018,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-26T14:19:06.119+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T14:19:06.119+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924546848474140672) MsgTFriendOpRet
2025-12-26T14:19:06.168+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T14:19:06.169+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924546848474140672) MsgTFriendOpRet
2025-12-26T14:19:06.196+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924529671524192256  chatType:ChatTypeP2P"}
2025-12-26T14:19:06.212+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-26T14:19:06.242+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10007, "msg": "msgId:924529671524192256  sendId:1306  recvOk:1766729946039  extraMsg:\"ok\"  userId:10007  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T14:19:06.267+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10007) sid(924539535721893888) MsgTChatReply
2025-12-26T14:19:39.730+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924546848474140672) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-26T14:19:39.732+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924546848474140672)
2025-12-26T14:25:26.119+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"TjnGydHucq3kSuoiaK3bw+Ooiw/S4REWQtIuOuo=\"}"}
2025-12-26T14:25:26.124+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-26T14:25:26.126+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766730326124,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-26T14:25:26.176+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T14:25:26.181+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924548442821365760) MsgTFriendOpRet
2025-12-26T14:25:26.235+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T14:25:26.236+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924548442821365760) MsgTFriendOpRet
2025-12-26T14:25:26.312+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924529671524192256  chatType:ChatTypeP2P"}
2025-12-26T14:25:26.320+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-26T14:25:26.363+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10007, "msg": "msgId:924529671524192256  sendId:1306  recvOk:1766730326152  extraMsg:\"ok\"  userId:10007  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T14:25:26.377+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10007) sid(924539535721893888) MsgTChatReply
2025-12-26T14:25:36.721+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924548442821365760) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-26T14:25:36.722+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924548442821365760)
2025-12-26T14:46:43.053+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"9WCJt6IFx249BpsRjxorB1b+PltjwVSQdGvb3Po=\"}"}
2025-12-26T14:46:43.056+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-26T14:46:43.056+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766731603056,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-26T14:46:43.164+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T14:46:43.165+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924553798515560448) MsgTFriendOpRet
2025-12-26T14:46:43.212+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T14:46:43.212+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924553798515560448) MsgTFriendOpRet
2025-12-26T14:46:43.303+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924529671524192256  chatType:ChatTypeP2P"}
2025-12-26T14:46:43.320+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-26T14:46:43.340+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10007, "msg": "msgId:924529671524192256  sendId:1306  recvOk:1766731603151  extraMsg:\"ok\"  userId:10007  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T14:46:43.353+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10007) sid(924539535721893888) MsgTChatReply
2025-12-26T14:46:56.893+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "audio6819491493769468276.m4a", "hash": "dc73cdd991b531981d091053605d487f", "send id": 2081, "chunk index": 0, "chunk count": 1}
2025-12-26T14:46:57.100+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(2081) from 10001 -> 10007	{"msg": "MsgChat{msgId: 924553857881739264, userId: 10001, fromId: 10001, toId: 10007, tm: 1766731616865 (time: 2025-12-26 14:46:56), devId: \"47FCC883FB83DD2D\", sendId: 2081, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-26T14:46:57.136+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-26T14:46:57.136+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10007) sid(924539535721893888) MsgTChatMsg
2025-12-26T14:46:57.407+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10007, "to": 10001, "msg": "msgId:924553857881739264  sendId:2081  recvOk:1766731616362  extraMsg:\"ok\"  userId:10001  fromId:10007  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T14:46:57.431+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924553798515560448) MsgTChatReply
2025-12-26T14:49:28.408+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924553798515560448) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-26T14:49:28.410+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924553798515560448)
2025-12-26T14:49:33.799+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"j3F8lSRaLKk5WwKusvREL62iDf+7OnFPuQmDH20=\"}"}
2025-12-26T14:49:33.801+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-26T14:49:33.801+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766731773801,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-26T14:49:33.861+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T14:49:33.862+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924554514793631744) MsgTFriendOpRet
2025-12-26T14:49:33.906+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T14:49:33.907+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924554514793631744) MsgTFriendOpRet
2025-12-26T14:49:34.015+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924553857881739264  chatType:ChatTypeP2P"}
2025-12-26T14:49:34.027+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-26T14:50:21.611+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924554514793631744) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-26T14:50:21.612+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924554514793631744)
2025-12-26T14:53:37.198+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"+XWkRPajx3q24gJ15YFVY/3s4NRxnNKFe3U63zk=\"}"}
2025-12-26T14:53:37.200+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-26T14:53:37.200+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766732017200,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-26T14:53:37.262+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T14:53:37.262+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924555535611727872) MsgTFriendOpRet
2025-12-26T14:53:37.308+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T14:53:37.309+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924555535611727872) MsgTFriendOpRet
2025-12-26T14:53:37.410+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924553857881739264  chatType:ChatTypeP2P"}
2025-12-26T14:53:37.419+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-26T14:53:47.548+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924555535611727872) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-26T14:53:47.549+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924555535611727872)
2025-12-26T14:58:57.025+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"AnW6igHWI3D2umy37ioY/Ba8jHY4y+r4GjK6HX4=\"}"}
2025-12-26T14:58:57.029+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-26T14:58:57.030+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766732337029,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-26T14:58:57.099+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T14:58:57.100+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924556876992090112) MsgTFriendOpRet
2025-12-26T14:58:57.150+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T14:58:57.150+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924556876992090112) MsgTFriendOpRet
2025-12-26T14:58:57.222+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924553857881739264  chatType:ChatTypeP2P"}
2025-12-26T14:58:57.245+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-26T14:59:01.600+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "2bbiz2vqxnboc.m4a"}
2025-12-26T14:59:13.332+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924556876992090112) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-26T14:59:13.334+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924556876992090112)
2025-12-26T15:00:46.871+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"61fYvNp3LCSTZoFVzEqwASz6k4U5SIWHgJQjyAo=\"}"}
2025-12-26T15:00:46.874+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-26T15:00:46.874+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766732446874,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-26T15:00:46.983+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T15:00:46.984+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924557337501503488) MsgTFriendOpRet
2025-12-26T15:00:47.014+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T15:00:47.014+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924557337501503488) MsgTFriendOpRet
2025-12-26T15:00:47.109+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924553857881739264  chatType:ChatTypeP2P"}
2025-12-26T15:00:47.124+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-26T20:32:34.882+0800	[34mINFO[0m	server/main.go:93	server started here...
2025-12-26T20:33:39.482+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"49D204D9C06B1CE8\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:1271890416231516115  params:{key:\"checkTokenData\"  value:\"Xct/Z5yMKIHnFCphUT8Wm8UU0gIY26SrvHu769A=\"}"}
2025-12-26T20:33:39.683+0800	[35mDEBUG[0m	core/commonhelper.go:421	Load user permission list	{"user": 10007, "count": 0}
2025-12-26T20:33:39.686+0800	[34mINFO[0m	core/userhandler.go:1023	user(10007) login ok
2025-12-26T20:33:39.686+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766752419686,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10007,"userName":"user10007","nickName":"yoyo","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž","follows":3,"fans":2,"params":{"nfans":"","nfollows":""}}],"params":{"status":"loginok"}}}}}}}
2025-12-26T20:33:39.948+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10007, "mode": "follows", "friends": [{"userId":10001,"nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*"},{"userId":10002,"nickName":"robin","email":"*","phone":"*"},{"userId":10006,"nickName":"robin fox","email":"*","phone":"*"}]}
2025-12-26T20:33:39.955+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10007) sid(924641108909232128) MsgTFriendOpRet
2025-12-26T20:33:39.994+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10007, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"}]}
2025-12-26T20:33:39.994+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10007) sid(924641108909232128) MsgTFriendOpRet
2025-12-26T20:34:16.098+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:-5357504718274850190  params:{key:\"checkTokenData\"  value:\"ODYh19BJ4efxISxwbK4p8TpNeYfNZnvFhhmrM0E=\"}"}
2025-12-26T20:34:16.100+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-12-26T20:34:16.100+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766752456100,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":3,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-12-26T20:34:16.218+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T20:34:16.218+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924641262529810432) MsgTFriendOpRet
2025-12-26T20:34:16.253+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T20:34:16.253+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924641262529810432) MsgTFriendOpRet
2025-12-26T21:08:58.879+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"g/+jtZgMuopEhNvmPIKF+Gb5iSl7RnnwshX4zB4=\"}"}
2025-12-26T21:08:58.887+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-26T21:08:58.889+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766754538887,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-26T21:08:59.101+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*"},{"userId":10005,"nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T21:08:59.101+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924649996505190400) MsgTFriendOpRet
2025-12-26T21:08:59.118+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T21:08:59.118+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924649996505190400) MsgTFriendOpRet
2025-12-26T21:08:59.871+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924553857881739264  chatType:ChatTypeP2P"}
2025-12-26T21:08:59.909+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-26T21:09:34.009+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924649996505190400) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-26T21:09:34.011+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924649996505190400)
2025-12-26T21:12:34.945+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"jFBbeQN4uYa4Lq+kR323aOZGXdkgHNIHdvpEhOI=\"}"}
2025-12-26T21:12:34.947+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-26T21:12:34.948+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766754754947,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-26T21:12:35.187+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T21:12:35.188+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924650902349025280) MsgTFriendOpRet
2025-12-26T21:12:35.240+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T21:12:35.240+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924650902349025280) MsgTFriendOpRet
2025-12-26T21:12:35.969+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924553857881739264  chatType:ChatTypeP2P"}
2025-12-26T21:12:35.989+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-26T21:15:07.518+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924650902349025280) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-26T21:15:07.519+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924650902349025280)
2025-12-26T21:18:58.539+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"7htJ1FdAnC+e7VaV9Qf10Q5c9jWDTzKrL36vAnI=\"}"}
2025-12-26T21:18:58.540+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-26T21:18:58.540+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766755138540,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-26T21:18:58.623+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T21:18:58.623+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924652513381191680) MsgTFriendOpRet
2025-12-26T21:18:58.670+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T21:18:58.670+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924652513381191680) MsgTFriendOpRet
2025-12-26T21:18:58.767+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924553857881739264  chatType:ChatTypeP2P"}
2025-12-26T21:18:58.776+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-26T21:20:38.503+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924652513381191680) close here, because ws:readLoop() error, err=read tcp 192.168.1.2:7817->192.168.1.31:46950: wsarecv: An existing connection was forcibly closed by the remote host.
2025-12-26T21:20:38.506+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924652513381191680)
2025-12-26T21:25:42.290+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"NzAcSIpo3iUP8SBqf6ZxF98E4yQZyVcs4FWFDgY=\"}"}
2025-12-26T21:25:42.291+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-26T21:25:42.291+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766755542291,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-26T21:25:42.338+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T21:25:42.339+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924654207095672832) MsgTFriendOpRet
2025-12-26T21:25:42.408+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T21:25:42.409+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924654207095672832) MsgTFriendOpRet
2025-12-26T21:25:42.483+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924553857881739264  chatType:ChatTypeP2P"}
2025-12-26T21:25:42.493+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-26T21:25:54.917+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924654207095672832) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-26T21:25:54.918+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924654207095672832)
2025-12-26T21:26:56.824+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"Xrqq+4+bhODBX1FDokObyiemRj9IQotjaCbW8LA=\"}"}
2025-12-26T21:26:56.824+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-26T21:26:56.824+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766755616824,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-26T21:26:56.872+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T21:26:56.873+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924654519600680960) MsgTFriendOpRet
2025-12-26T21:26:56.920+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T21:26:56.920+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924654519600680960) MsgTFriendOpRet
2025-12-26T21:26:57.020+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924553857881739264  chatType:ChatTypeP2P"}
2025-12-26T21:26:57.032+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-26T21:27:36.631+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924654519600680960) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-26T21:27:36.633+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924654519600680960)
2025-12-26T21:28:04.401+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"LZHDrKsdZ9GRCTQKhUJeIZqxu/MJY1spqIiOB64=\"}"}
2025-12-26T21:28:04.402+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-26T21:28:04.402+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766755684402,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-26T21:28:04.550+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T21:28:04.550+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924654801025896448) MsgTFriendOpRet
2025-12-26T21:28:04.617+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T21:28:04.617+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924654801025896448) MsgTFriendOpRet
2025-12-26T21:28:05.259+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924553857881739264  chatType:ChatTypeP2P"}
2025-12-26T21:28:05.272+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-26T21:28:26.638+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924654801025896448) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-26T21:28:26.639+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924654801025896448)
2025-12-26T21:30:29.225+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"TP+ylWsguokGMWlzXNr14kCdNRICdiSy4saJyTM=\"}"}
2025-12-26T21:30:29.227+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-26T21:30:29.227+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766755829227,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-26T21:30:29.280+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T21:30:29.280+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924655410483433472) MsgTFriendOpRet
2025-12-26T21:30:29.332+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T21:30:29.333+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924655410483433472) MsgTFriendOpRet
2025-12-26T21:30:29.415+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924553857881739264  chatType:ChatTypeP2P"}
2025-12-26T21:30:29.438+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-26T21:30:35.789+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924655410483433472) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-26T21:30:35.790+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924655410483433472)
2025-12-26T21:33:52.759+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"MdfUaKiYFniAyzqklzywUtBe4b8zXUeQf2k+rpc=\"}"}
2025-12-26T21:33:52.760+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-26T21:33:52.760+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766756032760,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-26T21:33:52.816+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T21:33:52.817+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924656264208846848) MsgTFriendOpRet
2025-12-26T21:33:52.863+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T21:33:52.864+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924656264208846848) MsgTFriendOpRet
2025-12-26T21:33:52.918+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924553857881739264  chatType:ChatTypeP2P"}
2025-12-26T21:33:52.950+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-26T21:34:05.049+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924656264208846848) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-26T21:34:05.049+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924656264208846848)
2025-12-26T21:35:45.704+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"+ykhs780NVfUI7FhzeGXk/4+la14PRjrvcALoHs=\"}"}
2025-12-26T21:35:45.705+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-26T21:35:45.705+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766756145705,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-26T21:35:45.754+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T21:35:45.755+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924656737829654528) MsgTFriendOpRet
2025-12-26T21:35:45.803+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T21:35:45.803+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924656737829654528) MsgTFriendOpRet
2025-12-26T21:35:45.890+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924553857881739264  chatType:ChatTypeP2P"}
2025-12-26T21:35:45.903+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-26T21:35:55.380+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924656737829654528) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-26T21:35:55.382+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924656737829654528)
2025-12-26T21:37:27.423+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"Akn6jU155oOk6udPYGMACxbc1d+lSHWAiSv75lo=\"}"}
2025-12-26T21:37:27.426+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-26T21:37:27.426+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766756247426,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-26T21:37:27.658+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T21:37:27.659+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924657162314190848) MsgTFriendOpRet
2025-12-26T21:37:27.714+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T21:37:27.717+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924657162314190848) MsgTFriendOpRet
2025-12-26T21:37:28.259+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924553857881739264  chatType:ChatTypeP2P"}
2025-12-26T21:37:28.270+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-26T21:38:14.703+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924657162314190848) close here, because ws:readLoop() error, err=read tcp 192.168.1.2:7817->192.168.1.31:47638: wsarecv: An existing connection was forcibly closed by the remote host.
2025-12-26T21:38:14.705+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924657162314190848)
2025-12-26T21:38:47.722+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"e68Q3BF3OWbkn5PRbgJ+E/I1Vx5EwIV4kdtes6Y=\"}"}
2025-12-26T21:38:47.724+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-26T21:38:47.725+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766756327724,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-26T21:38:47.935+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T21:38:47.936+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924657499888553984) MsgTFriendOpRet
2025-12-26T21:38:48.008+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T21:38:48.009+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924657499888553984) MsgTFriendOpRet
2025-12-26T21:38:48.643+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924553857881739264  chatType:ChatTypeP2P"}
2025-12-26T21:38:48.652+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-26T21:40:48.052+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924657499888553984) close here, because ws:readLoop() error, err=read tcp 192.168.1.2:7817->192.168.1.31:47664: i/o timeout
2025-12-26T21:40:48.060+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924657499888553984)
2025-12-26T21:41:12.305+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"BmHpW3St/4xwLu58T7sTAdTHpO33VHRnPzzC5wI=\"}"}
2025-12-26T21:41:12.308+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-26T21:41:12.309+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766756472308,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-26T21:41:12.525+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T21:41:12.526+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924658107655786496) MsgTFriendOpRet
2025-12-26T21:41:12.601+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T21:41:12.603+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924658107655786496) MsgTFriendOpRet
2025-12-26T21:41:17.636+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924658107655786496) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-26T21:41:17.637+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924658107655786496)
2025-12-26T21:42:41.606+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"DLPKE1a14jPLXDHwX940KJC2qauo5ofqADlAHoQ=\"}"}
2025-12-26T21:42:41.607+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-26T21:42:41.607+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766756561607,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-26T21:43:18.095+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T21:43:18.097+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924658480797847552) MsgTFriendOpRet
2025-12-26T21:43:18.157+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T21:43:18.157+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924658480797847552) MsgTFriendOpRet
2025-12-26T21:43:19.153+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924553857881739264  chatType:ChatTypeP2P"}
2025-12-26T21:43:19.169+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-26T21:44:19.173+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924658480797847552) close here, because ws:readLoop() error, err=read tcp 192.168.1.2:7817->192.168.1.31:47878: i/o timeout
2025-12-26T21:44:19.175+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924658480797847552)
2025-12-26T21:50:08.585+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"+vdg62zmywqXa0k4YoVW5ObR4XeGpdkhYA1Vl5U=\"}"}
2025-12-26T21:50:08.587+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-26T21:50:08.587+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766757008587,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-26T21:50:08.649+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T21:50:08.649+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924660356868083712) MsgTFriendOpRet
2025-12-26T21:50:08.689+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T21:50:08.689+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924660356868083712) MsgTFriendOpRet
2025-12-26T21:50:08.783+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924553857881739265  chatType:ChatTypeP2P"}
2025-12-26T21:50:08.803+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 0}
2025-12-26T21:50:27.084+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1307) from 10007 -> 10001	{"msg": "MsgChat{msgId: 924660435070881792, userId: 10007, fromId: 10007, toId: 10001, tm: 1766757026181 (time: 2025-12-26 21:50:26), devId: \"49D204D9C06B1CE8\", sendId: 1307, msgType: TEXT, data: \"ä½ å¥½\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-26T21:50:27.149+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-26T21:50:27.149+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924660356868083712) MsgTChatMsg
2025-12-26T21:50:27.216+0800	[31mERROR[0m	core/chatmsghandler.go:110	msgId is not same as sendId	{"sendId": 1307, "msgId": 924660435070881792}
2025-12-26T21:50:27.256+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10007, "msg": "msgId:924660435070881792  sendId:1307  recvOk:1766757026608  extraMsg:\"ok\"  userId:10007  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T21:50:27.292+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10007) sid(924641108909232128) MsgTChatReply
2025-12-26T21:50:44.931+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1308) from 10007 -> 10001	{"msg": "MsgChat{msgId: 924660509901459456, userId: 10007, fromId: 10007, toId: 10001, tm: 1766757044062 (time: 2025-12-26 21:50:44), devId: \"49D204D9C06B1CE8\", sendId: 1308, msgType: TEXT, data: \"æµ‹è¯•\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-26T21:50:44.951+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-26T21:50:44.952+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924660356868083712) MsgTChatMsg
2025-12-26T21:50:45.104+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10007, "msg": "msgId:924660509901459456  sendId:1308  recvOk:1766757044423  extraMsg:\"ok\"  userId:10007  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T21:50:45.125+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10007) sid(924641108909232128) MsgTChatReply
2025-12-26T21:51:16.098+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924660356868083712) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-26T21:51:16.102+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924660356868083712)
2025-12-26T21:52:08.287+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"kRxhu80o/ZV15MrWPJsHUXt2BtkXWbQgKY1DbzE=\"}"}
2025-12-26T21:52:08.288+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-26T21:52:08.288+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766757128288,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-26T21:52:08.335+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T21:52:08.335+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924660859219873792) MsgTFriendOpRet
2025-12-26T21:52:08.397+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T21:52:08.398+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924660859219873792) MsgTFriendOpRet
2025-12-26T21:52:08.480+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924660509901459457  chatType:ChatTypeP2P"}
2025-12-26T21:52:08.507+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 0}
2025-12-26T21:52:18.066+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "2w5jjb6xbte4a.jpg"}
2025-12-26T21:52:33.245+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10006, "filename": "mmexport1657858725490.jpg", "hash": "64001765c9f3a139a9c89f79da780417", "send id": 1361, "chunk index": 0, "chunk count": 1}
2025-12-26T21:52:33.483+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1361) from 10006 -> 10001	{"msg": "MsgChat{msgId: 924660965239296000, userId: 10006, fromId: 10006, toId: 10001, tm: 1766757152142 (time: 2025-12-26 21:52:32), devId: \"BEF2A06F75075BC9\", sendId: 1361, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"vjusz783t7xg.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"mmexport1657858725490.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-26T21:52:33.520+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-26T21:52:33.520+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924660859219873792) MsgTChatMsg
2025-12-26T21:52:33.588+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:924660965239296000  sendId:1361  recvOk:1766757152968  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T21:52:33.614+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924641262529810432) MsgTChatReply
2025-12-26T21:52:46.803+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1309) from 10007 -> 10001	{"msg": "MsgChat{msgId: 924661021073870848, userId: 10007, fromId: 10007, toId: 10001, tm: 1766757165828 (time: 2025-12-26 21:52:45), devId: \"49D204D9C06B1CE8\", sendId: 1309, msgType: TEXT, data: \"ä½ å¥½ðŸ˜Š\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-26T21:52:46.814+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-26T21:52:46.814+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924660859219873792) MsgTChatMsg
2025-12-26T21:52:46.862+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10007, "msg": "msgId:924661021073870848  sendId:1309  recvOk:1766757166235  extraMsg:\"ok\"  userId:10007  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T21:52:46.877+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10007) sid(924641108909232128) MsgTChatReply
2025-12-26T21:52:51.891+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "vjusz783t7xg.jpg"}
2025-12-26T21:53:02.369+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "userId:10007  bigId:924529671524192256  synType:SynTypeBackward  chatType:ChatTypeP2P"}
2025-12-26T21:53:02.407+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-26T21:53:10.971+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10007, "msg": "msgId:924529671524192256  sendId:1306  recvOk:1766757190324  readOk:1766757190324  extraMsg:\"ok\"  userId:10007  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T21:53:11.015+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10007) sid(924641108909232128) MsgTChatReply
2025-12-26T21:53:11.111+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10007, "msg": "msgId:924660435070881792  sendId:1307  recvOk:1766757190327  readOk:1766757190327  extraMsg:\"ok\"  userId:10007  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T21:53:11.130+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10007) sid(924641108909232128) MsgTChatReply
2025-12-26T21:53:11.130+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10007, "msg": "msgId:924660509901459456  sendId:1308  recvOk:1766757190329  readOk:1766757190329  extraMsg:\"ok\"  userId:10007  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T21:53:11.159+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10007) sid(924641108909232128) MsgTChatReply
2025-12-26T21:53:11.233+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10007, "msg": "msgId:924661021073870848  sendId:1309  recvOk:1766757190330  readOk:1766757190330  extraMsg:\"ok\"  userId:10007  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T21:53:11.249+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10007) sid(924641108909232128) MsgTChatReply
2025-12-26T21:58:23.491+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:924527384240197632  sendId:2061  recvOk:1766757502120  readOk:1766757502120  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T21:58:23.515+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924660859219873792) MsgTChatReply
2025-12-26T21:58:23.538+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:924529185161089024  sendId:2062  recvOk:1766757502122  readOk:1766757502122  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T21:58:23.560+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924660859219873792) MsgTChatReply
2025-12-26T21:58:53.196+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(924641262529810432) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-26T21:58:53.200+0800	[34mINFO[0m	core/session.go:256	user(10006) session(924641262529810432)
2025-12-26T21:59:00.662+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:-5357504718274850190  params:{key:\"checkTokenData\"  value:\"IQTVj0Ao3vi1yBnv/76iGwbdvVJOStjojydoAmM=\"}"}
2025-12-26T21:59:00.665+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-12-26T21:59:00.665+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766757540665,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":3,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-12-26T21:59:00.772+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T21:59:00.773+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924662588057456640) MsgTFriendOpRet
2025-12-26T21:59:00.819+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T21:59:00.820+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924662588057456640) MsgTFriendOpRet
2025-12-26T21:59:01.276+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924660965239296001  chatType:ChatTypeP2P"}
2025-12-26T21:59:01.300+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 0}
2025-12-26T22:00:05.686+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(924662588057456640) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-26T22:00:05.688+0800	[34mINFO[0m	core/session.go:256	user(10006) session(924662588057456640)
2025-12-26T22:07:43.850+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:-5357504718274850190  params:{key:\"checkTokenData\"  value:\"clElpHTpohjIUzs+lc/uBP5G/JwKV13j4u414SA=\"}"}
2025-12-26T22:07:43.853+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-12-26T22:07:43.853+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766758063853,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":3,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-12-26T22:07:43.918+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T22:07:43.918+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924664782617972736) MsgTFriendOpRet
2025-12-26T22:07:43.973+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T22:07:43.974+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924664782617972736) MsgTFriendOpRet
2025-12-26T22:07:44.362+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924660965239296001  chatType:ChatTypeP2P"}
2025-12-26T22:07:44.379+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 0}
2025-12-26T22:07:56.117+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(2101) from 10001 -> 10006	{"msg": "MsgChat{msgId: 924664835046772736, userId: 10001, fromId: 10001, toId: 10006, tm: 1766758075398 (time: 2025-12-26 22:07:55), devId: \"47FCC883FB83DD2D\", sendId: 2101, msgType: TEXT, data: \"æµ‹è¯•å›žæ‰§\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-26T22:07:56.147+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-26T22:07:56.147+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924664782617972736) MsgTChatMsg
2025-12-26T22:07:56.306+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:924664835046772736  sendId:2101  recvOk:1766758075006  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T22:07:56.321+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924660859219873792) MsgTChatReply
2025-12-26T22:08:05.640+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1381) from 10006 -> 10001	{"msg": "MsgChat{msgId: 924664874989129728, userId: 10006, fromId: 10006, toId: 10001, tm: 1766758084318 (time: 2025-12-26 22:08:04), devId: \"BEF2A06F75075BC9\", sendId: 1381, msgType: TEXT, data: \"é›¶é›¶\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-26T22:08:05.655+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-26T22:08:05.655+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924660859219873792) MsgTChatMsg
2025-12-26T22:08:05.772+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:924664874989129728  sendId:1381  recvOk:1766758085125  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T22:08:05.795+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924664782617972736) MsgTChatReply
2025-12-26T22:08:43.528+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:924664835046772736  sendId:2101  recvOk:1766758122217  readOk:1766758122217  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T22:08:43.555+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924660859219873792) MsgTChatReply
2025-12-26T22:09:03.104+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(2102) from 10001 -> 10006	{"msg": "MsgChat{msgId: 924665116010614784, userId: 10001, fromId: 10001, toId: 10006, tm: 1766758142491 (time: 2025-12-26 22:09:02), devId: \"47FCC883FB83DD2D\", sendId: 2102, msgType: TEXT, data: \"æµ‹è¯•\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-26T22:09:03.121+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-26T22:09:03.121+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924664782617972736) MsgTChatMsg
2025-12-26T22:09:03.256+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:924665116010614784  sendId:2102  recvOk:1766758141952  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T22:09:03.279+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924660859219873792) MsgTChatReply
2025-12-26T22:09:37.493+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1382) from 10006 -> 10001	{"msg": "MsgChat{msgId: 924665260248535040, userId: 10006, fromId: 10006, toId: 10001, tm: 1766758176101 (time: 2025-12-26 22:09:36), devId: \"BEF2A06F75075BC9\", sendId: 1382, msgType: TEXT, data: \"KKK\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-26T22:09:37.502+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-26T22:09:37.502+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924660859219873792) MsgTChatMsg
2025-12-26T22:09:37.598+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:924665260248535040  sendId:1382  recvOk:1766758176978  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T22:09:37.617+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924664782617972736) MsgTChatReply
2025-12-26T22:10:26.447+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(924664782617972736) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-26T22:10:26.447+0800	[34mINFO[0m	core/session.go:256	user(10006) session(924664782617972736)
2025-12-26T22:10:58.186+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:-5357504718274850190  params:{key:\"checkTokenData\"  value:\"alJ5dcnXxKt1juYhnuofJ5foawmuaCG2C4L+X8I=\"}"}
2025-12-26T22:10:58.186+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-12-26T22:10:58.187+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766758258186,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":3,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-12-26T22:10:58.260+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T22:10:58.261+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924665597529296896) MsgTFriendOpRet
2025-12-26T22:10:58.313+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T22:10:58.314+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924665597529296896) MsgTFriendOpRet
2025-12-26T22:10:58.678+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924665260248535041  chatType:ChatTypeP2P"}
2025-12-26T22:10:58.689+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 0}
2025-12-26T22:11:20.099+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(924665597529296896) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-26T22:11:20.099+0800	[34mINFO[0m	core/session.go:256	user(10006) session(924665597529296896)
2025-12-26T22:11:21.441+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:-5357504718274850190  params:{key:\"checkTokenData\"  value:\"kjxYw1Gpx+qy18N32+9oKHi2ZCFsMIEP26/jraI=\"}"}
2025-12-26T22:11:21.443+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-12-26T22:11:21.443+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766758281443,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":3,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-12-26T22:11:21.507+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T22:11:21.507+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924665695730536448) MsgTFriendOpRet
2025-12-26T22:11:21.554+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T22:11:21.555+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924665695730536448) MsgTFriendOpRet
2025-12-26T22:11:21.841+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924665260248535041  chatType:ChatTypeP2P"}
2025-12-26T22:11:21.864+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 0}
2025-12-26T22:11:35.152+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(924665695730536448) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-26T22:11:35.154+0800	[34mINFO[0m	core/session.go:256	user(10006) session(924665695730536448)
2025-12-26T22:11:51.067+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:-5357504718274850190  params:{key:\"checkTokenData\"  value:\"QGbpB80dGkAUv6J6fuksL6WpN58mYcMXZeOrJe8=\"}"}
2025-12-26T22:11:51.068+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-12-26T22:11:51.069+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766758311068,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":3,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-12-26T22:11:51.161+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T22:11:51.162+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924665820041318400) MsgTFriendOpRet
2025-12-26T22:11:51.186+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T22:11:51.186+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924665820041318400) MsgTFriendOpRet
2025-12-26T22:11:51.415+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924665260248535041  chatType:ChatTypeP2P"}
2025-12-26T22:11:51.430+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 0}
2025-12-26T22:12:01.675+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(924665820041318400) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-26T22:12:01.676+0800	[34mINFO[0m	core/session.go:256	user(10006) session(924665820041318400)
2025-12-26T22:12:16.727+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:-5357504718274850190  params:{key:\"checkTokenData\"  value:\"kDii0Eq6zcPSIUFBJGHlbDDW3T1GDitI4HOmAJQ=\"}"}
2025-12-26T22:12:16.731+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-12-26T22:12:16.732+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766758336731,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":3,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-12-26T22:12:16.798+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T22:12:16.799+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924665926928961536) MsgTFriendOpRet
2025-12-26T22:12:16.845+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T22:12:16.845+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924665926928961536) MsgTFriendOpRet
2025-12-26T22:12:17.189+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924665260248535041  chatType:ChatTypeP2P"}
2025-12-26T22:12:17.202+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 0}
2025-12-26T22:12:22.175+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(2103) from 10001 -> 10006	{"msg": "MsgChat{msgId: 924665950974906368, userId: 10001, fromId: 10001, toId: 10006, tm: 1766758341513 (time: 2025-12-26 22:12:21), devId: \"47FCC883FB83DD2D\", sendId: 2103, msgType: TEXT, data: \"æµ‹\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-26T22:12:22.188+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-26T22:12:22.189+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924665926928961536) MsgTChatMsg
2025-12-26T22:12:22.318+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:924665950974906368  sendId:2103  recvOk:1766758341017  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T22:12:22.330+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924660859219873792) MsgTChatReply
2025-12-26T22:12:33.243+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1401) from 10006 -> 10001	{"msg": "MsgChat{msgId: 924665997397463040, userId: 10006, fromId: 10006, toId: 10001, tm: 1766758351952 (time: 2025-12-26 22:12:31), devId: \"BEF2A06F75075BC9\", sendId: 1401, msgType: TEXT, data: \"å˜šå˜š\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-26T22:12:33.260+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-26T22:12:33.260+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924660859219873792) MsgTChatMsg
2025-12-26T22:12:33.524+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:924665997397463040  sendId:1401  recvOk:1766758352901  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T22:12:33.536+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924665926928961536) MsgTChatReply
2025-12-26T22:13:01.714+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(924665926928961536) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-26T22:13:01.714+0800	[34mINFO[0m	core/session.go:256	user(10006) session(924665926928961536)
2025-12-26T22:13:06.704+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:-5357504718274850190  params:{key:\"checkTokenData\"  value:\"lYjsZ4jTXz6HCVl3FODm/JLf9+521sRObKbiIyU=\"}"}
2025-12-26T22:13:06.706+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-12-26T22:13:06.707+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766758386706,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":3,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-12-26T22:13:06.912+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T22:13:06.913+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924666135771746304) MsgTFriendOpRet
2025-12-26T22:13:06.958+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T22:13:06.959+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924666135771746304) MsgTFriendOpRet
2025-12-26T22:13:08.575+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(2104) from 10001 -> 10006	{"msg": "MsgChat{msgId: 924666145590611968, userId: 10001, fromId: 10001, toId: 10006, tm: 1766758387967 (time: 2025-12-26 22:13:07), devId: \"47FCC883FB83DD2D\", sendId: 2104, msgType: TEXT, data: \"å•Šå•Šå•Š\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-26T22:13:08.593+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-26T22:13:08.594+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924666135771746304) MsgTChatMsg
2025-12-26T22:13:13.312+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924665997397463041  chatType:ChatTypeP2P"}
2025-12-26T22:13:13.332+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-26T22:13:13.351+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:924666145590611968  sendId:2104  recvOk:1766758392053  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T22:13:13.365+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924660859219873792) MsgTChatReply
2025-12-26T22:13:13.404+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:924666145590611968  sendId:2104  recvOk:1766758392130  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T22:13:13.428+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924660859219873792) MsgTChatReply
2025-12-26T22:13:40.697+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1421) from 10006 -> 10001	{"msg": "MsgChat{msgId: 924666280320045056, userId: 10006, fromId: 10006, toId: 10001, tm: 1766758419393 (time: 2025-12-26 22:13:39), devId: \"BEF2A06F75075BC9\", sendId: 1421, msgType: TEXT, data: \"å‘é€å¤±è´¥\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-26T22:13:40.706+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-26T22:13:40.706+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924660859219873792) MsgTChatMsg
2025-12-26T22:13:40.816+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:924666280320045056  sendId:1421  recvOk:1766758420189  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T22:13:40.838+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924666135771746304) MsgTChatReply
2025-12-26T22:14:05.834+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1422) from 10006 -> 10001	{"msg": "MsgChat{msgId: 924666385752264704, userId: 10006, fromId: 10006, toId: 10001, tm: 1766758444554 (time: 2025-12-26 22:14:04), devId: \"BEF2A06F75075BC9\", sendId: 1422, msgType: TEXT, data: \"é›¶é›¶\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-26T22:14:05.854+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-26T22:14:05.855+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924660859219873792) MsgTChatMsg
2025-12-26T22:14:06.099+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:924666385752264704  sendId:1422  recvOk:1766758445474  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T22:14:06.121+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924666135771746304) MsgTChatReply
2025-12-26T22:14:52.702+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1423) from 10006 -> 10001	{"msg": "MsgChat{msgId: 924666582330904576, userId: 10006, fromId: 10006, toId: 10001, tm: 1766758491405 (time: 2025-12-26 22:14:51), devId: \"BEF2A06F75075BC9\", sendId: 1423, msgType: TEXT, data: \"111\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-26T22:14:52.720+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-26T22:14:52.721+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924660859219873792) MsgTChatMsg
2025-12-26T22:14:52.761+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:924665116010614784  sendId:2102  recvOk:1766758491447  readOk:1766758491447  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T22:14:52.793+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924660859219873792) MsgTChatReply
2025-12-26T22:14:52.931+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:924666582330904576  sendId:1423  recvOk:1766758492278  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T22:14:52.946+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924666135771746304) MsgTChatReply
2025-12-26T22:15:19.308+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1424) from 10006 -> 10001	{"msg": "MsgChat{msgId: 924666693924556800, userId: 10006, fromId: 10006, toId: 10001, tm: 1766758517890 (time: 2025-12-26 22:15:17), devId: \"BEF2A06F75075BC9\", sendId: 1424, msgType: TEXT, data: \"ðŸŒðŸŒ\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-26T22:15:19.333+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-26T22:15:19.334+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924660859219873792) MsgTChatMsg
2025-12-26T22:15:19.546+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:924666693924556800  sendId:1424  recvOk:1766758518903  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T22:15:19.568+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924666135771746304) MsgTChatReply
2025-12-26T22:15:33.030+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(924666135771746304) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-26T22:15:33.032+0800	[34mINFO[0m	core/session.go:256	user(10006) session(924666135771746304)
2025-12-26T22:15:43.275+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:-5357504718274850190  params:{key:\"checkTokenData\"  value:\"tPF+kiGV6Kwol6XsvPAboCgUtlxWYcXiL82W1+w=\"}"}
2025-12-26T22:15:43.277+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-12-26T22:15:43.277+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766758543277,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":3,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-12-26T22:15:43.526+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T22:15:43.527+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924666792192905216) MsgTFriendOpRet
2025-12-26T22:15:43.570+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T22:15:43.571+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924666792192905216) MsgTFriendOpRet
2025-12-26T22:15:45.318+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924666693924556801  chatType:ChatTypeP2P"}
2025-12-26T22:15:45.373+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 0}
2025-12-26T22:16:05.594+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1441) from 10006 -> 10001	{"msg": "MsgChat{msgId: 924666888062111744, userId: 10006, fromId: 10006, toId: 10001, tm: 1766758564230 (time: 2025-12-26 22:16:04), devId: \"BEF2A06F75075BC9\", sendId: 1441, msgType: TEXT, data: \"ðŸŒšðŸŒš\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-26T22:16:05.611+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-26T22:16:05.612+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924660859219873792) MsgTChatMsg
2025-12-26T22:16:05.614+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:924665950974906368  sendId:2103  recvOk:1766758564249  readOk:1766758564249  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T22:16:05.628+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924660859219873792) MsgTChatReply
2025-12-26T22:16:05.667+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:924666145590611968  sendId:2104  recvOk:1766758564254  readOk:1766758564254  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T22:16:05.690+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924660859219873792) MsgTChatReply
2025-12-26T22:16:05.872+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:924666888062111744  sendId:1441  recvOk:1766758565209  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T22:16:05.891+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924666792192905216) MsgTChatReply
2025-12-26T22:17:10.689+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924660859219873792) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-26T22:17:10.693+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924660859219873792)
2025-12-26T22:17:16.089+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"jnpH/YrD881tneaf+X2PJI4XYpnmSoeWnCIILnM=\"}"}
2025-12-26T22:17:16.092+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-26T22:17:16.092+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766758636092,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-26T22:17:21.780+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T22:17:21.782+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924667181776637952) MsgTFriendOpRet
2025-12-26T22:17:21.830+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T22:17:21.830+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924667181776637952) MsgTFriendOpRet
2025-12-26T22:17:22.189+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10007, "msg": "msgId:924529671524192256  sendId:1306  recvOk:1766758641484  extraMsg:\"ok\"  userId:10007  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T22:17:22.203+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10007) sid(924641108909232128) MsgTChatReply
2025-12-26T22:17:22.394+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924666888062111745  chatType:ChatTypeP2P"}
2025-12-26T22:17:22.403+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 0}
2025-12-26T22:17:51.845+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(2121) from 10001 -> 10006	{"msg": "MsgChat{msgId: 924667333711106048, userId: 10001, fromId: 10001, toId: 10006, tm: 1766758661618 (time: 2025-12-26 22:17:41), devId: \"47FCC883FB83DD2D\", sendId: 2121, msgType: TEXT, data: \"å§\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-26T22:17:51.865+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-26T22:17:51.865+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924666792192905216) MsgTChatMsg
2025-12-26T22:17:51.978+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:924667333711106048  sendId:2121  recvOk:1766758670652  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T22:17:52.009+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924667181776637952) MsgTChatReply
2025-12-26T22:18:32.579+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:924665260248535040  sendId:1382  recvOk:1766758711951  readOk:1766758711951  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T22:18:32.597+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924666792192905216) MsgTChatReply
2025-12-26T22:19:03.004+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:924665997397463040  sendId:1401  recvOk:1766758711979  readOk:1766758711979  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T22:19:03.020+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924666792192905216) MsgTChatReply
2025-12-26T22:19:03.025+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:924666280320045056  sendId:1421  recvOk:1766758711987  readOk:1766758711987  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T22:19:03.049+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924666792192905216) MsgTChatReply
2025-12-26T22:19:03.077+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:924666385752264704  sendId:1422  recvOk:1766758712012  readOk:1766758712012  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T22:19:03.095+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924666792192905216) MsgTChatReply
2025-12-26T22:20:03.984+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924667181776637952) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-26T22:20:03.984+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924667181776637952)
2025-12-26T22:20:11.664+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:924667333711106048  sendId:2121  recvOk:1766758810307  readOk:1766758810307  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T22:20:11.682+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-12-26T22:27:13.248+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"VECCDKsI1genbw3GN6uQss0ECoCXhXGxZbF2yyQ=\"}"}
2025-12-26T22:27:13.249+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-26T22:27:13.249+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766759233249,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-26T22:27:13.311+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T22:27:13.311+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924669687739060224) MsgTFriendOpRet
2025-12-26T22:27:13.356+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T22:27:13.357+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924669687739060224) MsgTFriendOpRet
2025-12-26T22:27:13.389+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924667333711106049  chatType:ChatTypeP2P"}
2025-12-26T22:27:13.401+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 0}
2025-12-26T22:27:17.242+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1442) from 10006 -> 10001	{"msg": "MsgChat{msgId: 924669705158004736, userId: 10006, fromId: 10006, toId: 10001, tm: 1766759235955 (time: 2025-12-26 22:27:15), devId: \"BEF2A06F75075BC9\", sendId: 1442, msgType: TEXT, data: \"æµ‹è¯•\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-26T22:27:17.260+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-26T22:27:17.260+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924669687739060224) MsgTChatMsg
2025-12-26T22:27:17.331+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:924669705158004736  sendId:1442  recvOk:1766759236726  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T22:27:17.356+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924666792192905216) MsgTChatReply
2025-12-26T22:27:20.518+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1443) from 10006 -> 10001	{"msg": "MsgChat{msgId: 924669718898544640, userId: 10006, fromId: 10006, toId: 10001, tm: 1766759239214 (time: 2025-12-26 22:27:19), devId: \"BEF2A06F75075BC9\", sendId: 1443, msgType: TEXT, data: \"å†å‘\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-26T22:27:20.534+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-26T22:27:20.536+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924669687739060224) MsgTChatMsg
2025-12-26T22:27:20.626+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:924669718898544640  sendId:1443  recvOk:1766759240002  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T22:27:20.645+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924666792192905216) MsgTChatReply
2025-12-26T22:27:30.759+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(2141) from 10001 -> 10006	{"msg": "MsgChat{msgId: 924669761852411904, userId: 10001, fromId: 10001, toId: 10006, tm: 1766759250008 (time: 2025-12-26 22:27:30), devId: \"47FCC883FB83DD2D\", sendId: 2141, msgType: TEXT, data: \"å¾—\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-26T22:27:30.783+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-26T22:27:30.783+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924666792192905216) MsgTChatMsg
2025-12-26T22:27:30.916+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:924669761852411904  sendId:2141  recvOk:1766759249641  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T22:27:30.940+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924669687739060224) MsgTChatReply
2025-12-26T22:27:33.644+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:924666582330904576  sendId:1423  recvOk:1766759252979  readOk:1766759252979  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T22:27:33.661+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924666792192905216) MsgTChatReply
2025-12-26T22:27:33.750+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:924666693924556800  sendId:1424  recvOk:1766759252985  readOk:1766759252985  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T22:27:33.771+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924666792192905216) MsgTChatReply
2025-12-26T22:27:33.771+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:924666888062111744  sendId:1441  recvOk:1766759252987  readOk:1766759252987  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T22:27:33.786+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924666792192905216) MsgTChatReply
2025-12-26T22:27:33.796+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:924669705158004736  sendId:1442  recvOk:1766759252989  readOk:1766759252989  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T22:27:33.815+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924666792192905216) MsgTChatReply
2025-12-26T22:27:33.842+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:924669718898544640  sendId:1443  recvOk:1766759252991  readOk:1766759252991  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-26T22:27:33.864+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924666792192905216) MsgTChatReply
2025-12-26T22:28:04.142+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924669687739060224) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-26T22:28:04.143+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924669687739060224)
2025-12-26T22:31:15.043+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"a4gsIit7GD64j9L2VPOxRGMdjiI/b+uNv77qNZI=\"}"}
2025-12-26T22:31:15.044+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-26T22:31:15.045+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766759475044,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-26T22:31:15.101+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T22:31:15.101+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924670702139871232) MsgTFriendOpRet
2025-12-26T22:31:15.153+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T22:31:15.153+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924670702139871232) MsgTFriendOpRet
2025-12-26T22:31:15.184+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924669761852411905  chatType:ChatTypeP2P"}
2025-12-26T22:31:15.193+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 0}
2025-12-26T22:31:36.419+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924670702139871232) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-26T22:31:36.421+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924670702139871232)
2025-12-26T22:31:41.232+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"h2bFTKZ57s7LnRDgZo3mk/i2QKoCOiquzk7wjDY=\"}"}
2025-12-26T22:31:41.233+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-26T22:31:41.233+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766759501233,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-26T22:31:41.353+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T22:31:41.354+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924670810508103680) MsgTFriendOpRet
2025-12-26T22:31:41.385+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-26T22:31:41.386+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924670810508103680) MsgTFriendOpRet
2025-12-26T22:31:41.744+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924669761852411905  chatType:ChatTypeP2P"}
2025-12-26T22:31:41.758+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 0}
2025-12-26T22:32:17.618+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924670810508103680) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-26T22:32:17.620+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924670810508103680)
2025-12-27T11:44:01.427+0800	[34mINFO[0m	server/main.go:93	server started here...
2025-12-27T11:45:03.414+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"4Bq8u6Yi/jQt70TBI+yx0a+5B9wrounr9ASLS2Y=\"}"}
2025-12-27T11:45:03.631+0800	[35mDEBUG[0m	core/commonhelper.go:421	Load user permission list	{"user": 10001, "count": 0}
2025-12-27T11:45:03.632+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-27T11:45:03.633+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766807103632,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-27T11:45:03.720+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"nickName":"robin","email":"*","phone":"*"},{"userId":10004,"nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*"},{"userId":10005,"nickName":"robin","email":"*","phone":"*"},{"userId":10006,"nickName":"robin fox","email":"*","phone":"*"},{"userId":10007,"nickName":"yoyo","email":"*","phone":"*"}]}
2025-12-27T11:45:03.722+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924870469985898496) MsgTFriendOpRet
2025-12-27T11:45:03.781+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-27T11:45:03.781+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924870469985898496) MsgTFriendOpRet
2025-12-27T11:45:03.876+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924669761852411905  chatType:ChatTypeP2P"}
2025-12-27T11:45:03.921+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 0}
2025-12-27T11:45:32.007+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "resized_1766807131193.jpg", "hash": "8adef568398ef0935ecb891523bbc010", "send id": 2161, "chunk index": 0, "chunk count": 1}
2025-12-27T11:45:32.222+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(2161) from 10001 -> 10006	{"msg": "MsgChat{msgId: 924870591251615744, userId: 10001, fromId: 10001, toId: 10006, tm: 1766807131493 (time: 2025-12-27 11:45:31), devId: \"47FCC883FB83DD2D\", sendId: 2161, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"28zod9awyv24q.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"resized_1766807131193.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-27T11:45:32.273+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-27T11:45:32.273+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-12-27T11:47:28.991+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924870469985898496) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-27T11:47:28.993+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924870469985898496)
2025-12-27T11:49:10.732+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:-5357504718274850190  params:{key:\"checkTokenData\"  value:\"US30Ig8JA0+BCdIuYHkT7eAEPucZe/RbQ5DpKq4=\"}"}
2025-12-27T11:49:10.733+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-12-27T11:49:10.733+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766807350733,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":3,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-12-27T11:49:10.793+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-27T11:49:10.793+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924871507308580864) MsgTFriendOpRet
2025-12-27T11:49:10.857+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-27T11:49:10.857+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924871507308580864) MsgTFriendOpRet
2025-12-27T11:49:11.038+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924669761852411905  chatType:ChatTypeP2P"}
2025-12-27T11:49:11.058+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-27T11:49:11.089+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:924870591251615744  sendId:2161  recvOk:1766807348703  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-27T11:49:11.116+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10001) active session  list is null 
2025-12-27T11:49:16.081+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "28zod9awyv24q.jpg"}
2025-12-27T12:05:57.930+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"WrOWtIbFXmF3VDhSg5ywFOTnrFfWJBYA60G5U50=\"}"}
2025-12-27T12:05:57.931+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-27T12:05:57.931+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766808357931,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-27T12:05:58.048+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-27T12:05:58.048+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924875731870289920) MsgTFriendOpRet
2025-12-27T12:05:58.108+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-27T12:05:58.108+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924875731870289920) MsgTFriendOpRet
2025-12-27T12:05:58.169+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924870591251615745  chatType:ChatTypeP2P"}
2025-12-27T12:05:58.184+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 0}
2025-12-27T12:06:11.853+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "mmexport1766727147818.jpg", "hash": "3d82f03698cb47c8fea56f1033e01279", "send id": 2181, "chunk index": 0, "chunk count": 1}
2025-12-27T12:06:11.954+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(2181) from 10001 -> 10006	{"msg": "MsgChat{msgId: 924875791077085184, userId: 10001, fromId: 10001, toId: 10006, tm: 1766808371252 (time: 2025-12-27 12:06:11), devId: \"47FCC883FB83DD2D\", sendId: 2181, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"31n8keavh164d.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"mmexport1766727147818.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-27T12:06:11.971+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-27T12:06:11.971+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924871507308580864) MsgTChatMsg
2025-12-27T12:06:12.173+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:924875791077085184  sendId:2181  recvOk:1766808369769  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-27T12:06:12.191+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924875731870289920) MsgTChatReply
2025-12-27T12:06:12.511+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "31n8keavh164d.jpg"}
2025-12-27T12:07:07.912+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "MEITU_20251113_135437755.jpg", "hash": "91ec17cdabf13088b13fe56e344efe42", "send id": 2182, "chunk index": 0, "chunk count": 1}
2025-12-27T12:07:08.019+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(2182) from 10001 -> 10006	{"msg": "MsgChat{msgId: 924876026230738944, userId: 10001, fromId: 10001, toId: 10006, tm: 1766808427305 (time: 2025-12-27 12:07:07), devId: \"47FCC883FB83DD2D\", sendId: 2182, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"22k4q5y9k8psh.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"MEITU_20251113_135437755.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-27T12:07:08.034+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-27T12:07:08.034+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924871507308580864) MsgTChatMsg
2025-12-27T12:07:08.141+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:924876026230738944  sendId:2182  recvOk:1766808425738  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-27T12:07:08.162+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924875731870289920) MsgTChatReply
2025-12-27T12:07:08.384+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "22k4q5y9k8psh.jpg"}
2025-12-27T12:07:24.924+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "Camera_xhs_1667652425932.mp4", "hash": "e0eb3ddc1c765e353965fe131f6b99f4", "send id": 2183, "chunk index": 0, "chunk count": 3}
2025-12-27T12:07:24.933+0800	[35mDEBUG[0m	core/filemsghander.go:280	find same file	{"uniq_name": "t7tpylhgo3j4.mp4", "file name": "Camera_xhs_1667652425932.mp4", "hash": "e0eb3ddc1c765e353965fe131f6b99f4", "tags": ["Camera", "xhs", "1667652425932.", "mp4"]}
2025-12-27T12:07:25.026+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(2183) from 10001 -> 10006	{"msg": "MsgChat{msgId: 924876097559072768, userId: 10001, fromId: 10001, toId: 10006, tm: 1766808444290 (time: 2025-12-27 12:07:24), devId: \"47FCC883FB83DD2D\", sendId: 2183, msgType: FILE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"fid\\\":10001,\\\"cur\\\":0,\\\"ref\\\":\\\"t7tpylhgo3j4.mp4\\\",\\\"size\\\":2389439,\\\"mime\\\":\\\"video/mp4\\\",\\\"name\\\":\\\"Camera_xhs_1667652425932.mp4\\\",\\\"msgid\\\":2183},\\\"tp\\\":\\\"EX\\\"}],\\\"fmt\\\":[{\\\"at\\\":-1,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}]}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-27T12:07:25.037+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-27T12:07:25.038+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924871507308580864) MsgTChatMsg
2025-12-27T12:07:25.124+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:924876097559072768  sendId:2183  recvOk:1766808442758  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-27T12:07:25.146+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924875731870289920) MsgTChatReply
2025-12-27T12:07:30.737+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "t7tpylhgo3j4.mp4"}
2025-12-27T12:07:48.730+0800	[35mDEBUG[0m	core/filemsghander.go:23	File Upload msg:	{"user id": 10001, "filename": "yR-ObI_xfmRKdw", "hash": "9a6412bf52605b610bf4bfae7b1634a7", "send id": 2184, "chunk index": 0, "chunk count": 1}
2025-12-27T12:07:48.844+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(2184) from 10001 -> 10006	{"msg": "MsgChat{msgId: 924876197463199744, userId: 10001, fromId: 10001, toId: 10006, tm: 1766808468100 (time: 2025-12-27 12:07:48), devId: \"47FCC883FB83DD2D\", sendId: 2184, msgType: VOICE, priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-27T12:07:48.859+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-27T12:07:48.859+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924871507308580864) MsgTChatMsg
2025-12-27T12:07:48.965+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:924876197463199744  sendId:2184  recvOk:1766808466595  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-27T12:07:48.989+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924875731870289920) MsgTChatReply
2025-12-27T12:07:51.425+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "1harip39ogzoa"}
2025-12-27T12:08:09.569+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(2185) from 10001 -> 10006	{"msg": "MsgChat{msgId: 924876284377567232, userId: 10001, fromId: 10001, toId: 10006, tm: 1766808488841 (time: 2025-12-27 12:08:08), devId: \"47FCC883FB83DD2D\", sendId: 2185, msgType: TEXT, data: \"æ–‡æœ¬\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-27T12:08:09.593+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-27T12:08:09.593+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924871507308580864) MsgTChatMsg
2025-12-27T12:08:09.674+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:924876284377567232  sendId:2185  recvOk:1766808487278  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-27T12:08:09.687+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924875731870289920) MsgTChatReply
2025-12-27T12:08:28.609+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1461) from 10006 -> 10001	{"msg": "MsgChat{msgId: 924876364249698304, userId: 10006, fromId: 10006, toId: 10001, tm: 1766808506235 (time: 2025-12-27 12:08:26), devId: \"BEF2A06F75075BC9\", sendId: 1461, msgType: TEXT, data: \"æ”¶åˆ°\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-27T12:08:28.634+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-27T12:08:28.635+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924875731870289920) MsgTChatMsg
2025-12-27T12:08:28.681+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:924876364249698304  sendId:1461  recvOk:1766808507974  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-27T12:08:28.707+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924871507308580864) MsgTChatReply
2025-12-27T12:08:50.277+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(924871507308580864) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-27T12:08:50.278+0800	[34mINFO[0m	core/session.go:256	user(10006) session(924871507308580864)
2025-12-27T12:08:55.999+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:-5357504718274850190  params:{key:\"checkTokenData\"  value:\"zGwaeaJiBLQrzB3tA7P1tl+fUpVgwpdW8rkJ+Ks=\"}"}
2025-12-27T12:08:56.002+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-12-27T12:08:56.003+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766808536002,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":3,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-12-27T12:08:56.065+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-27T12:08:56.066+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924876478301212672) MsgTFriendOpRet
2025-12-27T12:08:56.110+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-27T12:08:56.111+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924876478301212672) MsgTFriendOpRet
2025-12-27T12:08:56.518+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924876364249698305  chatType:ChatTypeP2P"}
2025-12-27T12:08:56.532+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 0}
2025-12-27T12:09:06.660+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(1481) from 10006 -> 10001	{"msg": "MsgChat{msgId: 924876523847159808, userId: 10006, fromId: 10006, toId: 10001, tm: 1766808544273 (time: 2025-12-27 12:09:04), devId: \"BEF2A06F75075BC9\", sendId: 1481, msgType: TEXT, data: \"æ”¶åˆ°\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-27T12:09:06.679+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-27T12:09:06.679+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924875731870289920) MsgTChatMsg
2025-12-27T12:09:06.751+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:924876523847159808  sendId:1481  recvOk:1766808546048  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-27T12:09:06.777+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924876478301212672) MsgTChatReply
2025-12-27T12:09:09.625+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:924876097559072768  sendId:2183  recvOk:1766808547209  readOk:1766808547209  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-27T12:09:09.661+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924875731870289920) MsgTChatReply
2025-12-27T12:09:09.668+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:924876197463199744  sendId:2184  recvOk:1766808547219  readOk:1766808547219  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-27T12:09:09.689+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924875731870289920) MsgTChatReply
2025-12-27T12:09:09.717+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:924876284377567232  sendId:2185  recvOk:1766808547232  readOk:1766808547232  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-27T12:09:09.737+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924875731870289920) MsgTChatReply
2025-12-27T12:09:17.474+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:924876026230738944  sendId:2182  recvOk:1766808555095  readOk:1766808555095  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-27T12:09:17.497+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924875731870289920) MsgTChatReply
2025-12-27T12:09:18.489+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:924875791077085184  sendId:2181  recvOk:1766808556096  readOk:1766808556096  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-27T12:09:18.504+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924875731870289920) MsgTChatReply
2025-12-27T12:09:21.103+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:924669761852411904  sendId:2141  recvOk:1766808558679  readOk:1766808558679  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-27T12:09:21.130+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924875731870289920) MsgTChatReply
2025-12-27T12:09:21.153+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:924870591251615744  sendId:2161  recvOk:1766808558681  readOk:1766808558681  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-27T12:09:21.173+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924875731870289920) MsgTChatReply
2025-12-27T12:09:25.096+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:924876364249698304  sendId:1461  recvOk:1766808564386  readOk:1766808564386  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-27T12:09:25.109+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924876478301212672) MsgTChatReply
2025-12-27T12:09:25.251+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10001, "to": 10006, "msg": "msgId:924876523847159808  sendId:1481  recvOk:1766808564388  readOk:1766808564388  extraMsg:\"ok\"  userId:10006  fromId:10001  params:{key:\"gid\"  value:\"0\"}"}
2025-12-27T12:09:25.262+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924876478301212672) MsgTChatReply
2025-12-27T12:16:11.052+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924875731870289920) close here, because ws:readLoop() error, err=read tcp 192.168.1.2:7817->192.168.1.31:47518: i/o timeout
2025-12-27T12:16:10.609+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(924876478301212672) close here, because ws:readLoop() error, err=read tcp 192.168.1.2:7817->192.168.1.14:42164: i/o timeout
2025-12-27T12:16:11.053+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924875731870289920)
2025-12-27T12:16:11.053+0800	[34mINFO[0m	core/session.go:256	user(10006) session(924876478301212672)
2025-12-27T12:16:12.792+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"ENKwcUne8LRKhCmKWyorGeCO3vh/jRuAJR5ji7Y=\"}"}
2025-12-27T12:16:12.793+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-27T12:16:12.793+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766808972793,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-27T12:16:12.884+0800	[31mERROR[0m	core/friendhandler.go:692	handleFriendList() query scylladb error	{"error": "gocql: no hosts available in the pool"}
2025-12-27T12:16:12.888+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": null}
2025-12-27T12:16:12.889+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924878310670995456) MsgTFriendOpRet
2025-12-27T12:16:12.934+0800	[31mERROR[0m	core/friendhandler.go:692	handleFriendList() query scylladb error	{"error": "gocql: no hosts available in the pool"}
2025-12-27T12:16:12.935+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": null}
2025-12-27T12:16:12.935+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924878310670995456) MsgTFriendOpRet
2025-12-27T12:18:16.235+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:-5357504718274850190  params:{key:\"checkTokenData\"  value:\"qvcTIdG7Kk0kK76/nYnCdoX0Zc2kQTpUOhqlYGE=\"}"}
2025-12-27T12:18:16.236+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-12-27T12:18:16.236+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766809096236,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":3,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-12-27T12:18:16.310+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-27T12:18:16.311+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924878828600430592) MsgTFriendOpRet
2025-12-27T12:18:16.359+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-27T12:18:16.360+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924878828600430592) MsgTFriendOpRet
2025-12-27T13:02:28.665+0800	[34mINFO[0m	server/main.go:93	server started here...
2025-12-27T13:02:34.379+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"iHKv7lUkLNHPRcmFZyy+2Ra626AGAVf1v+eRAy8=\"}"}
2025-12-27T13:02:34.539+0800	[35mDEBUG[0m	core/commonhelper.go:421	Load user permission list	{"user": 10001, "count": 0}
2025-12-27T13:02:34.550+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-27T13:02:34.550+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766811754550,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-27T13:02:34.658+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"nickName":"robin","email":"*","phone":"*"},{"userId":10004,"nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*"},{"userId":10005,"nickName":"robin","email":"*","phone":"*"},{"userId":10006,"nickName":"robin fox","email":"*","phone":"*"},{"userId":10007,"nickName":"yoyo","email":"*","phone":"*"}]}
2025-12-27T13:02:34.659+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924889977588944896) MsgTFriendOpRet
2025-12-27T13:02:34.700+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-27T13:02:34.700+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924889977588944896) MsgTFriendOpRet
2025-12-27T13:02:46.442+0800	[35mDEBUG[0m	core/filemsghander.go:24	File Upload msg:	{"user id": 10001, "filename": "Camera_1040g3k831qbd805inodg5o3cjju088eimec42fg.jpg", "hash": "d526c00e6ff2a1bc138db2ba4cb344b7", "send id": 2186, "chunk index": 0, "chunk count": 1}
2025-12-27T13:02:46.532+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(2186) from 10001 -> 10006	{"msg": "MsgChat{msgId: 924890028969168896, userId: 10001, fromId: 10001, toId: 10006, tm: 1766811765716 (time: 2025-12-27 13:02:45), devId: \"47FCC883FB83DD2D\", sendId: 2186, msgType: IMAGE, data: \"{\\\"ent\\\":[{\\\"data\\\":{\\\"ref\\\":\\\"20251227_2v9obtk3dj1ed.jpg\\\",\\\"mime\\\":\\\"image/jpeg\\\",\\\"width\\\":0,\\\"name\\\":\\\"Camera_1040g3k831qbd805inodg5o3cjju088eimec42fg.jpg\\\",\\\"height\\\":0},\\\"tp\\\":\\\"IM\\\"}],\\\"fmt\\\":[{\\\"at\\\":0,\\\"key\\\":0,\\\"len\\\":1,\\\"tp\\\":null}],\\\"txt\\\":\\\" \\\"}\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-27T13:02:46.600+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-27T13:02:46.601+0800	[35mDEBUG[0m	core/msghelper.go:26	user(10006) active session  list is null 
2025-12-27T13:03:00.965+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:-5357504718274850190  params:{key:\"checkTokenData\"  value:\"Vx8hqCLbzmy+9c1028Go7ckINPpIf5irFyXrBNg=\"}"}
2025-12-27T13:03:00.967+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-12-27T13:03:00.967+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766811780967,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":3,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-12-27T13:03:01.030+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-27T13:03:01.031+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924890089228734464) MsgTFriendOpRet
2025-12-27T13:03:01.078+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-27T13:03:01.079+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924890089228734464) MsgTFriendOpRet
2025-12-27T13:05:13.103+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(924890089228734464) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-27T13:05:13.105+0800	[34mINFO[0m	core/session.go:256	user(10006) session(924890089228734464)
2025-12-27T13:05:16.204+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:-5357504718274850190  params:{key:\"checkTokenData\"  value:\"hRiGZZWVNeyDJvZmmIAXqtbxXMvXGcdqTon2dtc=\"}"}
2025-12-27T13:05:16.205+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-12-27T13:05:16.205+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766811916205,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":3,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-12-27T13:05:16.273+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-27T13:05:16.274+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924890656290246656) MsgTFriendOpRet
2025-12-27T13:05:16.319+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-27T13:05:16.319+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924890656290246656) MsgTFriendOpRet
2025-12-27T13:05:16.585+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924876523847159809  chatType:ChatTypeP2P"}
2025-12-27T13:05:16.614+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 1}
2025-12-27T13:05:16.660+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:924890028969168896  sendId:2186  recvOk:1766811915706  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-27T13:05:16.694+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924889977588944896) MsgTChatReply
2025-12-27T13:05:21.962+0800	[35mDEBUG[0m	handler/filedownload.go:150	download?	{"filename": "20251227_2v9obtk3dj1ed.jpg"}
2025-12-27T13:08:59.204+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(924890656290246656) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-27T13:08:59.205+0800	[34mINFO[0m	core/session.go:256	user(10006) session(924890656290246656)
2025-12-27T13:09:04.427+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:-5357504718274850190  params:{key:\"checkTokenData\"  value:\"V+fzqPHYX8Hm9u8woFlQmEDIwEMVUlO0W5MfFEM=\"}"}
2025-12-27T13:09:04.429+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-12-27T13:09:04.429+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766812144429,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":3,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-12-27T13:09:04.491+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-27T13:09:04.492+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924891612830633984) MsgTFriendOpRet
2025-12-27T13:09:04.536+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-27T13:09:04.537+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924891612830633984) MsgTFriendOpRet
2025-12-27T13:09:05.043+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924890028969168897  chatType:ChatTypeP2P"}
2025-12-27T13:09:05.066+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 0}
2025-12-27T13:09:27.078+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924889977588944896) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2025-12-27T13:09:27.078+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924889977588944896)
2025-12-27T13:09:28.388+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"ecwYez8/KJlCm+j9nePz8e28qfXsQOjQE0iyUIk=\"}"}
2025-12-27T13:09:28.389+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-27T13:09:28.392+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766812168389,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-27T13:09:28.485+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-27T13:09:28.485+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924891713900777472) MsgTFriendOpRet
2025-12-27T13:09:28.533+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-27T13:09:28.533+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924891713900777472) MsgTFriendOpRet
2025-12-27T13:09:28.672+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924890028969168897  chatType:ChatTypeP2P"}
2025-12-27T13:09:28.688+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 0}
2025-12-27T13:10:04.947+0800	[34mINFO[0m	server/main.go:93	server started here...
2025-12-27T13:10:14.744+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:-5357504718274850190  params:{key:\"checkTokenData\"  value:\"Ve2vVETMC9BELx+X2ohlPJPnDJCAmT1rQ3K/Ubs=\"}"}
2025-12-27T13:10:14.830+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:4516930846336681555  params:{key:\"checkTokenData\"  value:\"41f1ltO7qhVVqVqiumpZ2k9DxMm0Wp3ONNtW/HE=\"}"}
2025-12-27T13:10:14.912+0800	[35mDEBUG[0m	core/commonhelper.go:421	Load user permission list	{"user": 10006, "count": 0}
2025-12-27T13:10:14.913+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-12-27T13:10:14.913+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766812214913,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":3,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-12-27T13:10:14.918+0800	[35mDEBUG[0m	core/commonhelper.go:421	Load user permission list	{"user": 10001, "count": 0}
2025-12-27T13:10:14.919+0800	[34mINFO[0m	core/userhandler.go:1023	user(10001) login ok
2025-12-27T13:10:14.919+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766812214919,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2025-12-27T13:10:14.983+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"nickName":"robin","email":"*","phone":"*"},{"userId":10007,"nickName":"yoyo","email":"*","phone":"*"}]}
2025-12-27T13:10:14.983+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924891908755558400) MsgTFriendOpRet
2025-12-27T13:10:15.033+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-27T13:10:15.033+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924891908755558400) MsgTFriendOpRet
2025-12-27T13:10:15.059+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*"},{"userId":10005,"nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-27T13:10:15.059+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924891909091102720) MsgTFriendOpRet
2025-12-27T13:10:15.060+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924890028969168897  chatType:ChatTypeP2P"}
2025-12-27T13:10:15.078+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 0}
2025-12-27T13:10:15.117+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-27T13:10:15.117+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924891909091102720) MsgTFriendOpRet
2025-12-27T13:10:15.137+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924890028969168897  chatType:ChatTypeP2P"}
2025-12-27T13:10:15.149+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 0}
2025-12-27T13:10:18.565+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(2201) from 10001 -> 10006	{"msg": "MsgChat{msgId: 924891924932988928, userId: 10001, fromId: 10001, toId: 10006, tm: 1766812217684 (time: 2025-12-27 13:10:17), devId: \"47FCC883FB83DD2D\", sendId: 2201, msgType: TEXT, data: \"æµ‹è¯•\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeP2P, subMsgType: 0, keyPrint: 0, params: {}}"}
2025-12-27T13:10:18.631+0800	[35mDEBUG[0m	core/chatmsghandler.go:250	send back reply 'save data ok'
2025-12-27T13:10:18.632+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924891908755558400) MsgTChatMsg
2025-12-27T13:10:18.742+0800	[35mDEBUG[0m	core/chatmsghandler.go:371	Recv User ChatMsgReply:	{"from": 10006, "to": 10001, "msg": "msgId:924891924932988928  sendId:2201  recvOk:1766812217887  extraMsg:\"ok\"  userId:10001  fromId:10006  params:{key:\"gid\"  value:\"0\"}"}
2025-12-27T13:10:18.778+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(924891909091102720) MsgTChatReply
2025-12-27T14:07:39.162+0800	[35mDEBUG[0m	core/session.go:382	user(10001) session(924891909091102720) close here, because ws:readLoop() error, err=read tcp 192.168.1.2:7817->192.168.1.31:37156: i/o timeout
2025-12-27T14:07:39.162+0800	[35mDEBUG[0m	core/session.go:382	user(10006) session(924891908755558400) close here, because ws:readLoop() error, err=read tcp 192.168.1.2:7817->192.168.1.14:42414: i/o timeout
2025-12-27T14:07:39.169+0800	[34mINFO[0m	core/session.go:256	user(10006) session(924891908755558400)
2025-12-27T14:07:39.169+0800	[34mINFO[0m	core/session.go:256	user(10001) session(924891909091102720)
2025-12-27T14:12:26.523+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"BEF2A06F75075BC9\"  version:\"1.0\"  platform:\"Xiaomi\"  stage:\"clienthello\"  keyPrint:-5357504718274850190  params:{key:\"checkTokenData\"  value:\"6cEpCEcna4nx2bBa/yqtMjWbWH901GIIO9WDQeE=\"}"}
2025-12-27T14:12:26.525+0800	[34mINFO[0m	core/userhandler.go:1023	user(10006) login ok
2025-12-27T14:12:26.525+0800	[35mDEBUG[0m	core/userhandler.go:1024	user login ok	{"msg": {"version":1,"tm":1766815946525,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"robin-fox@sohu.com","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6","follows":3,"fans":2,"params":{"email":"checked","nfans":"","nfollows":"","title":"setting"}}],"params":{"status":"loginok"}}}}}}}
2025-12-27T14:12:26.664+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "follows", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-27T14:12:26.664+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924907560765624320) MsgTFriendOpRet
2025-12-27T14:12:26.732+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10006, "mode": "fans", "friends": [{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2025-12-27T14:12:26.733+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10006) sid(924907560765624320) MsgTFriendOpRet
2025-12-27T14:12:26.733+0800	[35mDEBUG[0m	core/chatmsghandler.go:491	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807  littleId:924891924932988929  chatType:ChatTypeP2P"}
2025-12-27T14:12:26.763+0800	[35mDEBUG[0m	core/chatmsghandler.go:580	onQueryP2PChatData:	{"msg count:": 0}
