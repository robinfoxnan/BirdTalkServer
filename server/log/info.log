2026-01-01T21:15:40.406+0800	[35mDEBUG[0m	core/grouphelper.go:103	loadGroupMembers() re-print group member in memory	{"group_id": 10004, "group": {"10001":{"Nick":"é£žé¸ŸçœŸäºº","U":{"UserInfo":{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}},"SessionId":[926826008106110976],"Status":0,"Block":{},"Following":{},"Fans":{},"Groups":{"10001":true,"10002":true,"10003":true,"10004":true},"SessionDis":{},"LastActiveTm":1767273339998}}}}
2026-01-01T21:15:40.444+0800	[35mDEBUG[0m	core/chatmsghandler.go:494	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:926820541472575489 chatType:ChatTypeP2P"}
2026-01-01T21:15:40.480+0800	[35mDEBUG[0m	core/chatmsghandler.go:583	onQueryP2PChatData:	{"msg count:": 0}
2026-01-01T21:15:40.498+0800	[35mDEBUG[0m	core/grouphelper.go:37	ID: 10001, Name: é£žé¸ŸçœŸäºº

2026-01-01T21:15:40.549+0800	[35mDEBUG[0m	core/grouphelper.go:37	ID: 10001, Name: é£žé¸ŸçœŸäºº

2026-01-01T21:15:40.604+0800	[35mDEBUG[0m	core/grouphelper.go:37	ID: 10001, Name: é£žé¸ŸçœŸäºº

2026-01-01T21:15:40.655+0800	[35mDEBUG[0m	core/grouphelper.go:37	ID: 10001, Name: é£žé¸ŸçœŸäºº

2026-01-01T21:19:18.938+0800	[34mINFO[0m	server/main.go:93	server started here...
2026-01-01T21:19:28.135+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"s4uI4MC1e4VbJ01/bHcumgMBMEfN01syjBWyKWM=\"}"}
2026-01-01T21:19:28.318+0800	[35mDEBUG[0m	core/commonhelper.go:421	Load user permission list	{"user": 10001, "count": 0}
2026-01-01T21:19:28.323+0800	[34mINFO[0m	core/userhandler.go:1024	user(10001) login ok
2026-01-01T21:19:28.323+0800	[35mDEBUG[0m	core/userhandler.go:1025	user login ok	{"msg": {"version":1,"tm":1767273568323,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2026-01-01T21:19:28.464+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"nickName":"robin","email":"*","phone":"*"},{"userId":10004,"nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*"},{"userId":10005,"nickName":"robin","email":"*","phone":"*"},{"userId":10006,"nickName":"robin fox","email":"*","phone":"*"},{"userId":10007,"nickName":"yoyo","email":"*","phone":"*"}]}
2026-01-01T21:19:28.464+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(926826965061734400) MsgTFriendOpRet
2026-01-01T21:19:28.518+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2026-01-01T21:19:28.518+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(926826965061734400) MsgTFriendOpRet
2026-01-01T21:19:28.544+0800	[35mDEBUG[0m	core/grouphelper.go:195	LoadUserInGroupList from redis	{"uid": 10001, "gid": [10001, 10002, 10003, 10004]}
2026-01-01T21:19:28.544+0800	[35mDEBUG[0m	core/grouphelper.go:143	find group in redis	{"group_id": 10001}
2026-01-01T21:19:28.545+0800	[35mDEBUG[0m	core/grouphelper.go:98	loadGroupMembers() find group members in redis	{"group_id": 10001, "lst": [{"Pk":10001,"Role":1,"Gid":10001,"Uid":10001,"Tm":0,"Nick":"é£žé¸ŸçœŸäºº"}]}
2026-01-01T21:19:28.545+0800	[35mDEBUG[0m	core/grouphelper.go:104	loadGroupMembers() re-print group member in memory	{"group_id": 10001, "group": {"10001":{"Nick":"é£žé¸ŸçœŸäºº","U":{"UserInfo":{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}},"SessionId":[926826965061734400],"Status":0,"Block":{},"Following":{},"Fans":{},"Groups":{"10001":true,"10002":true,"10003":true,"10004":true},"SessionDis":{},"LastActiveTm":1767273568136}}}}
2026-01-01T21:19:28.545+0800	[35mDEBUG[0m	core/grouphelper.go:143	find group in redis	{"group_id": 10002}
2026-01-01T21:19:28.545+0800	[35mDEBUG[0m	core/grouphelper.go:98	loadGroupMembers() find group members in redis	{"group_id": 10002, "lst": [{"Pk":10002,"Role":1,"Gid":10002,"Uid":10001,"Tm":0,"Nick":"é£žé¸ŸçœŸäºº"}]}
2026-01-01T21:19:28.545+0800	[35mDEBUG[0m	core/grouphelper.go:104	loadGroupMembers() re-print group member in memory	{"group_id": 10002, "group": {"10001":{"Nick":"é£žé¸ŸçœŸäºº","U":{"UserInfo":{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}},"SessionId":[926826965061734400],"Status":0,"Block":{},"Following":{},"Fans":{},"Groups":{"10001":true,"10002":true,"10003":true,"10004":true},"SessionDis":{},"LastActiveTm":1767273568136}}}}
2026-01-01T21:19:28.546+0800	[35mDEBUG[0m	core/grouphelper.go:143	find group in redis	{"group_id": 10003}
2026-01-01T21:19:28.546+0800	[35mDEBUG[0m	core/grouphelper.go:98	loadGroupMembers() find group members in redis	{"group_id": 10003, "lst": [{"Pk":10003,"Role":1,"Gid":10003,"Uid":10001,"Tm":0,"Nick":"é£žé¸ŸçœŸäºº"}]}
2026-01-01T21:19:28.546+0800	[35mDEBUG[0m	core/grouphelper.go:104	loadGroupMembers() re-print group member in memory	{"group_id": 10003, "group": {"10001":{"Nick":"é£žé¸ŸçœŸäºº","U":{"UserInfo":{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}},"SessionId":[926826965061734400],"Status":0,"Block":{},"Following":{},"Fans":{},"Groups":{"10001":true,"10002":true,"10003":true,"10004":true},"SessionDis":{},"LastActiveTm":1767273568136}}}}
2026-01-01T21:19:28.547+0800	[35mDEBUG[0m	core/grouphelper.go:143	find group in redis	{"group_id": 10004}
2026-01-01T21:19:28.547+0800	[35mDEBUG[0m	core/grouphelper.go:98	loadGroupMembers() find group members in redis	{"group_id": 10004, "lst": [{"Pk":10004,"Role":1,"Gid":10004,"Uid":10001,"Tm":0,"Nick":"é£žé¸ŸçœŸäºº"}]}
2026-01-01T21:19:28.547+0800	[35mDEBUG[0m	core/grouphelper.go:104	loadGroupMembers() re-print group member in memory	{"group_id": 10004, "group": {"10001":{"Nick":"é£žé¸ŸçœŸäºº","U":{"UserInfo":{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}},"SessionId":[926826965061734400],"Status":0,"Block":{},"Following":{},"Fans":{},"Groups":{"10001":true,"10002":true,"10003":true,"10004":true},"SessionDis":{},"LastActiveTm":1767273568136}}}}
2026-01-01T21:19:28.594+0800	[35mDEBUG[0m	core/chatmsghandler.go:494	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:926820541472575489 chatType:ChatTypeP2P"}
2026-01-01T21:19:28.626+0800	[35mDEBUG[0m	core/chatmsghandler.go:583	onQueryP2PChatData:	{"msg count:": 0}
2026-01-01T21:19:28.648+0800	[35mDEBUG[0m	core/grouphelper.go:34	findGroupMembersFromId() 	{"groupId": 10001}
2026-01-01T21:19:28.650+0800	[35mDEBUG[0m	core/grouphelper.go:38	index=0, ID: 10001, Name: é£žé¸ŸçœŸäºº

2026-01-01T21:19:28.702+0800	[35mDEBUG[0m	core/grouphelper.go:34	findGroupMembersFromId() 	{"groupId": 10002}
2026-01-01T21:19:28.703+0800	[35mDEBUG[0m	core/grouphelper.go:38	index=0, ID: 10001, Name: é£žé¸ŸçœŸäºº

2026-01-01T21:19:28.756+0800	[35mDEBUG[0m	core/grouphelper.go:34	findGroupMembersFromId() 	{"groupId": 10003}
2026-01-01T21:19:28.756+0800	[35mDEBUG[0m	core/grouphelper.go:38	index=0, ID: 10001, Name: é£žé¸ŸçœŸäºº

2026-01-01T21:19:28.810+0800	[35mDEBUG[0m	core/grouphelper.go:34	findGroupMembersFromId() 	{"groupId": 10004}
2026-01-01T21:19:28.810+0800	[35mDEBUG[0m	core/grouphelper.go:38	index=0, ID: 10001, Name: é£žé¸ŸçœŸäºº

2026-01-01T21:21:30.878+0800	[34mINFO[0m	server/main.go:93	server started here...
2026-01-01T21:21:41.179+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"oA351KuKgPlJV5XpirvI7SY2UQVWmw8zojxFlRw=\"}"}
2026-01-01T21:21:41.351+0800	[35mDEBUG[0m	core/commonhelper.go:421	Load user permission list	{"user": 10001, "count": 0}
2026-01-01T21:21:41.351+0800	[34mINFO[0m	core/userhandler.go:1024	user(10001) login ok
2026-01-01T21:21:41.351+0800	[35mDEBUG[0m	core/userhandler.go:1025	user login ok	{"msg": {"version":1,"tm":1767273701351,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2026-01-01T21:21:41.461+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"nickName":"robin","email":"*","phone":"*"},{"userId":10004,"nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*"},{"userId":10005,"nickName":"robin","email":"*","phone":"*"},{"userId":10006,"nickName":"robin fox","email":"*","phone":"*"},{"userId":10007,"nickName":"yoyo","email":"*","phone":"*"}]}
2026-01-01T21:21:41.462+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(926827522870611968) MsgTFriendOpRet
2026-01-01T21:21:41.511+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2026-01-01T21:21:41.511+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(926827522870611968) MsgTFriendOpRet
2026-01-01T21:21:41.536+0800	[35mDEBUG[0m	core/grouphelper.go:195	LoadUserInGroupList from redis	{"uid": 10001, "gid": [10001, 10002, 10003, 10004]}
2026-01-01T21:21:41.537+0800	[35mDEBUG[0m	core/grouphelper.go:143	find group in redis	{"group_id": 10001}
2026-01-01T21:21:41.537+0800	[35mDEBUG[0m	core/grouphelper.go:98	loadGroupMembers() find group members in redis	{"group_id": 10001, "lst": [{"Pk":10001,"Role":1,"Gid":10001,"Uid":10001,"Tm":0,"Nick":"é£žé¸ŸçœŸäºº"}]}
2026-01-01T21:21:41.537+0800	[35mDEBUG[0m	core/grouphelper.go:104	loadGroupMembers() re-print group member in memory	{"group_id": 10001, "group": {"10001":{"Nick":"é£žé¸ŸçœŸäºº","U":{"UserInfo":{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}},"SessionId":[926827522870611968],"Status":0,"Block":{},"Following":{},"Fans":{},"Groups":{"10001":true,"10002":true,"10003":true,"10004":true},"SessionDis":{},"LastActiveTm":1767273701181}}}}
2026-01-01T21:21:41.538+0800	[35mDEBUG[0m	core/grouphelper.go:143	find group in redis	{"group_id": 10002}
2026-01-01T21:21:41.538+0800	[35mDEBUG[0m	core/grouphelper.go:98	loadGroupMembers() find group members in redis	{"group_id": 10002, "lst": [{"Pk":10002,"Role":1,"Gid":10002,"Uid":10001,"Tm":0,"Nick":"é£žé¸ŸçœŸäºº"}]}
2026-01-01T21:21:41.538+0800	[35mDEBUG[0m	core/grouphelper.go:104	loadGroupMembers() re-print group member in memory	{"group_id": 10002, "group": {"10001":{"Nick":"é£žé¸ŸçœŸäºº","U":{"UserInfo":{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}},"SessionId":[926827522870611968],"Status":0,"Block":{},"Following":{},"Fans":{},"Groups":{"10001":true,"10002":true,"10003":true,"10004":true},"SessionDis":{},"LastActiveTm":1767273701181}}}}
2026-01-01T21:21:41.539+0800	[35mDEBUG[0m	core/grouphelper.go:143	find group in redis	{"group_id": 10003}
2026-01-01T21:21:41.539+0800	[35mDEBUG[0m	core/grouphelper.go:98	loadGroupMembers() find group members in redis	{"group_id": 10003, "lst": [{"Pk":10003,"Role":1,"Gid":10003,"Uid":10001,"Tm":0,"Nick":"é£žé¸ŸçœŸäºº"}]}
2026-01-01T21:21:41.539+0800	[35mDEBUG[0m	core/grouphelper.go:104	loadGroupMembers() re-print group member in memory	{"group_id": 10003, "group": {"10001":{"Nick":"é£žé¸ŸçœŸäºº","U":{"UserInfo":{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}},"SessionId":[926827522870611968],"Status":0,"Block":{},"Following":{},"Fans":{},"Groups":{"10001":true,"10002":true,"10003":true,"10004":true},"SessionDis":{},"LastActiveTm":1767273701181}}}}
2026-01-01T21:21:41.539+0800	[35mDEBUG[0m	core/grouphelper.go:143	find group in redis	{"group_id": 10004}
2026-01-01T21:21:41.539+0800	[35mDEBUG[0m	core/grouphelper.go:98	loadGroupMembers() find group members in redis	{"group_id": 10004, "lst": [{"Pk":10004,"Role":1,"Gid":10004,"Uid":10001,"Tm":0,"Nick":"é£žé¸ŸçœŸäºº"}]}
2026-01-01T21:21:41.539+0800	[35mDEBUG[0m	core/grouphelper.go:104	loadGroupMembers() re-print group member in memory	{"group_id": 10004, "group": {"10001":{"Nick":"é£žé¸ŸçœŸäºº","U":{"UserInfo":{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}},"SessionId":[926827522870611968],"Status":0,"Block":{},"Following":{},"Fans":{},"Groups":{"10001":true,"10002":true,"10003":true,"10004":true},"SessionDis":{},"LastActiveTm":1767273701181}}}}
2026-01-01T21:21:41.582+0800	[35mDEBUG[0m	core/chatmsghandler.go:494	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:926820541472575489 chatType:ChatTypeP2P"}
2026-01-01T21:21:41.610+0800	[35mDEBUG[0m	core/chatmsghandler.go:583	onQueryP2PChatData:	{"msg count:": 0}
2026-01-01T21:21:41.637+0800	[35mDEBUG[0m	core/grouphelper.go:34	findGroupMembersFromId() 	{"groupId": 10001}
2026-01-01T21:21:41.638+0800	[35mDEBUG[0m	core/grouphelper.go:38	gid=10001, index=0, ID: 10001, Name: é£žé¸ŸçœŸäºº

2026-01-01T21:21:41.691+0800	[35mDEBUG[0m	core/grouphelper.go:34	findGroupMembersFromId() 	{"groupId": 10002}
2026-01-01T21:21:41.692+0800	[35mDEBUG[0m	core/grouphelper.go:38	gid=10002, index=0, ID: 10001, Name: é£žé¸ŸçœŸäºº

2026-01-01T21:21:41.749+0800	[35mDEBUG[0m	core/grouphelper.go:34	findGroupMembersFromId() 	{"groupId": 10003}
2026-01-01T21:21:41.749+0800	[35mDEBUG[0m	core/grouphelper.go:38	gid=10003, index=0, ID: 10001, Name: é£žé¸ŸçœŸäºº

2026-01-01T21:21:41.797+0800	[35mDEBUG[0m	core/grouphelper.go:34	findGroupMembersFromId() 	{"groupId": 10004}
2026-01-01T21:21:41.798+0800	[35mDEBUG[0m	core/grouphelper.go:38	gid=10004, index=0, ID: 10001, Name: é£žé¸ŸçœŸäºº

2026-01-01T21:22:43.990+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(3546) from 10001 -> 10002, type:ChatTypeGroup	{"msg": "MsgChat{msgId: 926827786755248128, userId: 10001, fromId: 10001, toId: 10002, tm: 1767273763869 (time: 2026-01-01 21:22:43), devId: \"47FCC883FB83DD2D\", sendId: 3546, msgType: TEXT, data: \"5\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeGroup, subMsgType: 0, keyPrint: 0, params: {}}"}
2026-01-01T21:22:44.019+0800	[35mDEBUG[0m	core/chatmsghandler.go:362	send back reply ok gid=10002, uid=10001
2026-01-01T21:24:25.122+0800	[35mDEBUG[0m	core/session.go:384	user(10001) session(926827522870611968) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2026-01-01T21:24:25.126+0800	[34mINFO[0m	core/session.go:256	user(10001) session(926827522870611968)
2026-01-01T21:25:07.149+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"WNirKlDt31QcHKkZsxl8UmkL8+Kg5uI9QrSKVvs=\"}"}
2026-01-01T21:25:07.150+0800	[34mINFO[0m	core/userhandler.go:1024	user(10001) login ok
2026-01-01T21:25:07.151+0800	[35mDEBUG[0m	core/userhandler.go:1025	user login ok	{"msg": {"version":1,"tm":1767273907150,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2026-01-01T21:25:07.186+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(926828386700103680) MsgTFriendOpRet
2026-01-01T21:25:07.246+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2026-01-01T21:25:07.246+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(926828386700103680) MsgTFriendOpRet
2026-01-01T21:25:07.306+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2026-01-01T21:25:07.306+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(926828386700103680) MsgTFriendOpRet
2026-01-01T21:25:07.344+0800	[35mDEBUG[0m	core/grouphelper.go:195	LoadUserInGroupList from redis	{"uid": 10001, "gid": [10001, 10002, 10003, 10004]}
2026-01-01T21:25:07.607+0800	[35mDEBUG[0m	core/chatmsghandler.go:494	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:926820541472575489 chatType:ChatTypeP2P"}
2026-01-01T21:25:07.638+0800	[35mDEBUG[0m	core/chatmsghandler.go:583	onQueryP2PChatData:	{"msg count:": 9}
2026-01-01T21:25:07.653+0800	[35mDEBUG[0m	core/grouphelper.go:34	findGroupMembersFromId() 	{"groupId": 10001}
2026-01-01T21:25:07.653+0800	[35mDEBUG[0m	core/grouphelper.go:38	gid=10001, index=0, ID: 10001, Name: é£žé¸ŸçœŸäºº

2026-01-01T21:25:07.698+0800	[35mDEBUG[0m	core/grouphelper.go:34	findGroupMembersFromId() 	{"groupId": 10002}
2026-01-01T21:25:07.699+0800	[35mDEBUG[0m	core/grouphelper.go:38	gid=10002, index=0, ID: 10001, Name: é£žé¸ŸçœŸäºº

2026-01-01T21:25:07.743+0800	[35mDEBUG[0m	core/grouphelper.go:34	findGroupMembersFromId() 	{"groupId": 10003}
2026-01-01T21:25:07.745+0800	[35mDEBUG[0m	core/grouphelper.go:38	gid=10003, index=0, ID: 10001, Name: é£žé¸ŸçœŸäºº

2026-01-01T21:25:07.796+0800	[35mDEBUG[0m	core/grouphelper.go:34	findGroupMembersFromId() 	{"groupId": 10004}
2026-01-01T21:25:07.796+0800	[35mDEBUG[0m	core/grouphelper.go:38	gid=10004, index=0, ID: 10001, Name: é£žé¸ŸçœŸäºº

2026-01-01T21:26:24.234+0800	[35mDEBUG[0m	core/chatmsghandler.go:124	receive chat msg(3570) from 10001 -> 10003, type:ChatTypeGroup	{"msg": "MsgChat{msgId: 926828710525538304, userId: 10001, fromId: 10001, toId: 10003, tm: 1767273984140 (time: 2026-01-01 21:26:24), devId: \"47FCC883FB83DD2D\", sendId: 3570, msgType: TEXT, data: \"2026\", priority: LOW, refMessageId: 0, status: SENDING, sendReply: 0, recvReply: 0, readReply: 0, encType: PLAIN, chatType: ChatTypeGroup, subMsgType: 0, keyPrint: 0, params: {}}"}
2026-01-01T21:26:24.247+0800	[35mDEBUG[0m	core/chatmsghandler.go:362	send back reply ok gid=10003, uid=10001
2026-01-01T21:27:09.361+0800	[35mDEBUG[0m	core/session.go:384	user(10001) session(926828386700103680) close here, because ws:readLoop() error, err=websocket: close 1006 (abnormal closure): unexpected EOF
2026-01-01T21:27:09.362+0800	[34mINFO[0m	core/session.go:256	user(10001) session(926828386700103680)
2026-01-01T21:35:16.944+0800	[35mDEBUG[0m	core/commonhandler.go:154	handle client hello msg	{"msg": "clientId:\"47FCC883FB83DD2D\" version:\"1.0\" platform:\"Xiaomi\" stage:\"clienthello\" keyPrint:4516930846336681555 params:{key:\"checkTokenData\" value:\"QKGcaRRYA89pY72hdFdM+sdOuGihVIuvAFzc5h8=\"}"}
2026-01-01T21:35:16.947+0800	[34mINFO[0m	core/userhandler.go:1024	user(10001) login ok
2026-01-01T21:35:16.948+0800	[35mDEBUG[0m	core/userhandler.go:1025	user login ok	{"msg": {"version":1,"tm":1767274516947,"msgType":32,"Message":{"PlainMsg":{"Message":{"UserOpRet":{"operation":7,"result":"ok","status":"loginok","users":[{"userId":10001,"userName":"user10001","nickName":"é£žé¸ŸçœŸäºº","email":"390017268@qq.com","gender":"ç”·","age":25,"icon":"52kd4rkimehj.jpg","intro":"æ— æ‰€ä½è€Œç”Ÿå…¶å¿ƒ","follows":6,"fans":2,"params":{"nfans":"","nfollows":"","title":"å…ˆç”Ÿ"}}],"params":{"status":"loginok"}}}}}}}
2026-01-01T21:35:17.026+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(926830944374099968) MsgTFriendOpRet
2026-01-01T21:35:17.086+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "follows", "friends": [{"userId":10002,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10004,"userName":"daisy","nickName":"é£žé¸ŸçœŸäºº","email":"*","phone":"*","gender":"ç”·","age":35,"region":"åŒ—äº¬","icon":"é£žé¸ŸçœŸäºº","intro":"æˆ‘æ˜¯ä¸€ä¸ªçˆ±è¿åŠ¨çš„åšä¸»>_<..."},{"userId":10005,"userName":"robin","nickName":"robin","email":"*","phone":"*"},{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2026-01-01T21:35:17.087+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(926830944374099968) MsgTFriendOpRet
2026-01-01T21:35:17.132+0800	[35mDEBUG[0m	core/friendhandler.go:697	handleFriendList()	{"uid": 10001, "mode": "fans", "friends": [{"userId":10006,"userName":"user10006","nickName":"robin fox","email":"*","phone":"*","gender":"ç”·","age":25,"icon":"8w4to2b2sp7e.jpg","intro":"æµ‹è¯•ç”¨æˆ·ï¼Œå°ç±³6"},{"userId":10007,"userName":"user10007","nickName":"yoyo","email":"*","phone":"*","gender":"å¥³","age":20,"icon":"2ekmo7ba7u9vd.jpg","intro":"å°æ¥¼æ˜¨å¤œåˆä¸œé£Ž"}]}
2026-01-01T21:35:17.133+0800	[35mDEBUG[0m	core/msghelper.go:36	send to user(10001) sid(926830944374099968) MsgTFriendOpRet
2026-01-01T21:35:17.171+0800	[35mDEBUG[0m	core/grouphelper.go:195	LoadUserInGroupList from redis	{"uid": 10001, "gid": [10001, 10002, 10003, 10004]}
2026-01-01T21:35:17.427+0800	[35mDEBUG[0m	core/chatmsghandler.go:494	onQueryChatData:	{"queryMsg.QueryType": "QueryDataTypeChatData", "query": "bigId:9223372036854775807 littleId:926828183171502081 chatType:ChatTypeP2P"}
2026-01-01T21:35:17.438+0800	[35mDEBUG[0m	core/chatmsghandler.go:583	onQueryP2PChatData:	{"msg count:": 10}
2026-01-01T21:35:17.477+0800	[35mDEBUG[0m	core/grouphelper.go:34	findGroupMembersFromId() 	{"groupId": 10001}
2026-01-01T21:35:17.478+0800	[35mDEBUG[0m	core/grouphelper.go:38	gid=10001, index=0, ID: 10001, Name: é£žé¸ŸçœŸäºº

2026-01-01T21:35:17.532+0800	[35mDEBUG[0m	core/grouphelper.go:34	findGroupMembersFromId() 	{"groupId": 10002}
2026-01-01T21:35:17.534+0800	[35mDEBUG[0m	core/grouphelper.go:38	gid=10002, index=0, ID: 10001, Name: é£žé¸ŸçœŸäºº

2026-01-01T21:35:17.579+0800	[35mDEBUG[0m	core/grouphelper.go:34	findGroupMembersFromId() 	{"groupId": 10003}
2026-01-01T21:35:17.580+0800	[35mDEBUG[0m	core/grouphelper.go:38	gid=10003, index=0, ID: 10001, Name: é£žé¸ŸçœŸäºº

2026-01-01T21:35:17.634+0800	[35mDEBUG[0m	core/grouphelper.go:34	findGroupMembersFromId() 	{"groupId": 10004}
2026-01-01T21:35:17.634+0800	[35mDEBUG[0m	core/grouphelper.go:38	gid=10004, index=0, ID: 10001, Name: é£žé¸ŸçœŸäºº

